/*! For license information please see bundle.4b206450c8a27ac0ffd1.js.LICENSE.txt */
!function(){"use strict";var t={411:function(t,e,i){var o=i(354),r=i.n(o),n=i(314),a=i.n(n)()(r());a.push([t.id,'.tabulator{background-color:#888;border:1px solid #999;font-size:14px;overflow:hidden;position:relative;text-align:left;-webkit-transform:translateZ(0);-moz-transform:translateZ(0);-ms-transform:translateZ(0);-o-transform:translateZ(0);transform:translateZ(0)}.tabulator[tabulator-layout=fitDataFill] .tabulator-tableholder .tabulator-table{min-width:100%}.tabulator[tabulator-layout=fitDataTable]{display:inline-block}.tabulator.tabulator-block-select,.tabulator.tabulator-ranges .tabulator-cell:not(.tabulator-editing){user-select:none}.tabulator .tabulator-header{background-color:#e6e6e6;border-bottom:1px solid #999;box-sizing:border-box;color:#555;font-weight:700;outline:none;overflow:hidden;position:relative;-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-o-user-select:none;white-space:nowrap;width:100%}.tabulator .tabulator-header.tabulator-header-hidden{display:none}.tabulator .tabulator-header .tabulator-header-contents{overflow:hidden;position:relative}.tabulator .tabulator-header .tabulator-header-contents .tabulator-headers{display:inline-block}.tabulator .tabulator-header .tabulator-col{background:#e6e6e6;border-right:1px solid #aaa;box-sizing:border-box;display:inline-flex;flex-direction:column;justify-content:flex-start;overflow:hidden;position:relative;text-align:left;vertical-align:bottom}.tabulator .tabulator-header .tabulator-col.tabulator-moving{background:#cdcdcd;border:1px solid #999;pointer-events:none;position:absolute}.tabulator .tabulator-header .tabulator-col.tabulator-range-highlight{background-color:#d6d6d6;color:#000}.tabulator .tabulator-header .tabulator-col.tabulator-range-selected{background-color:#3876ca;color:#fff}.tabulator .tabulator-header .tabulator-col .tabulator-col-content{box-sizing:border-box;padding:4px;position:relative}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-header-popup-button{padding:0 8px}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-header-popup-button:hover{cursor:pointer;opacity:.6}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-title-holder{position:relative}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-title{box-sizing:border-box;overflow:hidden;text-overflow:ellipsis;vertical-align:bottom;white-space:nowrap;width:100%}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-title.tabulator-col-title-wrap{text-overflow:clip;white-space:normal}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-title .tabulator-title-editor{background:#fff;border:1px solid #999;box-sizing:border-box;padding:1px;width:100%}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-title .tabulator-header-popup-button+.tabulator-title-editor{width:calc(100% - 22px)}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-sorter{align-items:center;bottom:0;display:flex;position:absolute;right:4px;top:0}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-sorter .tabulator-arrow{border-bottom:6px solid #bbb;border-left:6px solid transparent;border-right:6px solid transparent;height:0;width:0}.tabulator .tabulator-header .tabulator-col.tabulator-col-group .tabulator-col-group-cols{border-top:1px solid #aaa;display:flex;margin-right:-1px;overflow:hidden;position:relative}.tabulator .tabulator-header .tabulator-col .tabulator-header-filter{box-sizing:border-box;margin-top:2px;position:relative;text-align:center;width:100%}.tabulator .tabulator-header .tabulator-col .tabulator-header-filter textarea{height:auto!important}.tabulator .tabulator-header .tabulator-col .tabulator-header-filter svg{margin-top:3px}.tabulator .tabulator-header .tabulator-col .tabulator-header-filter input::-ms-clear{height:0;width:0}.tabulator .tabulator-header .tabulator-col.tabulator-sortable .tabulator-col-title{padding-right:25px}@media (hover:hover) and (pointer:fine){.tabulator .tabulator-header .tabulator-col.tabulator-sortable.tabulator-col-sorter-element:hover{background-color:#cdcdcd;cursor:pointer}}.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=none] .tabulator-col-content .tabulator-col-sorter{color:#bbb}@media (hover:hover) and (pointer:fine){.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=none] .tabulator-col-content .tabulator-col-sorter.tabulator-col-sorter-element .tabulator-arrow:hover{border-bottom:6px solid #555;cursor:pointer}}.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=none] .tabulator-col-content .tabulator-col-sorter .tabulator-arrow{border-bottom:6px solid #bbb;border-top:none}.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=ascending] .tabulator-col-content .tabulator-col-sorter{color:#666}@media (hover:hover) and (pointer:fine){.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=ascending] .tabulator-col-content .tabulator-col-sorter.tabulator-col-sorter-element .tabulator-arrow:hover{border-bottom:6px solid #555;cursor:pointer}}.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=ascending] .tabulator-col-content .tabulator-col-sorter .tabulator-arrow{border-bottom:6px solid #666;border-top:none}.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=descending] .tabulator-col-content .tabulator-col-sorter{color:#666}@media (hover:hover) and (pointer:fine){.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=descending] .tabulator-col-content .tabulator-col-sorter.tabulator-col-sorter-element .tabulator-arrow:hover{border-top:6px solid #555;cursor:pointer}}.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=descending] .tabulator-col-content .tabulator-col-sorter .tabulator-arrow{border-bottom:none;border-top:6px solid #666;color:#666}.tabulator .tabulator-header .tabulator-col.tabulator-col-vertical .tabulator-col-content .tabulator-col-title{align-items:center;display:flex;justify-content:center;text-orientation:mixed;writing-mode:vertical-rl}.tabulator .tabulator-header .tabulator-col.tabulator-col-vertical.tabulator-col-vertical-flip .tabulator-col-title{transform:rotate(180deg)}.tabulator .tabulator-header .tabulator-col.tabulator-col-vertical.tabulator-sortable .tabulator-col-title{padding-right:0;padding-top:20px}.tabulator .tabulator-header .tabulator-col.tabulator-col-vertical.tabulator-sortable.tabulator-col-vertical-flip .tabulator-col-title{padding-bottom:20px;padding-right:0}.tabulator .tabulator-header .tabulator-col.tabulator-col-vertical.tabulator-sortable .tabulator-col-sorter{bottom:auto;justify-content:center;left:0;right:0;top:4px}.tabulator .tabulator-header .tabulator-frozen{left:0;position:sticky;z-index:11}.tabulator .tabulator-header .tabulator-frozen.tabulator-frozen-left{border-right:2px solid #aaa}.tabulator .tabulator-header .tabulator-frozen.tabulator-frozen-right{border-left:2px solid #aaa}.tabulator .tabulator-header .tabulator-calcs-holder{background:#f3f3f3!important;border-bottom:1px solid #aaa;border-top:1px solid #aaa;box-sizing:border-box;display:inline-block}.tabulator .tabulator-header .tabulator-calcs-holder .tabulator-row{background:#f3f3f3!important}.tabulator .tabulator-header .tabulator-calcs-holder .tabulator-row .tabulator-col-resize-handle{display:none}.tabulator .tabulator-header .tabulator-frozen-rows-holder{display:inline-block}.tabulator .tabulator-header .tabulator-frozen-rows-holder:empty{display:none}.tabulator .tabulator-tableholder{-webkit-overflow-scrolling:touch;overflow:auto;position:relative;white-space:nowrap;width:100%}.tabulator .tabulator-tableholder:focus{outline:none}.tabulator .tabulator-tableholder .tabulator-placeholder{align-items:center;box-sizing:border-box;display:flex;justify-content:center;min-width:100%;width:100%}.tabulator .tabulator-tableholder .tabulator-placeholder[tabulator-render-mode=virtual]{min-height:100%}.tabulator .tabulator-tableholder .tabulator-placeholder .tabulator-placeholder-contents{color:#ccc;display:inline-block;font-size:20px;font-weight:700;padding:10px;text-align:center;white-space:normal}.tabulator .tabulator-tableholder .tabulator-table{background-color:#fff;color:#333;display:inline-block;overflow:visible;position:relative;white-space:nowrap}.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-calcs{background:#e2e2e2!important;font-weight:700}.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-calcs.tabulator-calcs-top{border-bottom:2px solid #aaa}.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-calcs.tabulator-calcs-bottom{border-top:2px solid #aaa}.tabulator .tabulator-tableholder .tabulator-range-overlay{inset:0;pointer-events:none;position:absolute;z-index:10}.tabulator .tabulator-tableholder .tabulator-range-overlay .tabulator-range{border:1px solid #2975dd;box-sizing:border-box;position:absolute}.tabulator .tabulator-tableholder .tabulator-range-overlay .tabulator-range.tabulator-range-active:after{background-color:#2975dd;border-radius:999px;bottom:-3px;content:"";height:6px;position:absolute;right:-3px;width:6px}.tabulator .tabulator-tableholder .tabulator-range-overlay .tabulator-range-cell-active{border:2px solid #2975dd;box-sizing:border-box;position:absolute}.tabulator .tabulator-footer{background-color:#e6e6e6;border-top:1px solid #999;color:#555;font-weight:700;user-select:none;-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-o-user-select:none;white-space:nowrap}.tabulator .tabulator-footer .tabulator-footer-contents{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:5px 10px}.tabulator .tabulator-footer .tabulator-footer-contents:empty{display:none}.tabulator .tabulator-footer .tabulator-calcs-holder{background:#f3f3f3!important;border-bottom:1px solid #aaa;border-top:1px solid #aaa;box-sizing:border-box;overflow:hidden;text-align:left;width:100%}.tabulator .tabulator-footer .tabulator-calcs-holder .tabulator-row{background:#f3f3f3!important;display:inline-block}.tabulator .tabulator-footer .tabulator-calcs-holder .tabulator-row .tabulator-col-resize-handle{display:none}.tabulator .tabulator-footer .tabulator-calcs-holder:only-child{border-bottom:none;margin-bottom:-5px}.tabulator .tabulator-footer>*+.tabulator-page-counter{margin-left:10px}.tabulator .tabulator-footer .tabulator-page-counter{font-weight:400}.tabulator .tabulator-footer .tabulator-paginator{color:#555;flex:1;font-family:inherit;font-size:inherit;font-weight:inherit;text-align:right}.tabulator .tabulator-footer .tabulator-page-size{border:1px solid #aaa;border-radius:3px;display:inline-block;margin:0 5px;padding:2px 5px}.tabulator .tabulator-footer .tabulator-pages{margin:0 7px}.tabulator .tabulator-footer .tabulator-page{background:hsla(0,0%,100%,.2);border:1px solid #aaa;border-radius:3px;display:inline-block;margin:0 2px;padding:2px 5px}.tabulator .tabulator-footer .tabulator-page.active{color:#d00}.tabulator .tabulator-footer .tabulator-page:disabled{opacity:.5}@media (hover:hover) and (pointer:fine){.tabulator .tabulator-footer .tabulator-page:not(disabled):hover{background:rgba(0,0,0,.2);color:#fff;cursor:pointer}}.tabulator .tabulator-col-resize-handle{display:inline-block;margin-left:-3px;margin-right:-3px;position:relative;vertical-align:middle;width:6px;z-index:11}@media (hover:hover) and (pointer:fine){.tabulator .tabulator-col-resize-handle:hover{cursor:ew-resize}}.tabulator .tabulator-col-resize-handle:last-of-type{margin-right:0;width:3px}.tabulator .tabulator-alert{align-items:center;background:rgba(0,0,0,.4);display:flex;height:100%;left:0;position:absolute;text-align:center;top:0;width:100%;z-index:100}.tabulator .tabulator-alert .tabulator-alert-msg{background:#fff;border-radius:10px;display:inline-block;font-size:16px;font-weight:700;margin:0 auto;padding:10px 20px}.tabulator .tabulator-alert .tabulator-alert-msg.tabulator-alert-state-msg{border:4px solid #333;color:#000}.tabulator .tabulator-alert .tabulator-alert-msg.tabulator-alert-state-error{border:4px solid #d00;color:#590000}.tabulator-row{background-color:#fff;box-sizing:border-box;min-height:22px;position:relative}.tabulator-row.tabulator-row-even{background-color:#efefef}@media (hover:hover) and (pointer:fine){.tabulator-row.tabulator-selectable:hover{background-color:#bbb;cursor:pointer}}.tabulator-row.tabulator-selected{background-color:#9abcea}@media (hover:hover) and (pointer:fine){.tabulator-row.tabulator-selected:hover{background-color:#769bcc;cursor:pointer}}.tabulator-row.tabulator-row-moving{background:#fff;border:1px solid #000}.tabulator-row.tabulator-moving{border-bottom:1px solid #aaa;border-top:1px solid #aaa;pointer-events:none;position:absolute;z-index:15}.tabulator-row.tabulator-range-highlight .tabulator-cell.tabulator-range-row-header{background-color:#d6d6d6;color:#000}.tabulator-row.tabulator-range-highlight.tabulator-range-selected .tabulator-cell.tabulator-range-row-header,.tabulator-row.tabulator-range-selected .tabulator-cell.tabulator-range-row-header{background-color:#3876ca;color:#fff}.tabulator-row .tabulator-row-resize-handle{bottom:0;height:5px;left:0;position:absolute;right:0}.tabulator-row .tabulator-row-resize-handle.prev{bottom:auto;top:0}@media (hover:hover) and (pointer:fine){.tabulator-row .tabulator-row-resize-handle:hover{cursor:ns-resize}}.tabulator-row .tabulator-responsive-collapse{border-bottom:1px solid #aaa;border-top:1px solid #aaa;box-sizing:border-box;padding:5px}.tabulator-row .tabulator-responsive-collapse:empty{display:none}.tabulator-row .tabulator-responsive-collapse table{font-size:14px}.tabulator-row .tabulator-responsive-collapse table tr td{position:relative}.tabulator-row .tabulator-responsive-collapse table tr td:first-of-type{padding-right:10px}.tabulator-row .tabulator-cell{border-right:1px solid #aaa;box-sizing:border-box;display:inline-block;outline:none;overflow:hidden;padding:4px;position:relative;text-overflow:ellipsis;vertical-align:middle;white-space:nowrap}.tabulator-row .tabulator-cell.tabulator-frozen{background-color:inherit;display:inline-block;left:0;position:sticky;z-index:11}.tabulator-row .tabulator-cell.tabulator-frozen.tabulator-frozen-left{border-right:2px solid #aaa}.tabulator-row .tabulator-cell.tabulator-frozen.tabulator-frozen-right{border-left:2px solid #aaa}.tabulator-row .tabulator-cell.tabulator-editing{border:1px solid #1d68cd;outline:none;padding:0}.tabulator-row .tabulator-cell.tabulator-editing input,.tabulator-row .tabulator-cell.tabulator-editing select{background:transparent;border:1px;outline:none}.tabulator-row .tabulator-cell.tabulator-validation-fail{border:1px solid #d00}.tabulator-row .tabulator-cell.tabulator-validation-fail input,.tabulator-row .tabulator-cell.tabulator-validation-fail select{background:transparent;border:1px;color:#d00}.tabulator-row .tabulator-cell.tabulator-row-handle{align-items:center;display:inline-flex;justify-content:center;-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-o-user-select:none}.tabulator-row .tabulator-cell.tabulator-row-handle .tabulator-row-handle-box{width:80%}.tabulator-row .tabulator-cell.tabulator-row-handle .tabulator-row-handle-box .tabulator-row-handle-bar{background:#666;height:3px;margin-top:2px;width:100%}.tabulator-row .tabulator-cell.tabulator-range-selected:not(.tabulator-range-only-cell-selected):not(.tabulator-range-row-header){background-color:#9abcea}.tabulator-row .tabulator-cell .tabulator-data-tree-branch-empty{display:inline-block;width:7px}.tabulator-row .tabulator-cell .tabulator-data-tree-branch{border-bottom:2px solid #aaa;border-bottom-left-radius:1px;border-left:2px solid #aaa;display:inline-block;height:9px;margin-right:5px;margin-top:-9px;vertical-align:middle;width:7px}.tabulator-row .tabulator-cell .tabulator-data-tree-control{align-items:center;background:rgba(0,0,0,.1);border:1px solid #333;border-radius:2px;display:inline-flex;height:11px;justify-content:center;margin-right:5px;overflow:hidden;vertical-align:middle;width:11px}@media (hover:hover) and (pointer:fine){.tabulator-row .tabulator-cell .tabulator-data-tree-control:hover{background:rgba(0,0,0,.2);cursor:pointer}}.tabulator-row .tabulator-cell .tabulator-data-tree-control .tabulator-data-tree-control-collapse{background:transparent;display:inline-block;height:7px;position:relative;width:1px}.tabulator-row .tabulator-cell .tabulator-data-tree-control .tabulator-data-tree-control-collapse:after{background:#333;content:"";height:1px;left:-3px;position:absolute;top:3px;width:7px}.tabulator-row .tabulator-cell .tabulator-data-tree-control .tabulator-data-tree-control-expand{background:#333;display:inline-block;height:7px;position:relative;width:1px}.tabulator-row .tabulator-cell .tabulator-data-tree-control .tabulator-data-tree-control-expand:after{background:#333;content:"";height:1px;left:-3px;position:absolute;top:3px;width:7px}.tabulator-row .tabulator-cell .tabulator-responsive-collapse-toggle{align-items:center;background:#666;border-radius:20px;color:#fff;display:inline-flex;font-size:1.1em;font-weight:700;height:15px;justify-content:center;-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-o-user-select:none;width:15px}@media (hover:hover) and (pointer:fine){.tabulator-row .tabulator-cell .tabulator-responsive-collapse-toggle:hover{cursor:pointer;opacity:.7}}.tabulator-row .tabulator-cell .tabulator-responsive-collapse-toggle.open .tabulator-responsive-collapse-toggle-close{display:initial}.tabulator-row .tabulator-cell .tabulator-responsive-collapse-toggle.open .tabulator-responsive-collapse-toggle-open{display:none}.tabulator-row .tabulator-cell .tabulator-responsive-collapse-toggle svg{stroke:#fff}.tabulator-row .tabulator-cell .tabulator-responsive-collapse-toggle .tabulator-responsive-collapse-toggle-close{display:none}.tabulator-row .tabulator-cell .tabulator-traffic-light{border-radius:14px;display:inline-block;height:14px;width:14px}.tabulator-row.tabulator-group{background:#ccc;border-bottom:1px solid #999;border-right:1px solid #aaa;border-top:1px solid #999;box-sizing:border-box;font-weight:700;min-width:100%;padding:5px 5px 5px 10px}@media (hover:hover) and (pointer:fine){.tabulator-row.tabulator-group:hover{background-color:rgba(0,0,0,.1);cursor:pointer}}.tabulator-row.tabulator-group.tabulator-group-visible .tabulator-arrow{border-bottom:0;border-left:6px solid transparent;border-right:6px solid transparent;border-top:6px solid #666;margin-right:10px}.tabulator-row.tabulator-group.tabulator-group-level-1{padding-left:30px}.tabulator-row.tabulator-group.tabulator-group-level-2{padding-left:50px}.tabulator-row.tabulator-group.tabulator-group-level-3{padding-left:70px}.tabulator-row.tabulator-group.tabulator-group-level-4{padding-left:90px}.tabulator-row.tabulator-group.tabulator-group-level-5{padding-left:110px}.tabulator-row.tabulator-group .tabulator-group-toggle{display:inline-block}.tabulator-row.tabulator-group .tabulator-arrow{border-bottom:6px solid transparent;border-left:6px solid #666;border-right:0;border-top:6px solid transparent;display:inline-block;height:0;margin-right:16px;vertical-align:middle;width:0}.tabulator-row.tabulator-group span{color:#d00;margin-left:10px}.tabulator-popup-container{-webkit-overflow-scrolling:touch;background:#fff;border:1px solid #aaa;box-shadow:0 0 5px 0 rgba(0,0,0,.2);box-sizing:border-box;display:inline-block;font-size:14px;overflow-y:auto;position:absolute;z-index:10000}.tabulator-popup{border-radius:3px;padding:5px}.tabulator-tooltip{border-radius:2px;box-shadow:none;font-size:12px;max-width:Min(500px,100%);padding:3px 5px;pointer-events:none}.tabulator-menu .tabulator-menu-item{box-sizing:border-box;padding:5px 10px;position:relative;user-select:none}.tabulator-menu .tabulator-menu-item.tabulator-menu-item-disabled{opacity:.5}@media (hover:hover) and (pointer:fine){.tabulator-menu .tabulator-menu-item:not(.tabulator-menu-item-disabled):hover{background:#efefef;cursor:pointer}}.tabulator-menu .tabulator-menu-item.tabulator-menu-item-submenu{padding-right:25px}.tabulator-menu .tabulator-menu-item.tabulator-menu-item-submenu:after{border-color:#aaa;border-style:solid;border-width:1px 1px 0 0;content:"";display:inline-block;height:7px;position:absolute;right:10px;top:calc(5px + .4em);transform:rotate(45deg);vertical-align:top;width:7px}.tabulator-menu .tabulator-menu-separator{border-top:1px solid #aaa}.tabulator-edit-list{-webkit-overflow-scrolling:touch;font-size:14px;max-height:200px;overflow-y:auto}.tabulator-edit-list .tabulator-edit-list-item{color:#333;outline:none;padding:4px}.tabulator-edit-list .tabulator-edit-list-item.active{background:#1d68cd;color:#fff}.tabulator-edit-list .tabulator-edit-list-item.active.focused{outline:1px solid hsla(0,0%,100%,.5)}.tabulator-edit-list .tabulator-edit-list-item.focused{outline:1px solid #1d68cd}@media (hover:hover) and (pointer:fine){.tabulator-edit-list .tabulator-edit-list-item:hover{background:#1d68cd;color:#fff;cursor:pointer}}.tabulator-edit-list .tabulator-edit-list-placeholder{color:#333;padding:4px;text-align:center}.tabulator-edit-list .tabulator-edit-list-group{border-bottom:1px solid #aaa;color:#333;font-weight:700;padding:6px 4px 4px}.tabulator-edit-list .tabulator-edit-list-group.tabulator-edit-list-group-level-2,.tabulator-edit-list .tabulator-edit-list-item.tabulator-edit-list-group-level-2{padding-left:12px}.tabulator-edit-list .tabulator-edit-list-group.tabulator-edit-list-group-level-3,.tabulator-edit-list .tabulator-edit-list-item.tabulator-edit-list-group-level-3{padding-left:20px}.tabulator-edit-list .tabulator-edit-list-group.tabulator-edit-list-group-level-4,.tabulator-edit-list .tabulator-edit-list-item.tabulator-edit-list-group-level-4{padding-left:28px}.tabulator-edit-list .tabulator-edit-list-group.tabulator-edit-list-group-level-5,.tabulator-edit-list .tabulator-edit-list-item.tabulator-edit-list-group-level-5{padding-left:36px}.tabulator.tabulator-ltr{direction:ltr}.tabulator.tabulator-rtl{direction:rtl;text-align:initial}.tabulator.tabulator-rtl .tabulator-header .tabulator-col{border-left:1px solid #aaa;border-right:initial;text-align:initial}.tabulator.tabulator-rtl .tabulator-header .tabulator-col.tabulator-col-group .tabulator-col-group-cols{margin-left:-1px;margin-right:0}.tabulator.tabulator-rtl .tabulator-header .tabulator-col.tabulator-sortable .tabulator-col-title{padding-left:25px;padding-right:0}.tabulator.tabulator-rtl .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-sorter{left:8px;right:auto}.tabulator.tabulator-rtl .tabulator-row .tabulator-cell{border-left:1px solid #aaa;border-right:initial}.tabulator.tabulator-rtl .tabulator-row .tabulator-cell .tabulator-data-tree-branch{border-bottom-left-radius:0;border-bottom-right-radius:1px;border-left:initial;border-right:2px solid #aaa;margin-left:5px;margin-right:0}.tabulator.tabulator-rtl .tabulator-row .tabulator-cell .tabulator-data-tree-control{margin-left:5px;margin-right:0}.tabulator.tabulator-rtl .tabulator-row .tabulator-cell.tabulator-frozen.tabulator-frozen-left{border-left:2px solid #aaa}.tabulator.tabulator-rtl .tabulator-row .tabulator-cell.tabulator-frozen.tabulator-frozen-right{border-right:2px solid #aaa}.tabulator.tabulator-rtl .tabulator-row .tabulator-col-resize-handle:last-of-type{margin-left:0;margin-right:-3px;width:3px}.tabulator.tabulator-rtl .tabulator-footer .tabulator-calcs-holder{text-align:initial}.tabulator-print-fullscreen{bottom:0;left:0;position:absolute;right:0;top:0;z-index:10000}body.tabulator-print-fullscreen-hide>:not(.tabulator-print-fullscreen){display:none!important}.tabulator-print-table{border-collapse:collapse}.tabulator-print-table .tabulator-data-tree-branch{border-bottom:2px solid #aaa;border-bottom-left-radius:1px;border-left:2px solid #aaa;display:inline-block;height:9px;margin-right:5px;margin-top:-9px;vertical-align:middle;width:7px}.tabulator-print-table .tabulator-print-table-group{background:#ccc;border-bottom:1px solid #999;border-right:1px solid #aaa;border-top:1px solid #999;box-sizing:border-box;font-weight:700;min-width:100%;padding:5px 5px 5px 10px}@media (hover:hover) and (pointer:fine){.tabulator-print-table .tabulator-print-table-group:hover{background-color:rgba(0,0,0,.1);cursor:pointer}}.tabulator-print-table .tabulator-print-table-group.tabulator-group-visible .tabulator-arrow{border-bottom:0;border-left:6px solid transparent;border-right:6px solid transparent;border-top:6px solid #666;margin-right:10px}.tabulator-print-table .tabulator-print-table-group.tabulator-group-level-1 td{padding-left:30px!important}.tabulator-print-table .tabulator-print-table-group.tabulator-group-level-2 td{padding-left:50px!important}.tabulator-print-table .tabulator-print-table-group.tabulator-group-level-3 td{padding-left:70px!important}.tabulator-print-table .tabulator-print-table-group.tabulator-group-level-4 td{padding-left:90px!important}.tabulator-print-table .tabulator-print-table-group.tabulator-group-level-5 td{padding-left:110px!important}.tabulator-print-table .tabulator-print-table-group .tabulator-group-toggle{display:inline-block}.tabulator-print-table .tabulator-print-table-group .tabulator-arrow{border-bottom:6px solid transparent;border-left:6px solid #666;border-right:0;border-top:6px solid transparent;display:inline-block;height:0;margin-right:16px;vertical-align:middle;width:0}.tabulator-print-table .tabulator-print-table-group span{color:#d00;margin-left:10px}.tabulator-print-table .tabulator-data-tree-control{align-items:center;background:rgba(0,0,0,.1);border:1px solid #333;border-radius:2px;display:inline-flex;height:11px;justify-content:center;margin-right:5px;overflow:hidden;vertical-align:middle;width:11px}@media (hover:hover) and (pointer:fine){.tabulator-print-table .tabulator-data-tree-control:hover{background:rgba(0,0,0,.2);cursor:pointer}}.tabulator-print-table .tabulator-data-tree-control .tabulator-data-tree-control-collapse{background:transparent;display:inline-block;height:7px;position:relative;width:1px}.tabulator-print-table .tabulator-data-tree-control .tabulator-data-tree-control-collapse:after{background:#333;content:"";height:1px;left:-3px;position:absolute;top:3px;width:7px}.tabulator-print-table .tabulator-data-tree-control .tabulator-data-tree-control-expand{background:#333;display:inline-block;height:7px;position:relative;width:1px}.tabulator-print-table .tabulator-data-tree-control .tabulator-data-tree-control-expand:after{background:#333;content:"";height:1px;left:-3px;position:absolute;top:3px;width:7px}\n/*# sourceMappingURL=tabulator.min.css.map */',"",{version:3,sources:["webpack://./node_modules/tabulator-tables/dist/css/tabulator.scss","webpack://./node_modules/tabulator-tables/dist/css/tabulator.min.css"],names:[],mappings:"AAAA,WAGE,qBAAsB,CADtB,qBAAsB,CAEtB,cAAe,CAEf,eAAgB,CALhB,iBAAkB,CAIlB,eAAgB,CAEhB,+BAAgC,CAChC,4BAA6B,CAC7B,2BAA4B,CAC5B,0BAA2B,CAC3B,uBAA0B,CAC1B,iFACE,cAAiB,CACnB,0CACE,oBAAuB,CAGzB,sGACE,gBAAmB,CACrB,6BAKE,wBAAyB,CADzB,4BAA6B,CAF7B,qBAAsB,CAItB,UAAW,CACX,eAAiB,CAOjB,YAAa,CALb,eAAgB,CARhB,iBAAkB,CASlB,qBAAsB,CACtB,uBAAwB,CACxB,wBAAyB,CACzB,mBAAoB,CALpB,kBAAmB,CALnB,UAWe,CACf,qDACE,YAAe,CACjB,wDAEE,eAAgB,CADhB,iBACkB,CAClB,2EACE,oBAAuB,CAC3B,4CAOE,kBAAmB,CADnB,2BAA4B,CAH5B,qBAAsB,CAFtB,mBAAoB,CAGpB,qBAAsB,CACtB,0BAA2B,CAK3B,eAAgB,CARhB,iBAAkB,CAMlB,eAAgB,CAChB,qBACkB,CAClB,6DAGE,kBAAmB,CADnB,qBAAsB,CAEtB,mBAAoB,CAHpB,iBAGsB,CACxB,sEACE,wBAAyB,CACzB,UAAgB,CAClB,qEACE,wBAAyB,CACzB,UAAgB,CAClB,mEACE,qBAAsB,CAEtB,WAAY,CADZ,iBACc,CACd,kGACE,aAAgB,CAChB,wGACE,cAAe,CACf,UAAa,CACjB,+FACE,iBAAoB,CACtB,wFACE,qBAAsB,CAGtB,eAAgB,CAChB,sBAAuB,CACvB,qBAAsB,CAHtB,kBAAmB,CADnB,UAIwB,CACxB,iHAEE,kBAAsB,CADtB,kBACwB,CAC1B,gHAKE,eAAgB,CAFhB,qBAAsB,CAFtB,qBAAsB,CAGtB,WAAY,CAFZ,UAGkB,CACpB,+IACE,uBAA0B,CAC9B,yFAEE,kBAAmB,CAGnB,QAAS,CAJT,YAAa,CAEb,iBAAkB,CAGlB,SAAU,CAFV,KAEY,CACZ,0GAKE,4BAA6B,CAF7B,iCAAkC,CAClC,kCAAmC,CAFnC,QAAS,CADT,OAI+B,CACrC,0FAGE,yBAA0B,CAD1B,YAAa,CAGb,iBAAkB,CADlB,eAAgB,CAHhB,iBAIoB,CACtB,qEAEE,qBAAsB,CACtB,cAAe,CAFf,iBAAkB,CAIlB,iBAAkB,CADlB,UACoB,CACpB,8EACE,qBAAyB,CAC3B,yEACE,cAAiB,CACnB,sFAEE,QAAS,CADT,OACW,CACf,oFACE,kBAAqB,CACvB,wCACE,kGAEE,wBAAyB,CADzB,cAC2B,CAAE,CACjC,4HACE,UAAa,CACb,wCACE,gLAEE,4BAA6B,CAD7B,cAC+B,CAAE,CACrC,6IAEE,4BAA6B,CAD7B,eAC+B,CACnC,iIACE,UAAa,CACb,wCACE,qLAEE,4BAA6B,CAD7B,cAC+B,CAAE,CACrC,kJAEE,4BAA6B,CAD7B,eAC+B,CACnC,kIACE,UAAa,CACb,wCACE,sLAEE,yBAA0B,CAD1B,cAC4B,CAAE,CAClC,mJACE,kBAAmB,CACnB,yBAA0B,CAC1B,UAAa,CACjB,+GAIE,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAHvB,sBAAuB,CADvB,wBAIyB,CAC3B,oHACE,wBAA2B,CAC7B,2GACE,eAAgB,CAChB,gBAAmB,CACrB,uIAEE,mBAAoB,CADpB,eACsB,CACxB,4GAKE,WAAY,CAJZ,sBAAuB,CACvB,MAAO,CACP,OAAQ,CACR,OACc,CAClB,+CAEE,MAAO,CADP,eAAgB,CAEhB,UAAa,CACb,qEACE,2BAA8B,CAChC,sEACE,0BAA6B,CACjC,qDAGE,4BAA8B,CAE9B,4BAA6B,CAD7B,yBAA0B,CAH1B,qBAAsB,CACtB,oBAG+B,CAC/B,oEACE,4BAAgC,CAChC,iGACE,YAAe,CACrB,2DACE,oBAAuB,CACvB,iEACE,YAAe,CACrB,kCAKE,gCAAiC,CADjC,aAAc,CAHd,iBAAkB,CAElB,kBAAmB,CADnB,UAGmC,CACnC,wCACE,YAAe,CACjB,yDAGE,kBAAmB,CAFnB,qBAAsB,CACtB,YAAa,CAEb,sBAAuB,CACvB,cAAe,CACf,UAAa,CACb,wFACE,eAAkB,CACpB,yFAIE,UAAW,CAHX,oBAAqB,CAKrB,cAAe,CADf,eAAiB,CAFjB,YAAa,CADb,iBAAkB,CAKlB,kBAAqB,CACzB,mDAGE,qBAAsB,CAGtB,UAAW,CAJX,oBAAqB,CAGrB,gBAAiB,CAJjB,iBAAkB,CAGlB,kBAEa,CACb,kFAEE,4BAA8B,CAD9B,eACgC,CAChC,sGACE,4BAA+B,CACjC,yGACE,yBAA4B,CAClC,2DAEE,OAAQ,CAER,mBAAoB,CAHpB,iBAAkB,CAElB,UACsB,CACtB,4EAGE,wBAAyB,CADzB,qBAAsB,CADtB,iBAE2B,CAC3B,yGAOE,wBAAyB,CACzB,mBAAoB,CAJpB,WAAY,CAHZ,UAAW,CAKX,UAAW,CAJX,iBAAkB,CAClB,UAAW,CAEX,SAGsB,CAC1B,wFAGE,wBAAyB,CADzB,qBAAsB,CADtB,iBAE2B,CACjC,6BAEE,wBAAyB,CADzB,yBAA0B,CAE1B,UAAW,CACX,eAAiB,CAEjB,gBAAiB,CACjB,qBAAsB,CACtB,uBAAwB,CACxB,wBAAyB,CACzB,mBAAoB,CALpB,kBAKsB,CACtB,wDAGE,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,6BAA8B,CAC9B,gBAAmB,CACnB,8DACE,YAAe,CACnB,qDAIE,4BAA8B,CAC9B,4BAA6B,CAC7B,yBAA0B,CAL1B,qBAAsB,CAMtB,eAAgB,CAJhB,eAAgB,CADhB,UAKkB,CAClB,oEAEE,4BAA8B,CAD9B,oBACgC,CAChC,iGACE,YAAe,CACnB,gEAEE,kBAAmB,CADnB,kBACqB,CACzB,uDACE,gBAAmB,CACrB,qDACE,eAAqB,CACvB,kDAGE,UAAW,CAFX,MAAO,CAGP,mBAAoB,CAEpB,iBAAkB,CADlB,mBAAoB,CAHpB,gBAIoB,CACtB,kDAIE,qBAAsB,CACtB,iBAAkB,CAJlB,oBAAqB,CACrB,YAAa,CACb,eAEoB,CACtB,8CACE,YAAe,CACjB,6CAME,6BAAoC,CAFpC,qBAAsB,CACtB,iBAAkB,CAJlB,oBAAqB,CACrB,YAAa,CACb,eAGsC,CACtC,oDACE,UAAa,CACf,sDACE,UAAa,CACf,wCACE,iEAEE,yBAA8B,CAC9B,UAAW,CAFX,cAEa,CAAE,CACvB,wCAEE,oBAAqB,CAErB,gBAAiB,CACjB,iBAAkB,CAJlB,iBAAkB,CAMlB,qBAAsB,CAJtB,SAAU,CAGV,UACwB,CACxB,wCACE,8CACE,gBAAmB,CAAE,CACzB,qDAEE,cAAe,CADf,SACiB,CACrB,4BAGE,kBAAmB,CAMnB,yBAA8B,CAP9B,YAAa,CAKb,WAAY,CAFZ,MAAO,CAJP,iBAAkB,CASlB,iBAAkB,CANlB,KAAM,CAIN,UAAW,CAFX,WAIoB,CACpB,iDAKE,eAAgB,CADhB,kBAAmB,CAHnB,oBAAqB,CAMrB,cAAe,CADf,eAAiB,CAJjB,aAAc,CACd,iBAIiB,CACjB,2EACE,qBAAsB,CACtB,UAAa,CACf,6EACE,qBAAsB,CACtB,aAAgB,CAExB,eAIE,qBAAsB,CAFtB,qBAAsB,CACtB,eAAgB,CAFhB,iBAGwB,CACxB,kCACE,wBAA2B,CAC7B,wCACE,0CACE,qBAAsB,CACtB,cAAiB,CAAE,CACvB,kCACE,wBAA2B,CAC7B,wCACE,wCACE,wBAAyB,CACzB,cAAiB,CAAE,CACvB,oCAEE,eAAgB,CADhB,qBACkB,CACpB,gCAGE,4BAA6B,CAD7B,yBAA0B,CAE1B,mBAAoB,CAHpB,iBAAkB,CAIlB,UAAa,CACf,oFACE,wBAAyB,CACzB,UAAgB,CAIlB,gMACE,wBAAyB,CACzB,UAAgB,CAClB,4CAGE,QAAS,CAET,UAAW,CADX,MAAO,CAHP,iBAAkB,CAClB,OAGa,CACb,iDAEE,WAAY,CADZ,KACc,CAChB,wCACE,kDACE,gBAAmB,CAAE,CAC3B,8CAIE,4BAA6B,CAD7B,yBAA0B,CAF1B,qBAAsB,CACtB,WAE+B,CAC/B,oDACE,YAAe,CACjB,oDACE,cAAiB,CACjB,0DACE,iBAAoB,CACpB,wEACE,kBAAqB,CAC7B,+BAKE,2BAA4B,CAF5B,qBAAsB,CAFtB,oBAAqB,CASrB,YAAa,CAFb,eAAgB,CAJhB,WAAY,CAFZ,iBAAkB,CAOlB,sBAAuB,CAHvB,qBAAsB,CACtB,kBAGe,CACf,gDAIE,wBAAyB,CAHzB,oBAAqB,CAErB,MAAO,CADP,eAAgB,CAGhB,UAAa,CACb,sEACE,2BAA8B,CAChC,uEACE,0BAA6B,CACjC,iDACE,wBAAyB,CACzB,YAAa,CACb,SAAY,CACZ,+GAEE,sBAAuB,CADvB,UAAW,CAEX,YAAe,CACnB,yDACE,qBAA2B,CAC3B,+HAEE,sBAAuB,CADvB,UAAW,CAEX,UAAgB,CACpB,oDAEE,kBAAmB,CADnB,mBAAoB,CAEpB,sBAAuB,CACvB,qBAAsB,CACtB,uBAAwB,CACxB,wBAAyB,CACzB,mBAAsB,CACtB,8EACE,SAAY,CACZ,wGAIE,eAAgB,CAFhB,UAAW,CACX,cAAe,CAFf,UAGkB,CACxB,kIACE,wBAA2B,CAC7B,iEACE,oBAAqB,CACrB,SAAY,CACd,2DASE,4BAA6B,CAF7B,6BAA8B,CAC9B,0BAA2B,CAP3B,oBAAqB,CAErB,UAAW,CAGX,gBAAiB,CADjB,eAAgB,CAHhB,qBAAsB,CAEtB,SAK+B,CACjC,4DAGE,kBAAmB,CAOnB,yBAA8B,CAF9B,qBAAsB,CACtB,iBAAkB,CARlB,mBAAoB,CAIpB,WAAY,CAHZ,sBAAuB,CAKvB,gBAAiB,CAIjB,eAAgB,CAPhB,qBAAsB,CAEtB,UAKkB,CAClB,wCACE,kEAEE,yBAA8B,CAD9B,cACgC,CAAE,CACtC,kGAKE,sBAAuB,CAJvB,oBAAqB,CAErB,UAAW,CADX,iBAAkB,CAElB,SACyB,CACzB,wGAOE,eAAgB,CALhB,UAAW,CAGX,UAAW,CAFX,SAAU,CAFV,iBAAkB,CAGlB,OAAQ,CAER,SACkB,CACtB,gGAKE,eAAgB,CAJhB,oBAAqB,CAErB,UAAW,CADX,iBAAkB,CAElB,SACkB,CAClB,sGAOE,eAAgB,CALhB,UAAW,CAGX,UAAW,CAFX,SAAU,CAFV,iBAAkB,CAGlB,OAAQ,CAER,SACkB,CACxB,qEAEE,kBAAmB,CASnB,eAAgB,CADhB,kBAAmB,CAEnB,UAAW,CAXX,mBAAoB,CAapB,eAAgB,CADhB,eAAiB,CALjB,WAAY,CALZ,sBAAuB,CACvB,qBAAsB,CACtB,uBAAwB,CACxB,wBAAyB,CACzB,mBAAoB,CAEpB,UAKkB,CAClB,wCACE,2EAEE,cAAe,CADf,UACiB,CAAE,CACvB,sHACE,eAAkB,CACpB,qHACE,YAAe,CACjB,yEACE,WAAc,CAChB,iHACE,YAAe,CACnB,wDAIE,kBAAmB,CAHnB,oBAAqB,CACrB,WAAY,CACZ,UACqB,CACzB,+BAOE,eAAgB,CALhB,4BAA6B,CAC7B,2BAA4B,CAC5B,yBAA0B,CAH1B,qBAAsB,CAOtB,eAAiB,CACjB,cAAe,CAHf,wBAGiB,CACjB,wCACE,qCAEE,+BAAoC,CADpC,cACsC,CAAE,CAC5C,wEAKE,eAAgB,CAHhB,iCAAkC,CAClC,kCAAmC,CACnC,yBAA0B,CAH1B,iBAIkB,CACpB,uDACE,iBAAoB,CACtB,uDACE,iBAAoB,CACtB,uDACE,iBAAoB,CACtB,uDACE,iBAAoB,CACtB,uDACE,kBAAqB,CACvB,uDACE,oBAAuB,CACzB,gDAME,mCAAoC,CAEpC,0BAA2B,CAD3B,cAAe,CAFf,gCAAiC,CAJjC,oBAAqB,CAErB,QAAS,CACT,iBAAkB,CAKlB,qBAAsB,CAPtB,OAOwB,CAC1B,oCAEE,UAAW,CADX,gBACa,CAEnB,2BASE,gCAAiC,CALjC,eAAgB,CAChB,qBAAsB,CACtB,mCAAwC,CAHxC,qBAAsB,CADtB,oBAAqB,CAKrB,cAAe,CACf,eAAgB,CAPhB,iBAAkB,CASlB,aAAgB,CAElB,iBAEE,iBAAkB,CADlB,WACoB,CAEtB,mBAGE,iBAAkB,CAClB,eAAgB,CAChB,cAAe,CAJf,yBAA2B,CAC3B,eAAgB,CAIhB,mBAAsB,CAExB,qCAEE,qBAAsB,CACtB,gBAAiB,CAFjB,iBAAkB,CAGlB,gBAAmB,CACnB,kEACE,UAAa,CACf,wCACE,8EAEE,kBAAmB,CADnB,cACqB,CAAE,CAC3B,iEACE,kBAAqB,CACrB,uEAUE,iBAAkB,CAAlB,kBAAkB,CAAlB,wBAAkB,CAHlB,UAAW,CANX,oBAAqB,CAIrB,UAAW,CAHX,iBAAkB,CAElB,UAAW,CADX,oBAAqB,CASrB,uBAAwB,CADxB,kBAAmB,CALnB,SAM0B,CAEhC,0CACE,yBAA4B,CAE9B,qBAIE,gCAAiC,CAFjC,cAAe,CADf,gBAAiB,CAEjB,eACmC,CACnC,+CAEE,UAAW,CACX,YAAa,CAFb,WAEe,CACf,sDAEE,kBAAmB,CADnB,UACqB,CACrB,8DACE,oCAA6C,CACjD,uDACE,yBAA4B,CAC9B,wCACE,qDAGE,kBAAmB,CADnB,UAAW,CADX,cAEqB,CAAE,CAC7B,sDAEE,UAAW,CADX,WAAY,CAEZ,iBAAoB,CACtB,gDACE,4BAA6B,CAG7B,UAAW,CACX,eAAiB,CAFjB,mBAEmB,CACrB,mKACE,iBAAoB,CACtB,mKACE,iBAAoB,CACtB,mKACE,iBAAoB,CACtB,mKACE,iBAAoB,CAExB,yBACE,aAAgB,CAElB,yBAEE,aAAc,CADd,kBACgB,CAChB,0DAEE,0BAA2B,CAC3B,oBAAqB,CAFrB,kBAEuB,CACvB,wGAEE,gBAAiB,CADjB,cACmB,CACrB,kGAEE,iBAAkB,CADlB,eACoB,CACtB,uGACE,QAAS,CACT,UAAgB,CACpB,wDAEE,0BAA2B,CAD3B,oBAC6B,CAC7B,oFAGE,2BAAkC,CAClC,8BAA+B,CAC/B,mBAAoB,CACpB,2BAA4B,CAJ5B,eAAgB,CADhB,cAK8B,CAChC,qFAEE,eAAgB,CADhB,cACkB,CACpB,+FACE,0BAA6B,CAC/B,gGACE,2BAA8B,CAClC,kFAEE,aAAc,CACd,iBAAkB,CAFlB,SAEoB,CACtB,mEACE,kBAAqB,CAEzB,4BAGE,QAAS,CACT,MAAO,CAHP,iBAAkB,CAIlB,OAAQ,CAHR,KAAM,CAIN,aAAgB,CAElB,uEACE,sBAA0B,CAE5B,uBACE,wBAA2B,CAC3B,mDASE,4BAA6B,CAF7B,6BAA8B,CAC9B,0BAA2B,CAP3B,oBAAqB,CAErB,UAAW,CAGX,gBAAiB,CADjB,eAAgB,CAHhB,qBAAsB,CAEtB,SAK+B,CACjC,oDAOE,eAAgB,CALhB,4BAA6B,CAC7B,2BAA4B,CAC5B,yBAA0B,CAH1B,qBAAsB,CAOtB,eAAiB,CACjB,cAAe,CAHf,wBAGiB,CACjB,wCACE,0DAEE,+BAAoC,CADpC,cACsC,CAAE,CAC5C,6FAKE,eAAgB,CAHhB,iCAAkC,CAClC,kCAAmC,CACnC,yBAA0B,CAH1B,iBAIkB,CACpB,+EACE,2BAA+B,CACjC,+EACE,2BAA+B,CACjC,+EACE,2BAA+B,CACjC,+EACE,2BAA+B,CACjC,+EACE,4BAAgC,CAClC,4EACE,oBAAuB,CACzB,qEAME,mCAAoC,CAEpC,0BAA2B,CAD3B,cAAe,CAFf,gCAAiC,CAJjC,oBAAqB,CAErB,QAAS,CACT,iBAAkB,CAKlB,qBAAsB,CAPtB,OAOwB,CAC1B,yDAEE,UAAW,CADX,gBACa,CACjB,oDAGE,kBAAmB,CAOnB,yBAA8B,CAF9B,qBAAsB,CACtB,iBAAkB,CARlB,mBAAoB,CAIpB,WAAY,CAHZ,sBAAuB,CAKvB,gBAAiB,CAIjB,eAAgB,CAPhB,qBAAsB,CAEtB,UAKkB,CAClB,wCACE,0DAEE,yBAA8B,CAD9B,cACgC,CAAE,CACtC,0FAKE,sBAAuB,CAJvB,oBAAqB,CAErB,UAAW,CADX,iBAAkB,CAElB,SACyB,CACzB,gGAOE,eAAgB,CALhB,UAAW,CAGX,UAAW,CAFX,SAAU,CAFV,iBAAkB,CAGlB,OAAQ,CAER,SACkB,CACtB,wFAKE,eAAgB,CAJhB,oBAAqB,CAErB,UAAW,CADX,iBAAkB,CAElB,SACkB,CAClB,8FAOE,eAAgB,CALhB,UAAW,CAGX,UAAW,CAFX,SAAU,CAFV,iBAAkB,CAGlB,OAAQ,CAER,SACkB;ACl2B1B,4CAA4C",sourcesContent:['.tabulator {\n  position: relative;\n  border: 1px solid #999;\n  background-color: #888;\n  font-size: 14px;\n  text-align: left;\n  overflow: hidden;\n  -webkit-transform: translateZ(0);\n  -moz-transform: translateZ(0);\n  -ms-transform: translateZ(0);\n  -o-transform: translateZ(0);\n  transform: translateZ(0); }\n  .tabulator[tabulator-layout="fitDataFill"] .tabulator-tableholder .tabulator-table {\n    min-width: 100%; }\n  .tabulator[tabulator-layout="fitDataTable"] {\n    display: inline-block; }\n  .tabulator.tabulator-block-select {\n    user-select: none; }\n  .tabulator.tabulator-ranges .tabulator-cell:not(.tabulator-editing) {\n    user-select: none; }\n  .tabulator .tabulator-header {\n    position: relative;\n    box-sizing: border-box;\n    width: 100%;\n    border-bottom: 1px solid #999;\n    background-color: #e6e6e6;\n    color: #555;\n    font-weight: bold;\n    white-space: nowrap;\n    overflow: hidden;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none;\n    outline: none; }\n    .tabulator .tabulator-header.tabulator-header-hidden {\n      display: none; }\n    .tabulator .tabulator-header .tabulator-header-contents {\n      position: relative;\n      overflow: hidden; }\n      .tabulator .tabulator-header .tabulator-header-contents .tabulator-headers {\n        display: inline-block; }\n    .tabulator .tabulator-header .tabulator-col {\n      display: inline-flex;\n      position: relative;\n      box-sizing: border-box;\n      flex-direction: column;\n      justify-content: flex-start;\n      border-right: 1px solid #aaa;\n      background: #e6e6e6;\n      text-align: left;\n      vertical-align: bottom;\n      overflow: hidden; }\n      .tabulator .tabulator-header .tabulator-col.tabulator-moving {\n        position: absolute;\n        border: 1px solid #999;\n        background: #cdcdcd;\n        pointer-events: none; }\n      .tabulator .tabulator-header .tabulator-col.tabulator-range-highlight {\n        background-color: #D6D6D6;\n        color: #000000; }\n      .tabulator .tabulator-header .tabulator-col.tabulator-range-selected {\n        background-color: #3876ca;\n        color: #FFFFFF; }\n      .tabulator .tabulator-header .tabulator-col .tabulator-col-content {\n        box-sizing: border-box;\n        position: relative;\n        padding: 4px; }\n        .tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-header-popup-button {\n          padding: 0 8px; }\n          .tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-header-popup-button:hover {\n            cursor: pointer;\n            opacity: .6; }\n        .tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-title-holder {\n          position: relative; }\n        .tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-title {\n          box-sizing: border-box;\n          width: 100%;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          vertical-align: bottom; }\n          .tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-title.tabulator-col-title-wrap {\n            white-space: normal;\n            text-overflow: initial; }\n          .tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-title .tabulator-title-editor {\n            box-sizing: border-box;\n            width: 100%;\n            border: 1px solid #999;\n            padding: 1px;\n            background: #fff; }\n          .tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-title .tabulator-header-popup-button + .tabulator-title-editor {\n            width: calc(100% - 22px); }\n        .tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-sorter {\n          display: flex;\n          align-items: center;\n          position: absolute;\n          top: 0;\n          bottom: 0;\n          right: 4px; }\n          .tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-sorter .tabulator-arrow {\n            width: 0;\n            height: 0;\n            border-left: 6px solid transparent;\n            border-right: 6px solid transparent;\n            border-bottom: 6px solid #bbb; }\n      .tabulator .tabulator-header .tabulator-col.tabulator-col-group .tabulator-col-group-cols {\n        position: relative;\n        display: flex;\n        border-top: 1px solid #aaa;\n        overflow: hidden;\n        margin-right: -1px; }\n      .tabulator .tabulator-header .tabulator-col .tabulator-header-filter {\n        position: relative;\n        box-sizing: border-box;\n        margin-top: 2px;\n        width: 100%;\n        text-align: center; }\n        .tabulator .tabulator-header .tabulator-col .tabulator-header-filter textarea {\n          height: auto !important; }\n        .tabulator .tabulator-header .tabulator-col .tabulator-header-filter svg {\n          margin-top: 3px; }\n        .tabulator .tabulator-header .tabulator-col .tabulator-header-filter input::-ms-clear {\n          width: 0;\n          height: 0; }\n      .tabulator .tabulator-header .tabulator-col.tabulator-sortable .tabulator-col-title {\n        padding-right: 25px; }\n      @media (hover: hover) and (pointer: fine) {\n        .tabulator .tabulator-header .tabulator-col.tabulator-sortable.tabulator-col-sorter-element:hover {\n          cursor: pointer;\n          background-color: #cdcdcd; } }\n      .tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort="none"] .tabulator-col-content .tabulator-col-sorter {\n        color: #bbb; }\n        @media (hover: hover) and (pointer: fine) {\n          .tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort="none"] .tabulator-col-content .tabulator-col-sorter.tabulator-col-sorter-element .tabulator-arrow:hover {\n            cursor: pointer;\n            border-bottom: 6px solid #555; } }\n        .tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort="none"] .tabulator-col-content .tabulator-col-sorter .tabulator-arrow {\n          border-top: none;\n          border-bottom: 6px solid #bbb; }\n      .tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort="ascending"] .tabulator-col-content .tabulator-col-sorter {\n        color: #666; }\n        @media (hover: hover) and (pointer: fine) {\n          .tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort="ascending"] .tabulator-col-content .tabulator-col-sorter.tabulator-col-sorter-element .tabulator-arrow:hover {\n            cursor: pointer;\n            border-bottom: 6px solid #555; } }\n        .tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort="ascending"] .tabulator-col-content .tabulator-col-sorter .tabulator-arrow {\n          border-top: none;\n          border-bottom: 6px solid #666; }\n      .tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort="descending"] .tabulator-col-content .tabulator-col-sorter {\n        color: #666; }\n        @media (hover: hover) and (pointer: fine) {\n          .tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort="descending"] .tabulator-col-content .tabulator-col-sorter.tabulator-col-sorter-element .tabulator-arrow:hover {\n            cursor: pointer;\n            border-top: 6px solid #555; } }\n        .tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort="descending"] .tabulator-col-content .tabulator-col-sorter .tabulator-arrow {\n          border-bottom: none;\n          border-top: 6px solid #666;\n          color: #666; }\n      .tabulator .tabulator-header .tabulator-col.tabulator-col-vertical .tabulator-col-content .tabulator-col-title {\n        writing-mode: vertical-rl;\n        text-orientation: mixed;\n        display: flex;\n        align-items: center;\n        justify-content: center; }\n      .tabulator .tabulator-header .tabulator-col.tabulator-col-vertical.tabulator-col-vertical-flip .tabulator-col-title {\n        transform: rotate(180deg); }\n      .tabulator .tabulator-header .tabulator-col.tabulator-col-vertical.tabulator-sortable .tabulator-col-title {\n        padding-right: 0;\n        padding-top: 20px; }\n      .tabulator .tabulator-header .tabulator-col.tabulator-col-vertical.tabulator-sortable.tabulator-col-vertical-flip .tabulator-col-title {\n        padding-right: 0;\n        padding-bottom: 20px; }\n      .tabulator .tabulator-header .tabulator-col.tabulator-col-vertical.tabulator-sortable .tabulator-col-sorter {\n        justify-content: center;\n        left: 0;\n        right: 0;\n        top: 4px;\n        bottom: auto; }\n    .tabulator .tabulator-header .tabulator-frozen {\n      position: sticky;\n      left: 0;\n      z-index: 11; }\n      .tabulator .tabulator-header .tabulator-frozen.tabulator-frozen-left {\n        border-right: 2px solid #aaa; }\n      .tabulator .tabulator-header .tabulator-frozen.tabulator-frozen-right {\n        border-left: 2px solid #aaa; }\n    .tabulator .tabulator-header .tabulator-calcs-holder {\n      box-sizing: border-box;\n      display: inline-block;\n      background: #f3f3f3 !important;\n      border-top: 1px solid #aaa;\n      border-bottom: 1px solid #aaa; }\n      .tabulator .tabulator-header .tabulator-calcs-holder .tabulator-row {\n        background: #f3f3f3 !important; }\n        .tabulator .tabulator-header .tabulator-calcs-holder .tabulator-row .tabulator-col-resize-handle {\n          display: none; }\n    .tabulator .tabulator-header .tabulator-frozen-rows-holder {\n      display: inline-block; }\n      .tabulator .tabulator-header .tabulator-frozen-rows-holder:empty {\n        display: none; }\n  .tabulator .tabulator-tableholder {\n    position: relative;\n    width: 100%;\n    white-space: nowrap;\n    overflow: auto;\n    -webkit-overflow-scrolling: touch; }\n    .tabulator .tabulator-tableholder:focus {\n      outline: none; }\n    .tabulator .tabulator-tableholder .tabulator-placeholder {\n      box-sizing: border-box;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      min-width: 100%;\n      width: 100%; }\n      .tabulator .tabulator-tableholder .tabulator-placeholder[tabulator-render-mode="virtual"] {\n        min-height: 100%; }\n      .tabulator .tabulator-tableholder .tabulator-placeholder .tabulator-placeholder-contents {\n        display: inline-block;\n        text-align: center;\n        padding: 10px;\n        color: #ccc;\n        font-weight: bold;\n        font-size: 20px;\n        white-space: normal; }\n    .tabulator .tabulator-tableholder .tabulator-table {\n      position: relative;\n      display: inline-block;\n      background-color: #fff;\n      white-space: nowrap;\n      overflow: visible;\n      color: #333; }\n      .tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-calcs {\n        font-weight: bold;\n        background: #e2e2e2 !important; }\n        .tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-calcs.tabulator-calcs-top {\n          border-bottom: 2px solid #aaa; }\n        .tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-calcs.tabulator-calcs-bottom {\n          border-top: 2px solid #aaa; }\n    .tabulator .tabulator-tableholder .tabulator-range-overlay {\n      position: absolute;\n      inset: 0;\n      z-index: 10;\n      pointer-events: none; }\n      .tabulator .tabulator-tableholder .tabulator-range-overlay .tabulator-range {\n        position: absolute;\n        box-sizing: border-box;\n        border: 1px solid #2975DD; }\n        .tabulator .tabulator-tableholder .tabulator-range-overlay .tabulator-range.tabulator-range-active::after {\n          content: \'\';\n          position: absolute;\n          right: -3px;\n          bottom: -3px;\n          width: 6px;\n          height: 6px;\n          background-color: #2975DD;\n          border-radius: 999px; }\n      .tabulator .tabulator-tableholder .tabulator-range-overlay .tabulator-range-cell-active {\n        position: absolute;\n        box-sizing: border-box;\n        border: 2px solid #2975DD; }\n  .tabulator .tabulator-footer {\n    border-top: 1px solid #999;\n    background-color: #e6e6e6;\n    color: #555;\n    font-weight: bold;\n    white-space: nowrap;\n    user-select: none;\n    -moz-user-select: none;\n    -khtml-user-select: none;\n    -webkit-user-select: none;\n    -o-user-select: none; }\n    .tabulator .tabulator-footer .tabulator-footer-contents {\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      justify-content: space-between;\n      padding: 5px 10px; }\n      .tabulator .tabulator-footer .tabulator-footer-contents:empty {\n        display: none; }\n    .tabulator .tabulator-footer .tabulator-calcs-holder {\n      box-sizing: border-box;\n      width: 100%;\n      text-align: left;\n      background: #f3f3f3 !important;\n      border-bottom: 1px solid #aaa;\n      border-top: 1px solid #aaa;\n      overflow: hidden; }\n      .tabulator .tabulator-footer .tabulator-calcs-holder .tabulator-row {\n        display: inline-block;\n        background: #f3f3f3 !important; }\n        .tabulator .tabulator-footer .tabulator-calcs-holder .tabulator-row .tabulator-col-resize-handle {\n          display: none; }\n      .tabulator .tabulator-footer .tabulator-calcs-holder:only-child {\n        margin-bottom: -5px;\n        border-bottom: none; }\n    .tabulator .tabulator-footer > * + .tabulator-page-counter {\n      margin-left: 10px; }\n    .tabulator .tabulator-footer .tabulator-page-counter {\n      font-weight: normal; }\n    .tabulator .tabulator-footer .tabulator-paginator {\n      flex: 1;\n      text-align: right;\n      color: #555;\n      font-family: inherit;\n      font-weight: inherit;\n      font-size: inherit; }\n    .tabulator .tabulator-footer .tabulator-page-size {\n      display: inline-block;\n      margin: 0 5px;\n      padding: 2px 5px;\n      border: 1px solid #aaa;\n      border-radius: 3px; }\n    .tabulator .tabulator-footer .tabulator-pages {\n      margin: 0 7px; }\n    .tabulator .tabulator-footer .tabulator-page {\n      display: inline-block;\n      margin: 0 2px;\n      padding: 2px 5px;\n      border: 1px solid #aaa;\n      border-radius: 3px;\n      background: rgba(255, 255, 255, 0.2); }\n      .tabulator .tabulator-footer .tabulator-page.active {\n        color: #d00; }\n      .tabulator .tabulator-footer .tabulator-page:disabled {\n        opacity: .5; }\n      @media (hover: hover) and (pointer: fine) {\n        .tabulator .tabulator-footer .tabulator-page:not(disabled):hover {\n          cursor: pointer;\n          background: rgba(0, 0, 0, 0.2);\n          color: #fff; } }\n  .tabulator .tabulator-col-resize-handle {\n    position: relative;\n    display: inline-block;\n    width: 6px;\n    margin-left: -3px;\n    margin-right: -3px;\n    z-index: 11;\n    vertical-align: middle; }\n    @media (hover: hover) and (pointer: fine) {\n      .tabulator .tabulator-col-resize-handle:hover {\n        cursor: ew-resize; } }\n    .tabulator .tabulator-col-resize-handle:last-of-type {\n      width: 3px;\n      margin-right: 0; }\n  .tabulator .tabulator-alert {\n    position: absolute;\n    display: flex;\n    align-items: center;\n    top: 0;\n    left: 0;\n    z-index: 100;\n    height: 100%;\n    width: 100%;\n    background: rgba(0, 0, 0, 0.4);\n    text-align: center; }\n    .tabulator .tabulator-alert .tabulator-alert-msg {\n      display: inline-block;\n      margin: 0 auto;\n      padding: 10px 20px;\n      border-radius: 10px;\n      background: #fff;\n      font-weight: bold;\n      font-size: 16px; }\n      .tabulator .tabulator-alert .tabulator-alert-msg.tabulator-alert-state-msg {\n        border: 4px solid #333;\n        color: #000; }\n      .tabulator .tabulator-alert .tabulator-alert-msg.tabulator-alert-state-error {\n        border: 4px solid #D00;\n        color: #590000; }\n\n.tabulator-row {\n  position: relative;\n  box-sizing: border-box;\n  min-height: 22px;\n  background-color: #fff; }\n  .tabulator-row.tabulator-row-even {\n    background-color: #EFEFEF; }\n  @media (hover: hover) and (pointer: fine) {\n    .tabulator-row.tabulator-selectable:hover {\n      background-color: #bbb;\n      cursor: pointer; } }\n  .tabulator-row.tabulator-selected {\n    background-color: #9ABCEA; }\n  @media (hover: hover) and (pointer: fine) {\n    .tabulator-row.tabulator-selected:hover {\n      background-color: #769BCC;\n      cursor: pointer; } }\n  .tabulator-row.tabulator-row-moving {\n    border: 1px solid #000;\n    background: #fff; }\n  .tabulator-row.tabulator-moving {\n    position: absolute;\n    border-top: 1px solid #aaa;\n    border-bottom: 1px solid #aaa;\n    pointer-events: none;\n    z-index: 15; }\n  .tabulator-row.tabulator-range-highlight .tabulator-cell.tabulator-range-row-header {\n    background-color: #D6D6D6;\n    color: #000000; }\n  .tabulator-row.tabulator-range-highlight.tabulator-range-selected .tabulator-cell.tabulator-range-row-header {\n    background-color: #3876ca;\n    color: #FFFFFF; }\n  .tabulator-row.tabulator-range-selected .tabulator-cell.tabulator-range-row-header {\n    background-color: #3876ca;\n    color: #FFFFFF; }\n  .tabulator-row .tabulator-row-resize-handle {\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    height: 5px; }\n    .tabulator-row .tabulator-row-resize-handle.prev {\n      top: 0;\n      bottom: auto; }\n    @media (hover: hover) and (pointer: fine) {\n      .tabulator-row .tabulator-row-resize-handle:hover {\n        cursor: ns-resize; } }\n  .tabulator-row .tabulator-responsive-collapse {\n    box-sizing: border-box;\n    padding: 5px;\n    border-top: 1px solid #aaa;\n    border-bottom: 1px solid #aaa; }\n    .tabulator-row .tabulator-responsive-collapse:empty {\n      display: none; }\n    .tabulator-row .tabulator-responsive-collapse table {\n      font-size: 14px; }\n      .tabulator-row .tabulator-responsive-collapse table tr td {\n        position: relative; }\n        .tabulator-row .tabulator-responsive-collapse table tr td:first-of-type {\n          padding-right: 10px; }\n  .tabulator-row .tabulator-cell {\n    display: inline-block;\n    position: relative;\n    box-sizing: border-box;\n    padding: 4px;\n    border-right: 1px solid #aaa;\n    vertical-align: middle;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    outline: none; }\n    .tabulator-row .tabulator-cell.tabulator-frozen {\n      display: inline-block;\n      position: sticky;\n      left: 0;\n      background-color: inherit;\n      z-index: 11; }\n      .tabulator-row .tabulator-cell.tabulator-frozen.tabulator-frozen-left {\n        border-right: 2px solid #aaa; }\n      .tabulator-row .tabulator-cell.tabulator-frozen.tabulator-frozen-right {\n        border-left: 2px solid #aaa; }\n    .tabulator-row .tabulator-cell.tabulator-editing {\n      border: 1px solid #1D68CD;\n      outline: none;\n      padding: 0; }\n      .tabulator-row .tabulator-cell.tabulator-editing input, .tabulator-row .tabulator-cell.tabulator-editing select {\n        border: 1px;\n        background: transparent;\n        outline: none; }\n    .tabulator-row .tabulator-cell.tabulator-validation-fail {\n      border: 1px solid #dd0000; }\n      .tabulator-row .tabulator-cell.tabulator-validation-fail input, .tabulator-row .tabulator-cell.tabulator-validation-fail select {\n        border: 1px;\n        background: transparent;\n        color: #dd0000; }\n    .tabulator-row .tabulator-cell.tabulator-row-handle {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      -moz-user-select: none;\n      -khtml-user-select: none;\n      -webkit-user-select: none;\n      -o-user-select: none; }\n      .tabulator-row .tabulator-cell.tabulator-row-handle .tabulator-row-handle-box {\n        width: 80%; }\n        .tabulator-row .tabulator-cell.tabulator-row-handle .tabulator-row-handle-box .tabulator-row-handle-bar {\n          width: 100%;\n          height: 3px;\n          margin-top: 2px;\n          background: #666; }\n    .tabulator-row .tabulator-cell.tabulator-range-selected:not(.tabulator-range-only-cell-selected):not(.tabulator-range-row-header) {\n      background-color: #9ABCEA; }\n    .tabulator-row .tabulator-cell .tabulator-data-tree-branch-empty {\n      display: inline-block;\n      width: 7px; }\n    .tabulator-row .tabulator-cell .tabulator-data-tree-branch {\n      display: inline-block;\n      vertical-align: middle;\n      height: 9px;\n      width: 7px;\n      margin-top: -9px;\n      margin-right: 5px;\n      border-bottom-left-radius: 1px;\n      border-left: 2px solid #aaa;\n      border-bottom: 2px solid #aaa; }\n    .tabulator-row .tabulator-cell .tabulator-data-tree-control {\n      display: inline-flex;\n      justify-content: center;\n      align-items: center;\n      vertical-align: middle;\n      height: 11px;\n      width: 11px;\n      margin-right: 5px;\n      border: 1px solid #333;\n      border-radius: 2px;\n      background: rgba(0, 0, 0, 0.1);\n      overflow: hidden; }\n      @media (hover: hover) and (pointer: fine) {\n        .tabulator-row .tabulator-cell .tabulator-data-tree-control:hover {\n          cursor: pointer;\n          background: rgba(0, 0, 0, 0.2); } }\n      .tabulator-row .tabulator-cell .tabulator-data-tree-control .tabulator-data-tree-control-collapse {\n        display: inline-block;\n        position: relative;\n        height: 7px;\n        width: 1px;\n        background: transparent; }\n        .tabulator-row .tabulator-cell .tabulator-data-tree-control .tabulator-data-tree-control-collapse:after {\n          position: absolute;\n          content: "";\n          left: -3px;\n          top: 3px;\n          height: 1px;\n          width: 7px;\n          background: #333; }\n      .tabulator-row .tabulator-cell .tabulator-data-tree-control .tabulator-data-tree-control-expand {\n        display: inline-block;\n        position: relative;\n        height: 7px;\n        width: 1px;\n        background: #333; }\n        .tabulator-row .tabulator-cell .tabulator-data-tree-control .tabulator-data-tree-control-expand:after {\n          position: absolute;\n          content: "";\n          left: -3px;\n          top: 3px;\n          height: 1px;\n          width: 7px;\n          background: #333; }\n    .tabulator-row .tabulator-cell .tabulator-responsive-collapse-toggle {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      -moz-user-select: none;\n      -khtml-user-select: none;\n      -webkit-user-select: none;\n      -o-user-select: none;\n      height: 15px;\n      width: 15px;\n      border-radius: 20px;\n      background: #666;\n      color: #fff;\n      font-weight: bold;\n      font-size: 1.1em; }\n      @media (hover: hover) and (pointer: fine) {\n        .tabulator-row .tabulator-cell .tabulator-responsive-collapse-toggle:hover {\n          opacity: .7;\n          cursor: pointer; } }\n      .tabulator-row .tabulator-cell .tabulator-responsive-collapse-toggle.open .tabulator-responsive-collapse-toggle-close {\n        display: initial; }\n      .tabulator-row .tabulator-cell .tabulator-responsive-collapse-toggle.open .tabulator-responsive-collapse-toggle-open {\n        display: none; }\n      .tabulator-row .tabulator-cell .tabulator-responsive-collapse-toggle svg {\n        stroke: #fff; }\n      .tabulator-row .tabulator-cell .tabulator-responsive-collapse-toggle .tabulator-responsive-collapse-toggle-close {\n        display: none; }\n    .tabulator-row .tabulator-cell .tabulator-traffic-light {\n      display: inline-block;\n      height: 14px;\n      width: 14px;\n      border-radius: 14px; }\n  .tabulator-row.tabulator-group {\n    box-sizing: border-box;\n    border-bottom: 1px solid #999;\n    border-right: 1px solid #aaa;\n    border-top: 1px solid #999;\n    padding: 5px;\n    padding-left: 10px;\n    background: #ccc;\n    font-weight: bold;\n    min-width: 100%; }\n    @media (hover: hover) and (pointer: fine) {\n      .tabulator-row.tabulator-group:hover {\n        cursor: pointer;\n        background-color: rgba(0, 0, 0, 0.1); } }\n    .tabulator-row.tabulator-group.tabulator-group-visible .tabulator-arrow {\n      margin-right: 10px;\n      border-left: 6px solid transparent;\n      border-right: 6px solid transparent;\n      border-top: 6px solid #666;\n      border-bottom: 0; }\n    .tabulator-row.tabulator-group.tabulator-group-level-1 {\n      padding-left: 30px; }\n    .tabulator-row.tabulator-group.tabulator-group-level-2 {\n      padding-left: 50px; }\n    .tabulator-row.tabulator-group.tabulator-group-level-3 {\n      padding-left: 70px; }\n    .tabulator-row.tabulator-group.tabulator-group-level-4 {\n      padding-left: 90px; }\n    .tabulator-row.tabulator-group.tabulator-group-level-5 {\n      padding-left: 110px; }\n    .tabulator-row.tabulator-group .tabulator-group-toggle {\n      display: inline-block; }\n    .tabulator-row.tabulator-group .tabulator-arrow {\n      display: inline-block;\n      width: 0;\n      height: 0;\n      margin-right: 16px;\n      border-top: 6px solid transparent;\n      border-bottom: 6px solid transparent;\n      border-right: 0;\n      border-left: 6px solid #666;\n      vertical-align: middle; }\n    .tabulator-row.tabulator-group span {\n      margin-left: 10px;\n      color: #d00; }\n\n.tabulator-popup-container {\n  position: absolute;\n  display: inline-block;\n  box-sizing: border-box;\n  background: #fff;\n  border: 1px solid #aaa;\n  box-shadow: 0 0 5px 0 rgba(0, 0, 0, 0.2);\n  font-size: 14px;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n  z-index: 10000; }\n\n.tabulator-popup {\n  padding: 5px;\n  border-radius: 3px; }\n\n.tabulator-tooltip {\n  max-width: Min(500px, 100%);\n  padding: 3px 5px;\n  border-radius: 2px;\n  box-shadow: none;\n  font-size: 12px;\n  pointer-events: none; }\n\n.tabulator-menu .tabulator-menu-item {\n  position: relative;\n  box-sizing: border-box;\n  padding: 5px 10px;\n  user-select: none; }\n  .tabulator-menu .tabulator-menu-item.tabulator-menu-item-disabled {\n    opacity: .5; }\n  @media (hover: hover) and (pointer: fine) {\n    .tabulator-menu .tabulator-menu-item:not(.tabulator-menu-item-disabled):hover {\n      cursor: pointer;\n      background: #EFEFEF; } }\n  .tabulator-menu .tabulator-menu-item.tabulator-menu-item-submenu {\n    padding-right: 25px; }\n    .tabulator-menu .tabulator-menu-item.tabulator-menu-item-submenu::after {\n      display: inline-block;\n      position: absolute;\n      top: calc(5px + .4em);\n      right: 10px;\n      height: 7px;\n      width: 7px;\n      content: \'\';\n      border-width: 1px 1px 0 0;\n      border-style: solid;\n      border-color: #aaa;\n      vertical-align: top;\n      transform: rotate(45deg); }\n\n.tabulator-menu .tabulator-menu-separator {\n  border-top: 1px solid #aaa; }\n\n.tabulator-edit-list {\n  max-height: 200px;\n  font-size: 14px;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch; }\n  .tabulator-edit-list .tabulator-edit-list-item {\n    padding: 4px;\n    color: #333;\n    outline: none; }\n    .tabulator-edit-list .tabulator-edit-list-item.active {\n      color: #fff;\n      background: #1D68CD; }\n      .tabulator-edit-list .tabulator-edit-list-item.active.focused {\n        outline: 1px solid rgba(255, 255, 255, 0.5); }\n    .tabulator-edit-list .tabulator-edit-list-item.focused {\n      outline: 1px solid #1D68CD; }\n    @media (hover: hover) and (pointer: fine) {\n      .tabulator-edit-list .tabulator-edit-list-item:hover {\n        cursor: pointer;\n        color: #fff;\n        background: #1D68CD; } }\n  .tabulator-edit-list .tabulator-edit-list-placeholder {\n    padding: 4px;\n    color: #333;\n    text-align: center; }\n  .tabulator-edit-list .tabulator-edit-list-group {\n    border-bottom: 1px solid #aaa;\n    padding: 4px;\n    padding-top: 6px;\n    color: #333;\n    font-weight: bold; }\n  .tabulator-edit-list .tabulator-edit-list-item.tabulator-edit-list-group-level-2, .tabulator-edit-list .tabulator-edit-list-group.tabulator-edit-list-group-level-2 {\n    padding-left: 12px; }\n  .tabulator-edit-list .tabulator-edit-list-item.tabulator-edit-list-group-level-3, .tabulator-edit-list .tabulator-edit-list-group.tabulator-edit-list-group-level-3 {\n    padding-left: 20px; }\n  .tabulator-edit-list .tabulator-edit-list-item.tabulator-edit-list-group-level-4, .tabulator-edit-list .tabulator-edit-list-group.tabulator-edit-list-group-level-4 {\n    padding-left: 28px; }\n  .tabulator-edit-list .tabulator-edit-list-item.tabulator-edit-list-group-level-5, .tabulator-edit-list .tabulator-edit-list-group.tabulator-edit-list-group-level-5 {\n    padding-left: 36px; }\n\n.tabulator.tabulator-ltr {\n  direction: ltr; }\n\n.tabulator.tabulator-rtl {\n  text-align: initial;\n  direction: rtl; }\n  .tabulator.tabulator-rtl .tabulator-header .tabulator-col {\n    text-align: initial;\n    border-left: 1px solid #aaa;\n    border-right: initial; }\n    .tabulator.tabulator-rtl .tabulator-header .tabulator-col.tabulator-col-group .tabulator-col-group-cols {\n      margin-right: initial;\n      margin-left: -1px; }\n    .tabulator.tabulator-rtl .tabulator-header .tabulator-col.tabulator-sortable .tabulator-col-title {\n      padding-right: 0;\n      padding-left: 25px; }\n    .tabulator.tabulator-rtl .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-sorter {\n      left: 8px;\n      right: initial; }\n  .tabulator.tabulator-rtl .tabulator-row .tabulator-cell {\n    border-right: initial;\n    border-left: 1px solid #aaa; }\n    .tabulator.tabulator-rtl .tabulator-row .tabulator-cell .tabulator-data-tree-branch {\n      margin-right: initial;\n      margin-left: 5px;\n      border-bottom-left-radius: initial;\n      border-bottom-right-radius: 1px;\n      border-left: initial;\n      border-right: 2px solid #aaa; }\n    .tabulator.tabulator-rtl .tabulator-row .tabulator-cell .tabulator-data-tree-control {\n      margin-right: initial;\n      margin-left: 5px; }\n    .tabulator.tabulator-rtl .tabulator-row .tabulator-cell.tabulator-frozen.tabulator-frozen-left {\n      border-left: 2px solid #aaa; }\n    .tabulator.tabulator-rtl .tabulator-row .tabulator-cell.tabulator-frozen.tabulator-frozen-right {\n      border-right: 2px solid #aaa; }\n  .tabulator.tabulator-rtl .tabulator-row .tabulator-col-resize-handle:last-of-type {\n    width: 3px;\n    margin-left: 0;\n    margin-right: -3px; }\n  .tabulator.tabulator-rtl .tabulator-footer .tabulator-calcs-holder {\n    text-align: initial; }\n\n.tabulator-print-fullscreen {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  z-index: 10000; }\n\nbody.tabulator-print-fullscreen-hide > *:not(.tabulator-print-fullscreen) {\n  display: none !important; }\n\n.tabulator-print-table {\n  border-collapse: collapse; }\n  .tabulator-print-table .tabulator-data-tree-branch {\n    display: inline-block;\n    vertical-align: middle;\n    height: 9px;\n    width: 7px;\n    margin-top: -9px;\n    margin-right: 5px;\n    border-bottom-left-radius: 1px;\n    border-left: 2px solid #aaa;\n    border-bottom: 2px solid #aaa; }\n  .tabulator-print-table .tabulator-print-table-group {\n    box-sizing: border-box;\n    border-bottom: 1px solid #999;\n    border-right: 1px solid #aaa;\n    border-top: 1px solid #999;\n    padding: 5px;\n    padding-left: 10px;\n    background: #ccc;\n    font-weight: bold;\n    min-width: 100%; }\n    @media (hover: hover) and (pointer: fine) {\n      .tabulator-print-table .tabulator-print-table-group:hover {\n        cursor: pointer;\n        background-color: rgba(0, 0, 0, 0.1); } }\n    .tabulator-print-table .tabulator-print-table-group.tabulator-group-visible .tabulator-arrow {\n      margin-right: 10px;\n      border-left: 6px solid transparent;\n      border-right: 6px solid transparent;\n      border-top: 6px solid #666;\n      border-bottom: 0; }\n    .tabulator-print-table .tabulator-print-table-group.tabulator-group-level-1 td {\n      padding-left: 30px !important; }\n    .tabulator-print-table .tabulator-print-table-group.tabulator-group-level-2 td {\n      padding-left: 50px !important; }\n    .tabulator-print-table .tabulator-print-table-group.tabulator-group-level-3 td {\n      padding-left: 70px !important; }\n    .tabulator-print-table .tabulator-print-table-group.tabulator-group-level-4 td {\n      padding-left: 90px !important; }\n    .tabulator-print-table .tabulator-print-table-group.tabulator-group-level-5 td {\n      padding-left: 110px !important; }\n    .tabulator-print-table .tabulator-print-table-group .tabulator-group-toggle {\n      display: inline-block; }\n    .tabulator-print-table .tabulator-print-table-group .tabulator-arrow {\n      display: inline-block;\n      width: 0;\n      height: 0;\n      margin-right: 16px;\n      border-top: 6px solid transparent;\n      border-bottom: 6px solid transparent;\n      border-right: 0;\n      border-left: 6px solid #666;\n      vertical-align: middle; }\n    .tabulator-print-table .tabulator-print-table-group span {\n      margin-left: 10px;\n      color: #d00; }\n  .tabulator-print-table .tabulator-data-tree-control {\n    display: inline-flex;\n    justify-content: center;\n    align-items: center;\n    vertical-align: middle;\n    height: 11px;\n    width: 11px;\n    margin-right: 5px;\n    border: 1px solid #333;\n    border-radius: 2px;\n    background: rgba(0, 0, 0, 0.1);\n    overflow: hidden; }\n    @media (hover: hover) and (pointer: fine) {\n      .tabulator-print-table .tabulator-data-tree-control:hover {\n        cursor: pointer;\n        background: rgba(0, 0, 0, 0.2); } }\n    .tabulator-print-table .tabulator-data-tree-control .tabulator-data-tree-control-collapse {\n      display: inline-block;\n      position: relative;\n      height: 7px;\n      width: 1px;\n      background: transparent; }\n      .tabulator-print-table .tabulator-data-tree-control .tabulator-data-tree-control-collapse:after {\n        position: absolute;\n        content: "";\n        left: -3px;\n        top: 3px;\n        height: 1px;\n        width: 7px;\n        background: #333; }\n    .tabulator-print-table .tabulator-data-tree-control .tabulator-data-tree-control-expand {\n      display: inline-block;\n      position: relative;\n      height: 7px;\n      width: 1px;\n      background: #333; }\n      .tabulator-print-table .tabulator-data-tree-control .tabulator-data-tree-control-expand:after {\n        position: absolute;\n        content: "";\n        left: -3px;\n        top: 3px;\n        height: 1px;\n        width: 7px;\n        background: #333; }\n','.tabulator{background-color:#888;border:1px solid #999;font-size:14px;overflow:hidden;position:relative;text-align:left;-webkit-transform:translateZ(0);-moz-transform:translateZ(0);-ms-transform:translateZ(0);-o-transform:translateZ(0);transform:translateZ(0)}.tabulator[tabulator-layout=fitDataFill] .tabulator-tableholder .tabulator-table{min-width:100%}.tabulator[tabulator-layout=fitDataTable]{display:inline-block}.tabulator.tabulator-block-select,.tabulator.tabulator-ranges .tabulator-cell:not(.tabulator-editing){user-select:none}.tabulator .tabulator-header{background-color:#e6e6e6;border-bottom:1px solid #999;box-sizing:border-box;color:#555;font-weight:700;outline:none;overflow:hidden;position:relative;-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-o-user-select:none;white-space:nowrap;width:100%}.tabulator .tabulator-header.tabulator-header-hidden{display:none}.tabulator .tabulator-header .tabulator-header-contents{overflow:hidden;position:relative}.tabulator .tabulator-header .tabulator-header-contents .tabulator-headers{display:inline-block}.tabulator .tabulator-header .tabulator-col{background:#e6e6e6;border-right:1px solid #aaa;box-sizing:border-box;display:inline-flex;flex-direction:column;justify-content:flex-start;overflow:hidden;position:relative;text-align:left;vertical-align:bottom}.tabulator .tabulator-header .tabulator-col.tabulator-moving{background:#cdcdcd;border:1px solid #999;pointer-events:none;position:absolute}.tabulator .tabulator-header .tabulator-col.tabulator-range-highlight{background-color:#d6d6d6;color:#000}.tabulator .tabulator-header .tabulator-col.tabulator-range-selected{background-color:#3876ca;color:#fff}.tabulator .tabulator-header .tabulator-col .tabulator-col-content{box-sizing:border-box;padding:4px;position:relative}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-header-popup-button{padding:0 8px}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-header-popup-button:hover{cursor:pointer;opacity:.6}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-title-holder{position:relative}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-title{box-sizing:border-box;overflow:hidden;text-overflow:ellipsis;vertical-align:bottom;white-space:nowrap;width:100%}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-title.tabulator-col-title-wrap{text-overflow:clip;white-space:normal}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-title .tabulator-title-editor{background:#fff;border:1px solid #999;box-sizing:border-box;padding:1px;width:100%}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-title .tabulator-header-popup-button+.tabulator-title-editor{width:calc(100% - 22px)}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-sorter{align-items:center;bottom:0;display:flex;position:absolute;right:4px;top:0}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-sorter .tabulator-arrow{border-bottom:6px solid #bbb;border-left:6px solid transparent;border-right:6px solid transparent;height:0;width:0}.tabulator .tabulator-header .tabulator-col.tabulator-col-group .tabulator-col-group-cols{border-top:1px solid #aaa;display:flex;margin-right:-1px;overflow:hidden;position:relative}.tabulator .tabulator-header .tabulator-col .tabulator-header-filter{box-sizing:border-box;margin-top:2px;position:relative;text-align:center;width:100%}.tabulator .tabulator-header .tabulator-col .tabulator-header-filter textarea{height:auto!important}.tabulator .tabulator-header .tabulator-col .tabulator-header-filter svg{margin-top:3px}.tabulator .tabulator-header .tabulator-col .tabulator-header-filter input::-ms-clear{height:0;width:0}.tabulator .tabulator-header .tabulator-col.tabulator-sortable .tabulator-col-title{padding-right:25px}@media (hover:hover) and (pointer:fine){.tabulator .tabulator-header .tabulator-col.tabulator-sortable.tabulator-col-sorter-element:hover{background-color:#cdcdcd;cursor:pointer}}.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=none] .tabulator-col-content .tabulator-col-sorter{color:#bbb}@media (hover:hover) and (pointer:fine){.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=none] .tabulator-col-content .tabulator-col-sorter.tabulator-col-sorter-element .tabulator-arrow:hover{border-bottom:6px solid #555;cursor:pointer}}.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=none] .tabulator-col-content .tabulator-col-sorter .tabulator-arrow{border-bottom:6px solid #bbb;border-top:none}.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=ascending] .tabulator-col-content .tabulator-col-sorter{color:#666}@media (hover:hover) and (pointer:fine){.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=ascending] .tabulator-col-content .tabulator-col-sorter.tabulator-col-sorter-element .tabulator-arrow:hover{border-bottom:6px solid #555;cursor:pointer}}.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=ascending] .tabulator-col-content .tabulator-col-sorter .tabulator-arrow{border-bottom:6px solid #666;border-top:none}.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=descending] .tabulator-col-content .tabulator-col-sorter{color:#666}@media (hover:hover) and (pointer:fine){.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=descending] .tabulator-col-content .tabulator-col-sorter.tabulator-col-sorter-element .tabulator-arrow:hover{border-top:6px solid #555;cursor:pointer}}.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=descending] .tabulator-col-content .tabulator-col-sorter .tabulator-arrow{border-bottom:none;border-top:6px solid #666;color:#666}.tabulator .tabulator-header .tabulator-col.tabulator-col-vertical .tabulator-col-content .tabulator-col-title{align-items:center;display:flex;justify-content:center;text-orientation:mixed;writing-mode:vertical-rl}.tabulator .tabulator-header .tabulator-col.tabulator-col-vertical.tabulator-col-vertical-flip .tabulator-col-title{transform:rotate(180deg)}.tabulator .tabulator-header .tabulator-col.tabulator-col-vertical.tabulator-sortable .tabulator-col-title{padding-right:0;padding-top:20px}.tabulator .tabulator-header .tabulator-col.tabulator-col-vertical.tabulator-sortable.tabulator-col-vertical-flip .tabulator-col-title{padding-bottom:20px;padding-right:0}.tabulator .tabulator-header .tabulator-col.tabulator-col-vertical.tabulator-sortable .tabulator-col-sorter{bottom:auto;justify-content:center;left:0;right:0;top:4px}.tabulator .tabulator-header .tabulator-frozen{left:0;position:sticky;z-index:11}.tabulator .tabulator-header .tabulator-frozen.tabulator-frozen-left{border-right:2px solid #aaa}.tabulator .tabulator-header .tabulator-frozen.tabulator-frozen-right{border-left:2px solid #aaa}.tabulator .tabulator-header .tabulator-calcs-holder{background:#f3f3f3!important;border-bottom:1px solid #aaa;border-top:1px solid #aaa;box-sizing:border-box;display:inline-block}.tabulator .tabulator-header .tabulator-calcs-holder .tabulator-row{background:#f3f3f3!important}.tabulator .tabulator-header .tabulator-calcs-holder .tabulator-row .tabulator-col-resize-handle{display:none}.tabulator .tabulator-header .tabulator-frozen-rows-holder{display:inline-block}.tabulator .tabulator-header .tabulator-frozen-rows-holder:empty{display:none}.tabulator .tabulator-tableholder{-webkit-overflow-scrolling:touch;overflow:auto;position:relative;white-space:nowrap;width:100%}.tabulator .tabulator-tableholder:focus{outline:none}.tabulator .tabulator-tableholder .tabulator-placeholder{align-items:center;box-sizing:border-box;display:flex;justify-content:center;min-width:100%;width:100%}.tabulator .tabulator-tableholder .tabulator-placeholder[tabulator-render-mode=virtual]{min-height:100%}.tabulator .tabulator-tableholder .tabulator-placeholder .tabulator-placeholder-contents{color:#ccc;display:inline-block;font-size:20px;font-weight:700;padding:10px;text-align:center;white-space:normal}.tabulator .tabulator-tableholder .tabulator-table{background-color:#fff;color:#333;display:inline-block;overflow:visible;position:relative;white-space:nowrap}.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-calcs{background:#e2e2e2!important;font-weight:700}.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-calcs.tabulator-calcs-top{border-bottom:2px solid #aaa}.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-calcs.tabulator-calcs-bottom{border-top:2px solid #aaa}.tabulator .tabulator-tableholder .tabulator-range-overlay{inset:0;pointer-events:none;position:absolute;z-index:10}.tabulator .tabulator-tableholder .tabulator-range-overlay .tabulator-range{border:1px solid #2975dd;box-sizing:border-box;position:absolute}.tabulator .tabulator-tableholder .tabulator-range-overlay .tabulator-range.tabulator-range-active:after{background-color:#2975dd;border-radius:999px;bottom:-3px;content:"";height:6px;position:absolute;right:-3px;width:6px}.tabulator .tabulator-tableholder .tabulator-range-overlay .tabulator-range-cell-active{border:2px solid #2975dd;box-sizing:border-box;position:absolute}.tabulator .tabulator-footer{background-color:#e6e6e6;border-top:1px solid #999;color:#555;font-weight:700;user-select:none;-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-o-user-select:none;white-space:nowrap}.tabulator .tabulator-footer .tabulator-footer-contents{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:5px 10px}.tabulator .tabulator-footer .tabulator-footer-contents:empty{display:none}.tabulator .tabulator-footer .tabulator-calcs-holder{background:#f3f3f3!important;border-bottom:1px solid #aaa;border-top:1px solid #aaa;box-sizing:border-box;overflow:hidden;text-align:left;width:100%}.tabulator .tabulator-footer .tabulator-calcs-holder .tabulator-row{background:#f3f3f3!important;display:inline-block}.tabulator .tabulator-footer .tabulator-calcs-holder .tabulator-row .tabulator-col-resize-handle{display:none}.tabulator .tabulator-footer .tabulator-calcs-holder:only-child{border-bottom:none;margin-bottom:-5px}.tabulator .tabulator-footer>*+.tabulator-page-counter{margin-left:10px}.tabulator .tabulator-footer .tabulator-page-counter{font-weight:400}.tabulator .tabulator-footer .tabulator-paginator{color:#555;flex:1;font-family:inherit;font-size:inherit;font-weight:inherit;text-align:right}.tabulator .tabulator-footer .tabulator-page-size{border:1px solid #aaa;border-radius:3px;display:inline-block;margin:0 5px;padding:2px 5px}.tabulator .tabulator-footer .tabulator-pages{margin:0 7px}.tabulator .tabulator-footer .tabulator-page{background:hsla(0,0%,100%,.2);border:1px solid #aaa;border-radius:3px;display:inline-block;margin:0 2px;padding:2px 5px}.tabulator .tabulator-footer .tabulator-page.active{color:#d00}.tabulator .tabulator-footer .tabulator-page:disabled{opacity:.5}@media (hover:hover) and (pointer:fine){.tabulator .tabulator-footer .tabulator-page:not(disabled):hover{background:rgba(0,0,0,.2);color:#fff;cursor:pointer}}.tabulator .tabulator-col-resize-handle{display:inline-block;margin-left:-3px;margin-right:-3px;position:relative;vertical-align:middle;width:6px;z-index:11}@media (hover:hover) and (pointer:fine){.tabulator .tabulator-col-resize-handle:hover{cursor:ew-resize}}.tabulator .tabulator-col-resize-handle:last-of-type{margin-right:0;width:3px}.tabulator .tabulator-alert{align-items:center;background:rgba(0,0,0,.4);display:flex;height:100%;left:0;position:absolute;text-align:center;top:0;width:100%;z-index:100}.tabulator .tabulator-alert .tabulator-alert-msg{background:#fff;border-radius:10px;display:inline-block;font-size:16px;font-weight:700;margin:0 auto;padding:10px 20px}.tabulator .tabulator-alert .tabulator-alert-msg.tabulator-alert-state-msg{border:4px solid #333;color:#000}.tabulator .tabulator-alert .tabulator-alert-msg.tabulator-alert-state-error{border:4px solid #d00;color:#590000}.tabulator-row{background-color:#fff;box-sizing:border-box;min-height:22px;position:relative}.tabulator-row.tabulator-row-even{background-color:#efefef}@media (hover:hover) and (pointer:fine){.tabulator-row.tabulator-selectable:hover{background-color:#bbb;cursor:pointer}}.tabulator-row.tabulator-selected{background-color:#9abcea}@media (hover:hover) and (pointer:fine){.tabulator-row.tabulator-selected:hover{background-color:#769bcc;cursor:pointer}}.tabulator-row.tabulator-row-moving{background:#fff;border:1px solid #000}.tabulator-row.tabulator-moving{border-bottom:1px solid #aaa;border-top:1px solid #aaa;pointer-events:none;position:absolute;z-index:15}.tabulator-row.tabulator-range-highlight .tabulator-cell.tabulator-range-row-header{background-color:#d6d6d6;color:#000}.tabulator-row.tabulator-range-highlight.tabulator-range-selected .tabulator-cell.tabulator-range-row-header,.tabulator-row.tabulator-range-selected .tabulator-cell.tabulator-range-row-header{background-color:#3876ca;color:#fff}.tabulator-row .tabulator-row-resize-handle{bottom:0;height:5px;left:0;position:absolute;right:0}.tabulator-row .tabulator-row-resize-handle.prev{bottom:auto;top:0}@media (hover:hover) and (pointer:fine){.tabulator-row .tabulator-row-resize-handle:hover{cursor:ns-resize}}.tabulator-row .tabulator-responsive-collapse{border-bottom:1px solid #aaa;border-top:1px solid #aaa;box-sizing:border-box;padding:5px}.tabulator-row .tabulator-responsive-collapse:empty{display:none}.tabulator-row .tabulator-responsive-collapse table{font-size:14px}.tabulator-row .tabulator-responsive-collapse table tr td{position:relative}.tabulator-row .tabulator-responsive-collapse table tr td:first-of-type{padding-right:10px}.tabulator-row .tabulator-cell{border-right:1px solid #aaa;box-sizing:border-box;display:inline-block;outline:none;overflow:hidden;padding:4px;position:relative;text-overflow:ellipsis;vertical-align:middle;white-space:nowrap}.tabulator-row .tabulator-cell.tabulator-frozen{background-color:inherit;display:inline-block;left:0;position:sticky;z-index:11}.tabulator-row .tabulator-cell.tabulator-frozen.tabulator-frozen-left{border-right:2px solid #aaa}.tabulator-row .tabulator-cell.tabulator-frozen.tabulator-frozen-right{border-left:2px solid #aaa}.tabulator-row .tabulator-cell.tabulator-editing{border:1px solid #1d68cd;outline:none;padding:0}.tabulator-row .tabulator-cell.tabulator-editing input,.tabulator-row .tabulator-cell.tabulator-editing select{background:transparent;border:1px;outline:none}.tabulator-row .tabulator-cell.tabulator-validation-fail{border:1px solid #d00}.tabulator-row .tabulator-cell.tabulator-validation-fail input,.tabulator-row .tabulator-cell.tabulator-validation-fail select{background:transparent;border:1px;color:#d00}.tabulator-row .tabulator-cell.tabulator-row-handle{align-items:center;display:inline-flex;justify-content:center;-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-o-user-select:none}.tabulator-row .tabulator-cell.tabulator-row-handle .tabulator-row-handle-box{width:80%}.tabulator-row .tabulator-cell.tabulator-row-handle .tabulator-row-handle-box .tabulator-row-handle-bar{background:#666;height:3px;margin-top:2px;width:100%}.tabulator-row .tabulator-cell.tabulator-range-selected:not(.tabulator-range-only-cell-selected):not(.tabulator-range-row-header){background-color:#9abcea}.tabulator-row .tabulator-cell .tabulator-data-tree-branch-empty{display:inline-block;width:7px}.tabulator-row .tabulator-cell .tabulator-data-tree-branch{border-bottom:2px solid #aaa;border-bottom-left-radius:1px;border-left:2px solid #aaa;display:inline-block;height:9px;margin-right:5px;margin-top:-9px;vertical-align:middle;width:7px}.tabulator-row .tabulator-cell .tabulator-data-tree-control{align-items:center;background:rgba(0,0,0,.1);border:1px solid #333;border-radius:2px;display:inline-flex;height:11px;justify-content:center;margin-right:5px;overflow:hidden;vertical-align:middle;width:11px}@media (hover:hover) and (pointer:fine){.tabulator-row .tabulator-cell .tabulator-data-tree-control:hover{background:rgba(0,0,0,.2);cursor:pointer}}.tabulator-row .tabulator-cell .tabulator-data-tree-control .tabulator-data-tree-control-collapse{background:transparent;display:inline-block;height:7px;position:relative;width:1px}.tabulator-row .tabulator-cell .tabulator-data-tree-control .tabulator-data-tree-control-collapse:after{background:#333;content:"";height:1px;left:-3px;position:absolute;top:3px;width:7px}.tabulator-row .tabulator-cell .tabulator-data-tree-control .tabulator-data-tree-control-expand{background:#333;display:inline-block;height:7px;position:relative;width:1px}.tabulator-row .tabulator-cell .tabulator-data-tree-control .tabulator-data-tree-control-expand:after{background:#333;content:"";height:1px;left:-3px;position:absolute;top:3px;width:7px}.tabulator-row .tabulator-cell .tabulator-responsive-collapse-toggle{align-items:center;background:#666;border-radius:20px;color:#fff;display:inline-flex;font-size:1.1em;font-weight:700;height:15px;justify-content:center;-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-o-user-select:none;width:15px}@media (hover:hover) and (pointer:fine){.tabulator-row .tabulator-cell .tabulator-responsive-collapse-toggle:hover{cursor:pointer;opacity:.7}}.tabulator-row .tabulator-cell .tabulator-responsive-collapse-toggle.open .tabulator-responsive-collapse-toggle-close{display:initial}.tabulator-row .tabulator-cell .tabulator-responsive-collapse-toggle.open .tabulator-responsive-collapse-toggle-open{display:none}.tabulator-row .tabulator-cell .tabulator-responsive-collapse-toggle svg{stroke:#fff}.tabulator-row .tabulator-cell .tabulator-responsive-collapse-toggle .tabulator-responsive-collapse-toggle-close{display:none}.tabulator-row .tabulator-cell .tabulator-traffic-light{border-radius:14px;display:inline-block;height:14px;width:14px}.tabulator-row.tabulator-group{background:#ccc;border-bottom:1px solid #999;border-right:1px solid #aaa;border-top:1px solid #999;box-sizing:border-box;font-weight:700;min-width:100%;padding:5px 5px 5px 10px}@media (hover:hover) and (pointer:fine){.tabulator-row.tabulator-group:hover{background-color:rgba(0,0,0,.1);cursor:pointer}}.tabulator-row.tabulator-group.tabulator-group-visible .tabulator-arrow{border-bottom:0;border-left:6px solid transparent;border-right:6px solid transparent;border-top:6px solid #666;margin-right:10px}.tabulator-row.tabulator-group.tabulator-group-level-1{padding-left:30px}.tabulator-row.tabulator-group.tabulator-group-level-2{padding-left:50px}.tabulator-row.tabulator-group.tabulator-group-level-3{padding-left:70px}.tabulator-row.tabulator-group.tabulator-group-level-4{padding-left:90px}.tabulator-row.tabulator-group.tabulator-group-level-5{padding-left:110px}.tabulator-row.tabulator-group .tabulator-group-toggle{display:inline-block}.tabulator-row.tabulator-group .tabulator-arrow{border-bottom:6px solid transparent;border-left:6px solid #666;border-right:0;border-top:6px solid transparent;display:inline-block;height:0;margin-right:16px;vertical-align:middle;width:0}.tabulator-row.tabulator-group span{color:#d00;margin-left:10px}.tabulator-popup-container{-webkit-overflow-scrolling:touch;background:#fff;border:1px solid #aaa;box-shadow:0 0 5px 0 rgba(0,0,0,.2);box-sizing:border-box;display:inline-block;font-size:14px;overflow-y:auto;position:absolute;z-index:10000}.tabulator-popup{border-radius:3px;padding:5px}.tabulator-tooltip{border-radius:2px;box-shadow:none;font-size:12px;max-width:Min(500px,100%);padding:3px 5px;pointer-events:none}.tabulator-menu .tabulator-menu-item{box-sizing:border-box;padding:5px 10px;position:relative;user-select:none}.tabulator-menu .tabulator-menu-item.tabulator-menu-item-disabled{opacity:.5}@media (hover:hover) and (pointer:fine){.tabulator-menu .tabulator-menu-item:not(.tabulator-menu-item-disabled):hover{background:#efefef;cursor:pointer}}.tabulator-menu .tabulator-menu-item.tabulator-menu-item-submenu{padding-right:25px}.tabulator-menu .tabulator-menu-item.tabulator-menu-item-submenu:after{border-color:#aaa;border-style:solid;border-width:1px 1px 0 0;content:"";display:inline-block;height:7px;position:absolute;right:10px;top:calc(5px + .4em);transform:rotate(45deg);vertical-align:top;width:7px}.tabulator-menu .tabulator-menu-separator{border-top:1px solid #aaa}.tabulator-edit-list{-webkit-overflow-scrolling:touch;font-size:14px;max-height:200px;overflow-y:auto}.tabulator-edit-list .tabulator-edit-list-item{color:#333;outline:none;padding:4px}.tabulator-edit-list .tabulator-edit-list-item.active{background:#1d68cd;color:#fff}.tabulator-edit-list .tabulator-edit-list-item.active.focused{outline:1px solid hsla(0,0%,100%,.5)}.tabulator-edit-list .tabulator-edit-list-item.focused{outline:1px solid #1d68cd}@media (hover:hover) and (pointer:fine){.tabulator-edit-list .tabulator-edit-list-item:hover{background:#1d68cd;color:#fff;cursor:pointer}}.tabulator-edit-list .tabulator-edit-list-placeholder{color:#333;padding:4px;text-align:center}.tabulator-edit-list .tabulator-edit-list-group{border-bottom:1px solid #aaa;color:#333;font-weight:700;padding:6px 4px 4px}.tabulator-edit-list .tabulator-edit-list-group.tabulator-edit-list-group-level-2,.tabulator-edit-list .tabulator-edit-list-item.tabulator-edit-list-group-level-2{padding-left:12px}.tabulator-edit-list .tabulator-edit-list-group.tabulator-edit-list-group-level-3,.tabulator-edit-list .tabulator-edit-list-item.tabulator-edit-list-group-level-3{padding-left:20px}.tabulator-edit-list .tabulator-edit-list-group.tabulator-edit-list-group-level-4,.tabulator-edit-list .tabulator-edit-list-item.tabulator-edit-list-group-level-4{padding-left:28px}.tabulator-edit-list .tabulator-edit-list-group.tabulator-edit-list-group-level-5,.tabulator-edit-list .tabulator-edit-list-item.tabulator-edit-list-group-level-5{padding-left:36px}.tabulator.tabulator-ltr{direction:ltr}.tabulator.tabulator-rtl{direction:rtl;text-align:initial}.tabulator.tabulator-rtl .tabulator-header .tabulator-col{border-left:1px solid #aaa;border-right:initial;text-align:initial}.tabulator.tabulator-rtl .tabulator-header .tabulator-col.tabulator-col-group .tabulator-col-group-cols{margin-left:-1px;margin-right:0}.tabulator.tabulator-rtl .tabulator-header .tabulator-col.tabulator-sortable .tabulator-col-title{padding-left:25px;padding-right:0}.tabulator.tabulator-rtl .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-sorter{left:8px;right:auto}.tabulator.tabulator-rtl .tabulator-row .tabulator-cell{border-left:1px solid #aaa;border-right:initial}.tabulator.tabulator-rtl .tabulator-row .tabulator-cell .tabulator-data-tree-branch{border-bottom-left-radius:0;border-bottom-right-radius:1px;border-left:initial;border-right:2px solid #aaa;margin-left:5px;margin-right:0}.tabulator.tabulator-rtl .tabulator-row .tabulator-cell .tabulator-data-tree-control{margin-left:5px;margin-right:0}.tabulator.tabulator-rtl .tabulator-row .tabulator-cell.tabulator-frozen.tabulator-frozen-left{border-left:2px solid #aaa}.tabulator.tabulator-rtl .tabulator-row .tabulator-cell.tabulator-frozen.tabulator-frozen-right{border-right:2px solid #aaa}.tabulator.tabulator-rtl .tabulator-row .tabulator-col-resize-handle:last-of-type{margin-left:0;margin-right:-3px;width:3px}.tabulator.tabulator-rtl .tabulator-footer .tabulator-calcs-holder{text-align:initial}.tabulator-print-fullscreen{bottom:0;left:0;position:absolute;right:0;top:0;z-index:10000}body.tabulator-print-fullscreen-hide>:not(.tabulator-print-fullscreen){display:none!important}.tabulator-print-table{border-collapse:collapse}.tabulator-print-table .tabulator-data-tree-branch{border-bottom:2px solid #aaa;border-bottom-left-radius:1px;border-left:2px solid #aaa;display:inline-block;height:9px;margin-right:5px;margin-top:-9px;vertical-align:middle;width:7px}.tabulator-print-table .tabulator-print-table-group{background:#ccc;border-bottom:1px solid #999;border-right:1px solid #aaa;border-top:1px solid #999;box-sizing:border-box;font-weight:700;min-width:100%;padding:5px 5px 5px 10px}@media (hover:hover) and (pointer:fine){.tabulator-print-table .tabulator-print-table-group:hover{background-color:rgba(0,0,0,.1);cursor:pointer}}.tabulator-print-table .tabulator-print-table-group.tabulator-group-visible .tabulator-arrow{border-bottom:0;border-left:6px solid transparent;border-right:6px solid transparent;border-top:6px solid #666;margin-right:10px}.tabulator-print-table .tabulator-print-table-group.tabulator-group-level-1 td{padding-left:30px!important}.tabulator-print-table .tabulator-print-table-group.tabulator-group-level-2 td{padding-left:50px!important}.tabulator-print-table .tabulator-print-table-group.tabulator-group-level-3 td{padding-left:70px!important}.tabulator-print-table .tabulator-print-table-group.tabulator-group-level-4 td{padding-left:90px!important}.tabulator-print-table .tabulator-print-table-group.tabulator-group-level-5 td{padding-left:110px!important}.tabulator-print-table .tabulator-print-table-group .tabulator-group-toggle{display:inline-block}.tabulator-print-table .tabulator-print-table-group .tabulator-arrow{border-bottom:6px solid transparent;border-left:6px solid #666;border-right:0;border-top:6px solid transparent;display:inline-block;height:0;margin-right:16px;vertical-align:middle;width:0}.tabulator-print-table .tabulator-print-table-group span{color:#d00;margin-left:10px}.tabulator-print-table .tabulator-data-tree-control{align-items:center;background:rgba(0,0,0,.1);border:1px solid #333;border-radius:2px;display:inline-flex;height:11px;justify-content:center;margin-right:5px;overflow:hidden;vertical-align:middle;width:11px}@media (hover:hover) and (pointer:fine){.tabulator-print-table .tabulator-data-tree-control:hover{background:rgba(0,0,0,.2);cursor:pointer}}.tabulator-print-table .tabulator-data-tree-control .tabulator-data-tree-control-collapse{background:transparent;display:inline-block;height:7px;position:relative;width:1px}.tabulator-print-table .tabulator-data-tree-control .tabulator-data-tree-control-collapse:after{background:#333;content:"";height:1px;left:-3px;position:absolute;top:3px;width:7px}.tabulator-print-table .tabulator-data-tree-control .tabulator-data-tree-control-expand{background:#333;display:inline-block;height:7px;position:relative;width:1px}.tabulator-print-table .tabulator-data-tree-control .tabulator-data-tree-control-expand:after{background:#333;content:"";height:1px;left:-3px;position:absolute;top:3px;width:7px}\n/*# sourceMappingURL=tabulator.min.css.map */'],sourceRoot:""}]),e.A=a},314:function(t){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i="",o=void 0!==e[5];return e[4]&&(i+="@supports (".concat(e[4],") {")),e[2]&&(i+="@media ".concat(e[2]," {")),o&&(i+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),i+=t(e),o&&(i+="}"),e[2]&&(i+="}"),e[4]&&(i+="}"),i})).join("")},e.i=function(t,i,o,r,n){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(o)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var u=0;u<t.length;u++){var h=[].concat(t[u]);o&&a[h[0]]||(void 0!==n&&(void 0===h[5]||(h[1]="@layer".concat(h[5].length>0?" ".concat(h[5]):""," {").concat(h[1],"}")),h[5]=n),i&&(h[2]?(h[1]="@media ".concat(h[2]," {").concat(h[1],"}"),h[2]=i):h[2]=i),r&&(h[4]?(h[1]="@supports (".concat(h[4],") {").concat(h[1],"}"),h[4]=r):h[4]="".concat(r)),e.push(h))}},e}},354:function(t){t.exports=function(t){var e=t[1],i=t[3];if(!i)return e;if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),n="/*# ".concat(r," */");return[e].concat([n]).join("\n")}return[e].join("\n")}},551:function(t,e,i){var o=i(540),r=i(982);function n(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(t,e){u(t,e),u(t+"Capture",e)}function u(t,e){for(s[t]=e,t=0;t<e.length;t++)a.add(e[t])}var h=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},b={};function g(t,e,i,o,r,n,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=i,this.propertyName=t,this.type=e,this.sanitizeURL=n,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){m[t]=new g(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];m[e]=new g(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){m[t]=new g(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){m[t]=new g(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){m[t]=new g(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){m[t]=new g(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){m[t]=new g(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){m[t]=new g(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){m[t]=new g(t,5,!1,t.toLowerCase(),null,!1,!1)}));var f=/[\-:]([a-z])/g;function v(t){return t[1].toUpperCase()}function w(t,e,i,o){var r=m.hasOwnProperty(e)?m[e]:null;(null!==r?0!==r.type:o||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,i,o){if(null==e||function(t,e,i,o){if(null!==i&&0===i.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!o&&(null!==i?!i.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,i,o))return!0;if(o)return!1;if(null!==i)switch(i.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,i,r,o)&&(i=null),o||null===r?function(t){return!!c.call(b,t)||!c.call(p,t)&&(d.test(t)?b[t]=!0:(p[t]=!0,!1))}(e)&&(null===i?t.removeAttribute(e):t.setAttribute(e,""+i)):r.mustUseProperty?t[r.propertyName]=null===i?3!==r.type&&"":i:(e=r.attributeName,o=r.attributeNamespace,null===i?t.removeAttribute(e):(i=3===(r=r.type)||4===r&&!0===i?"":""+i,o?t.setAttributeNS(o,e,i):t.setAttribute(e,i))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(f,v);m[e]=new g(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(f,v);m[e]=new g(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(f,v);m[e]=new g(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!0,!0)}));var C=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,y=Symbol.for("react.element"),x=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),_=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),z=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function P(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=L&&t[L]||t["@@iterator"])?t:null}var F,O=Object.assign;function H(t){if(void 0===F)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);F=e&&e[1]||""}return"\n"+F+t}var I=!1;function N(t,e){if(!t||I)return"";I=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(t){var o=t}Reflect.construct(t,[],e)}else{try{e.call()}catch(t){o=t}t.call(e.prototype)}else{try{throw Error()}catch(t){o=t}t()}}catch(e){if(e&&o&&"string"==typeof e.stack){for(var r=e.stack.split("\n"),n=o.stack.split("\n"),a=r.length-1,s=n.length-1;1<=a&&0<=s&&r[a]!==n[s];)s--;for(;1<=a&&0<=s;a--,s--)if(r[a]!==n[s]){if(1!==a||1!==s)do{if(a--,0>--s||r[a]!==n[s]){var l="\n"+r[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}}while(1<=a&&0<=s);break}}}finally{I=!1,Error.prepareStackTrace=i}return(t=t?t.displayName||t.name:"")?H(t):""}function V(t){switch(t.tag){case 5:return H(t.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return t=N(t.type,!1);case 11:return t=N(t.type.render,!1);case 1:return t=N(t.type,!0);default:return""}}function W(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case A:return"Fragment";case x:return"Portal";case k:return"Profiler";case E:return"StrictMode";case M:return"Suspense";case S:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case _:return(t.displayName||"Context")+".Consumer";case B:return(t._context.displayName||"Context")+".Provider";case R:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case T:return null!==(e=t.displayName||null)?e:W(t.type)||"Memo";case z:e=t._payload,t=t._init;try{return W(t(e))}catch(t){}}return null}function j(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(e);case 8:return e===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e}return null}function G(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function U(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function q(t){t._valueTracker||(t._valueTracker=function(t){var e=U(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),o=""+t[e];if(!t.hasOwnProperty(e)&&void 0!==i&&"function"==typeof i.get&&"function"==typeof i.set){var r=i.get,n=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(t){o=""+t,n.call(this,t)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(t){o=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function $(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),o="";return t&&(o=U(t)?t.checked?"true":"false":t.value),(t=o)!==i&&(e.setValue(t),!0)}function Y(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function X(t,e){var i=e.checked;return O({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=i?i:t._wrapperState.initialChecked})}function K(t,e){var i=null==e.defaultValue?"":e.defaultValue,o=null!=e.checked?e.checked:e.defaultChecked;i=G(null!=e.value?e.value:i),t._wrapperState={initialChecked:o,initialValue:i,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Q(t,e){null!=(e=e.checked)&&w(t,"checked",e,!1)}function J(t,e){Q(t,e);var i=G(e.value),o=e.type;if(null!=i)"number"===o?(0===i&&""===t.value||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if("submit"===o||"reset"===o)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,i):e.hasOwnProperty("defaultValue")&&tt(t,e.type,G(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Z(t,e,i){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var o=e.type;if(!("submit"!==o&&"reset"!==o||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,i||e===t.value||(t.value=e),t.defaultValue=e}""!==(i=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==i&&(t.name=i)}function tt(t,e,i){"number"===e&&Y(t.ownerDocument)===t||(null==i?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}var et=Array.isArray;function it(t,e,i,o){if(t=t.options,e){e={};for(var r=0;r<i.length;r++)e["$"+i[r]]=!0;for(i=0;i<t.length;i++)r=e.hasOwnProperty("$"+t[i].value),t[i].selected!==r&&(t[i].selected=r),r&&o&&(t[i].defaultSelected=!0)}else{for(i=""+G(i),e=null,r=0;r<t.length;r++){if(t[r].value===i)return t[r].selected=!0,void(o&&(t[r].defaultSelected=!0));null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function ot(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(n(91));return O({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rt(t,e){var i=e.value;if(null==i){if(i=e.children,e=e.defaultValue,null!=i){if(null!=e)throw Error(n(92));if(et(i)){if(1<i.length)throw Error(n(93));i=i[0]}e=i}null==e&&(e=""),i=e}t._wrapperState={initialValue:G(i)}}function nt(t,e){var i=G(e.value),o=G(e.defaultValue);null!=i&&((i=""+i)!==t.value&&(t.value=i),null==e.defaultValue&&t.defaultValue!==i&&(t.defaultValue=i)),null!=o&&(t.defaultValue=""+o)}function at(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function st(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?st(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ut,ht,ct=(ht=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ut=ut||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ut.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,i,o){MSApp.execUnsafeLocalFunction((function(){return ht(t,e)}))}:ht);function dt(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&3===i.nodeType)return void(i.nodeValue=e)}t.textContent=e}var pt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bt=["Webkit","ms","Moz","O"];function gt(t,e,i){return null==e||"boolean"==typeof e||""===e?"":i||"number"!=typeof e||0===e||pt.hasOwnProperty(t)&&pt[t]?(""+e).trim():e+"px"}function mt(t,e){for(var i in t=t.style,e)if(e.hasOwnProperty(i)){var o=0===i.indexOf("--"),r=gt(i,e[i],o);"float"===i&&(i="cssFloat"),o?t.setProperty(i,r):t[i]=r}}Object.keys(pt).forEach((function(t){bt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),pt[e]=pt[t]}))}));var ft=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vt(t,e){if(e){if(ft[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(n(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(n(60));if("object"!=typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(n(61))}if(null!=e.style&&"object"!=typeof e.style)throw Error(n(62))}}function wt(t,e){if(-1===t.indexOf("-"))return"string"==typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=null;function yt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var xt=null,At=null,Et=null;function kt(t){if(t=wr(t)){if("function"!=typeof xt)throw Error(n(280));var e=t.stateNode;e&&(e=yr(e),xt(t.stateNode,t.type,e))}}function Bt(t){At?Et?Et.push(t):Et=[t]:At=t}function _t(){if(At){var t=At,e=Et;if(Et=At=null,kt(t),e)for(t=0;t<e.length;t++)kt(e[t])}}function Rt(t,e){return t(e)}function Mt(){}var St=!1;function Tt(t,e,i){if(St)return t(e,i);St=!0;try{return Rt(t,e,i)}finally{St=!1,(null!==At||null!==Et)&&(Mt(),_t())}}function zt(t,e){var i=t.stateNode;if(null===i)return null;var o=yr(i);if(null===o)return null;i=o[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(o=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!o;break t;default:t=!1}if(t)return null;if(i&&"function"!=typeof i)throw Error(n(231,e,typeof i));return i}var Dt=!1;if(h)try{var Lt={};Object.defineProperty(Lt,"passive",{get:function(){Dt=!0}}),window.addEventListener("test",Lt,Lt),window.removeEventListener("test",Lt,Lt)}catch(ht){Dt=!1}function Pt(t,e,i,o,r,n,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(i,u)}catch(t){this.onError(t)}}var Ft=!1,Ot=null,Ht=!1,It=null,Nt={onError:function(t){Ft=!0,Ot=t}};function Vt(t,e,i,o,r,n,a,s,l){Ft=!1,Ot=null,Pt.apply(Nt,arguments)}function Wt(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{!!(4098&(e=t).flags)&&(i=e.return),t=e.return}while(t)}return 3===e.tag?i:null}function jt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Gt(t){if(Wt(t)!==t)throw Error(n(188))}function Ut(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=Wt(t)))throw Error(n(188));return e!==t?null:t}for(var i=t,o=e;;){var r=i.return;if(null===r)break;var a=r.alternate;if(null===a){if(null!==(o=r.return)){i=o;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===i)return Gt(r),t;if(a===o)return Gt(r),e;a=a.sibling}throw Error(n(188))}if(i.return!==o.return)i=r,o=a;else{for(var s=!1,l=r.child;l;){if(l===i){s=!0,i=r,o=a;break}if(l===o){s=!0,o=r,i=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===i){s=!0,i=a,o=r;break}if(l===o){s=!0,o=a,i=r;break}l=l.sibling}if(!s)throw Error(n(189))}}if(i.alternate!==o)throw Error(n(190))}if(3!==i.tag)throw Error(n(188));return i.stateNode.current===i?t:e}(t))?qt(t):null}function qt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=qt(t);if(null!==e)return e;t=t.sibling}return null}var $t=r.unstable_scheduleCallback,Yt=r.unstable_cancelCallback,Xt=r.unstable_shouldYield,Kt=r.unstable_requestPaint,Qt=r.unstable_now,Jt=r.unstable_getCurrentPriorityLevel,Zt=r.unstable_ImmediatePriority,te=r.unstable_UserBlockingPriority,ee=r.unstable_NormalPriority,ie=r.unstable_LowPriority,oe=r.unstable_IdlePriority,re=null,ne=null;var ae=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(se(t)/le|0)|0},se=Math.log,le=Math.LN2;var ue=64,he=4194304;function ce(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function de(t,e){var i=t.pendingLanes;if(0===i)return 0;var o=0,r=t.suspendedLanes,n=t.pingedLanes,a=268435455&i;if(0!==a){var s=a&~r;0!==s?o=ce(s):0!==(n&=a)&&(o=ce(n))}else 0!==(a=i&~r)?o=ce(a):0!==n&&(o=ce(n));if(0===o)return 0;if(0!==e&&e!==o&&!(e&r)&&((r=o&-o)>=(n=e&-e)||16===r&&4194240&n))return e;if(4&o&&(o|=16&i),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=o;0<e;)r=1<<(i=31-ae(e)),o|=t[i],e&=~r;return o}function pe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function be(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function ge(){var t=ue;return!(4194240&(ue<<=1))&&(ue=64),t}function me(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function fe(t,e,i){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-ae(e)]=i}function ve(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var o=31-ae(i),r=1<<o;r&e|t[o]&e&&(t[o]|=e),i&=~r}}var we=0;function Ce(t){return 1<(t&=-t)?4<t?268435455&t?16:536870912:4:1}var ye,xe,Ae,Ee,ke,Be=!1,_e=[],Re=null,Me=null,Se=null,Te=new Map,ze=new Map,De=[],Le="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pe(t,e){switch(t){case"focusin":case"focusout":Re=null;break;case"dragenter":case"dragleave":Me=null;break;case"mouseover":case"mouseout":Se=null;break;case"pointerover":case"pointerout":Te.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ze.delete(e.pointerId)}}function Fe(t,e,i,o,r,n){return null===t||t.nativeEvent!==n?(t={blockedOn:e,domEventName:i,eventSystemFlags:o,nativeEvent:n,targetContainers:[r]},null!==e&&(null!==(e=wr(e))&&xe(e)),t):(t.eventSystemFlags|=o,e=t.targetContainers,null!==r&&-1===e.indexOf(r)&&e.push(r),t)}function Oe(t){var e=vr(t.target);if(null!==e){var i=Wt(e);if(null!==i)if(13===(e=i.tag)){if(null!==(e=jt(i)))return t.blockedOn=e,void ke(t.priority,(function(){Ae(i)}))}else if(3===e&&i.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===i.tag?i.stateNode.containerInfo:null)}t.blockedOn=null}function He(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var i=Xe(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==i)return null!==(e=wr(i))&&xe(e),t.blockedOn=i,!1;var o=new(i=t.nativeEvent).constructor(i.type,i);Ct=o,i.target.dispatchEvent(o),Ct=null,e.shift()}return!0}function Ie(t,e,i){He(t)&&i.delete(e)}function Ne(){Be=!1,null!==Re&&He(Re)&&(Re=null),null!==Me&&He(Me)&&(Me=null),null!==Se&&He(Se)&&(Se=null),Te.forEach(Ie),ze.forEach(Ie)}function Ve(t,e){t.blockedOn===e&&(t.blockedOn=null,Be||(Be=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ne)))}function We(t){function e(e){return Ve(e,t)}if(0<_e.length){Ve(_e[0],t);for(var i=1;i<_e.length;i++){var o=_e[i];o.blockedOn===t&&(o.blockedOn=null)}}for(null!==Re&&Ve(Re,t),null!==Me&&Ve(Me,t),null!==Se&&Ve(Se,t),Te.forEach(e),ze.forEach(e),i=0;i<De.length;i++)(o=De[i]).blockedOn===t&&(o.blockedOn=null);for(;0<De.length&&null===(i=De[0]).blockedOn;)Oe(i),null===i.blockedOn&&De.shift()}var je=C.ReactCurrentBatchConfig,Ge=!0;function Ue(t,e,i,o){var r=we,n=je.transition;je.transition=null;try{we=1,$e(t,e,i,o)}finally{we=r,je.transition=n}}function qe(t,e,i,o){var r=we,n=je.transition;je.transition=null;try{we=4,$e(t,e,i,o)}finally{we=r,je.transition=n}}function $e(t,e,i,o){if(Ge){var r=Xe(t,e,i,o);if(null===r)Go(t,e,o,Ye,i),Pe(t,o);else if(function(t,e,i,o,r){switch(e){case"focusin":return Re=Fe(Re,t,e,i,o,r),!0;case"dragenter":return Me=Fe(Me,t,e,i,o,r),!0;case"mouseover":return Se=Fe(Se,t,e,i,o,r),!0;case"pointerover":var n=r.pointerId;return Te.set(n,Fe(Te.get(n)||null,t,e,i,o,r)),!0;case"gotpointercapture":return n=r.pointerId,ze.set(n,Fe(ze.get(n)||null,t,e,i,o,r)),!0}return!1}(r,t,e,i,o))o.stopPropagation();else if(Pe(t,o),4&e&&-1<Le.indexOf(t)){for(;null!==r;){var n=wr(r);if(null!==n&&ye(n),null===(n=Xe(t,e,i,o))&&Go(t,e,o,Ye,i),n===r)break;r=n}null!==r&&o.stopPropagation()}else Go(t,e,o,null,i)}}var Ye=null;function Xe(t,e,i,o){if(Ye=null,null!==(t=vr(t=yt(o))))if(null===(e=Wt(t)))t=null;else if(13===(i=e.tag)){if(null!==(t=jt(e)))return t;t=null}else if(3===i){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ye=t,null}function Ke(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jt()){case Zt:return 1;case te:return 4;case ee:case ie:return 16;case oe:return 536870912;default:return 16}default:return 16}}var Qe=null,Je=null,Ze=null;function ti(){if(Ze)return Ze;var t,e,i=Je,o=i.length,r="value"in Qe?Qe.value:Qe.textContent,n=r.length;for(t=0;t<o&&i[t]===r[t];t++);var a=o-t;for(e=1;e<=a&&i[o-e]===r[n-e];e++);return Ze=r.slice(t,1<e?1-e:void 0)}function ei(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function ii(){return!0}function oi(){return!1}function ri(t){function e(e,i,o,r,n){for(var a in this._reactName=e,this._targetInst=o,this.type=i,this.nativeEvent=r,this.target=n,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(r):r[a]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?ii:oi,this.isPropagationStopped=oi,this}return O(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),e}var ni,ai,si,li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ui=ri(li),hi=O({},li,{view:0,detail:0}),ci=ri(hi),di=O({},hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ei,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==si&&(si&&"mousemove"===t.type?(ni=t.screenX-si.screenX,ai=t.screenY-si.screenY):ai=ni=0,si=t),ni)},movementY:function(t){return"movementY"in t?t.movementY:ai}}),pi=ri(di),bi=ri(O({},di,{dataTransfer:0})),gi=ri(O({},hi,{relatedTarget:0})),mi=ri(O({},li,{animationName:0,elapsedTime:0,pseudoElement:0})),fi=O({},li,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vi=ri(fi),wi=ri(O({},li,{data:0})),Ci={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ai(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=xi[t])&&!!e[t]}function Ei(){return Ai}var ki=O({},hi,{key:function(t){if(t.key){var e=Ci[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=ei(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?yi[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ei,charCode:function(t){return"keypress"===t.type?ei(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?ei(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Bi=ri(ki),_i=ri(O({},di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ri=ri(O({},hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ei})),Mi=ri(O({},li,{propertyName:0,elapsedTime:0,pseudoElement:0})),Si=O({},di,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ti=ri(Si),zi=[9,13,27,32],Di=h&&"CompositionEvent"in window,Li=null;h&&"documentMode"in document&&(Li=document.documentMode);var Pi=h&&"TextEvent"in window&&!Li,Fi=h&&(!Di||Li&&8<Li&&11>=Li),Oi=String.fromCharCode(32),Hi=!1;function Ii(t,e){switch(t){case"keyup":return-1!==zi.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ni(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}var Vi=!1;var Wi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ji(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Wi[t.type]:"textarea"===e}function Gi(t,e,i,o){Bt(o),0<(e=qo(e,"onChange")).length&&(i=new ui("onChange","change",null,i,o),t.push({event:i,listeners:e}))}var Ui=null,qi=null;function $i(t){Ho(t,0)}function Yi(t){if($(Cr(t)))return t}function Xi(t,e){if("change"===t)return e}var Ki=!1;if(h){var Qi;if(h){var Ji="oninput"in document;if(!Ji){var Zi=document.createElement("div");Zi.setAttribute("oninput","return;"),Ji="function"==typeof Zi.oninput}Qi=Ji}else Qi=!1;Ki=Qi&&(!document.documentMode||9<document.documentMode)}function to(){Ui&&(Ui.detachEvent("onpropertychange",eo),qi=Ui=null)}function eo(t){if("value"===t.propertyName&&Yi(qi)){var e=[];Gi(e,qi,t,yt(t)),Tt($i,e)}}function io(t,e,i){"focusin"===t?(to(),qi=i,(Ui=e).attachEvent("onpropertychange",eo)):"focusout"===t&&to()}function oo(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Yi(qi)}function ro(t,e){if("click"===t)return Yi(e)}function no(t,e){if("input"===t||"change"===t)return Yi(e)}var ao="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e};function so(t,e){if(ao(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var i=Object.keys(t),o=Object.keys(e);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var r=i[o];if(!c.call(e,r)||!ao(t[r],e[r]))return!1}return!0}function lo(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function uo(t,e){var i,o=lo(t);for(t=0;o;){if(3===o.nodeType){if(i=t+o.textContent.length,t<=e&&i>=e)return{node:o,offset:e-t};t=i}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=lo(o)}}function ho(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?ho(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function co(){for(var t=window,e=Y();e instanceof t.HTMLIFrameElement;){try{var i="string"==typeof e.contentWindow.location.href}catch(t){i=!1}if(!i)break;e=Y((t=e.contentWindow).document)}return e}function po(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function bo(t){var e=co(),i=t.focusedElem,o=t.selectionRange;if(e!==i&&i&&i.ownerDocument&&ho(i.ownerDocument.documentElement,i)){if(null!==o&&po(i))if(e=o.start,void 0===(t=o.end)&&(t=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(t,i.value.length);else if((t=(e=i.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var r=i.textContent.length,n=Math.min(o.start,r);o=void 0===o.end?n:Math.min(o.end,r),!t.extend&&n>o&&(r=o,o=n,n=r),r=uo(i,n);var a=uo(i,o);r&&a&&(1!==t.rangeCount||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&((e=e.createRange()).setStart(r.node,r.offset),t.removeAllRanges(),n>o?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}for(e=[],t=i;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"==typeof i.focus&&i.focus(),i=0;i<e.length;i++)(t=e[i]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var go=h&&"documentMode"in document&&11>=document.documentMode,mo=null,fo=null,vo=null,wo=!1;function Co(t,e,i){var o=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;wo||null==mo||mo!==Y(o)||("selectionStart"in(o=mo)&&po(o)?o={start:o.selectionStart,end:o.selectionEnd}:o={anchorNode:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset},vo&&so(vo,o)||(vo=o,0<(o=qo(fo,"onSelect")).length&&(e=new ui("onSelect","select",null,e,i),t.push({event:e,listeners:o}),e.target=mo)))}function yo(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var xo={animationend:yo("Animation","AnimationEnd"),animationiteration:yo("Animation","AnimationIteration"),animationstart:yo("Animation","AnimationStart"),transitionend:yo("Transition","TransitionEnd")},Ao={},Eo={};function ko(t){if(Ao[t])return Ao[t];if(!xo[t])return t;var e,i=xo[t];for(e in i)if(i.hasOwnProperty(e)&&e in Eo)return Ao[t]=i[e];return t}h&&(Eo=document.createElement("div").style,"AnimationEvent"in window||(delete xo.animationend.animation,delete xo.animationiteration.animation,delete xo.animationstart.animation),"TransitionEvent"in window||delete xo.transitionend.transition);var Bo=ko("animationend"),_o=ko("animationiteration"),Ro=ko("animationstart"),Mo=ko("transitionend"),So=new Map,To="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zo(t,e){So.set(t,e),l(e,[t])}for(var Do=0;Do<To.length;Do++){var Lo=To[Do];zo(Lo.toLowerCase(),"on"+(Lo[0].toUpperCase()+Lo.slice(1)))}zo(Bo,"onAnimationEnd"),zo(_o,"onAnimationIteration"),zo(Ro,"onAnimationStart"),zo("dblclick","onDoubleClick"),zo("focusin","onFocus"),zo("focusout","onBlur"),zo(Mo,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fo=new Set("cancel close invalid load scroll toggle".split(" ").concat(Po));function Oo(t,e,i){var o=t.type||"unknown-event";t.currentTarget=i,function(t,e,i,o,r,a,s,l,u){if(Vt.apply(this,arguments),Ft){if(!Ft)throw Error(n(198));var h=Ot;Ft=!1,Ot=null,Ht||(Ht=!0,It=h)}}(o,e,void 0,t),t.currentTarget=null}function Ho(t,e){e=!!(4&e);for(var i=0;i<t.length;i++){var o=t[i],r=o.event;o=o.listeners;t:{var n=void 0;if(e)for(var a=o.length-1;0<=a;a--){var s=o[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==n&&r.isPropagationStopped())break t;Oo(r,s,u),n=l}else for(a=0;a<o.length;a++){if(l=(s=o[a]).instance,u=s.currentTarget,s=s.listener,l!==n&&r.isPropagationStopped())break t;Oo(r,s,u),n=l}}}if(Ht)throw t=It,Ht=!1,It=null,t}function Io(t,e){var i=e[gr];void 0===i&&(i=e[gr]=new Set);var o=t+"__bubble";i.has(o)||(jo(e,t,2,!1),i.add(o))}function No(t,e,i){var o=0;e&&(o|=4),jo(i,t,o,e)}var Vo="_reactListening"+Math.random().toString(36).slice(2);function Wo(t){if(!t[Vo]){t[Vo]=!0,a.forEach((function(e){"selectionchange"!==e&&(Fo.has(e)||No(e,!1,t),No(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[Vo]||(e[Vo]=!0,No("selectionchange",!1,e))}}function jo(t,e,i,o){switch(Ke(e)){case 1:var r=Ue;break;case 4:r=qe;break;default:r=$e}i=r.bind(null,e,i,t),r=void 0,!Dt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(r=!0),o?void 0!==r?t.addEventListener(e,i,{capture:!0,passive:r}):t.addEventListener(e,i,!0):void 0!==r?t.addEventListener(e,i,{passive:r}):t.addEventListener(e,i,!1)}function Go(t,e,i,o,r){var n=o;if(!(1&e||2&e||null===o))t:for(;;){if(null===o)return;var a=o.tag;if(3===a||4===a){var s=o.stateNode.containerInfo;if(s===r||8===s.nodeType&&s.parentNode===r)break;if(4===a)for(a=o.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;a=a.return}for(;null!==s;){if(null===(a=vr(s)))return;if(5===(l=a.tag)||6===l){o=n=a;continue t}s=s.parentNode}}o=o.return}Tt((function(){var o=n,r=yt(i),a=[];t:{var s=So.get(t);if(void 0!==s){var l=ui,u=t;switch(t){case"keypress":if(0===ei(i))break t;case"keydown":case"keyup":l=Bi;break;case"focusin":u="focus",l=gi;break;case"focusout":u="blur",l=gi;break;case"beforeblur":case"afterblur":l=gi;break;case"click":if(2===i.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=bi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Ri;break;case Bo:case _o:case Ro:l=mi;break;case Mo:l=Mi;break;case"scroll":l=ci;break;case"wheel":l=Ti;break;case"copy":case"cut":case"paste":l=vi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=_i}var h=!!(4&e),c=!h&&"scroll"===t,d=h?null!==s?s+"Capture":null:s;h=[];for(var p,b=o;null!==b;){var g=(p=b).stateNode;if(5===p.tag&&null!==g&&(p=g,null!==d&&(null!=(g=zt(b,d))&&h.push(Uo(b,g,p)))),c)break;b=b.return}0<h.length&&(s=new l(s,u,null,i,r),a.push({event:s,listeners:h}))}}if(!(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(s="mouseover"===t||"pointerover"===t)||i===Ct||!(u=i.relatedTarget||i.fromElement)||!vr(u)&&!u[br])&&(l||s)&&(s=r.window===r?r:(s=r.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=o,null!==(u=(u=i.relatedTarget||i.toElement)?vr(u):null)&&(u!==(c=Wt(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=o),l!==u)){if(h=pi,g="onMouseLeave",d="onMouseEnter",b="mouse","pointerout"!==t&&"pointerover"!==t||(h=_i,g="onPointerLeave",d="onPointerEnter",b="pointer"),c=null==l?s:Cr(l),p=null==u?s:Cr(u),(s=new h(g,b+"leave",l,i,r)).target=c,s.relatedTarget=p,g=null,vr(r)===o&&((h=new h(d,b+"enter",u,i,r)).target=p,h.relatedTarget=c,g=h),c=g,l&&u)t:{for(d=u,b=0,p=h=l;p;p=$o(p))b++;for(p=0,g=d;g;g=$o(g))p++;for(;0<b-p;)h=$o(h),b--;for(;0<p-b;)d=$o(d),p--;for(;b--;){if(h===d||null!==d&&h===d.alternate)break t;h=$o(h),d=$o(d)}h=null}else h=null;null!==l&&Yo(a,s,l,h,!1),null!==u&&null!==c&&Yo(a,c,u,h,!0)}if("select"===(l=(s=o?Cr(o):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Xi;else if(ji(s))if(Ki)m=no;else{m=oo;var f=io}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ro);switch(m&&(m=m(t,o))?Gi(a,m,i,r):(f&&f(t,s,o),"focusout"===t&&(f=s._wrapperState)&&f.controlled&&"number"===s.type&&tt(s,"number",s.value)),f=o?Cr(o):window,t){case"focusin":(ji(f)||"true"===f.contentEditable)&&(mo=f,fo=o,vo=null);break;case"focusout":vo=fo=mo=null;break;case"mousedown":wo=!0;break;case"contextmenu":case"mouseup":case"dragend":wo=!1,Co(a,i,r);break;case"selectionchange":if(go)break;case"keydown":case"keyup":Co(a,i,r)}var v;if(Di)t:{switch(t){case"compositionstart":var w="onCompositionStart";break t;case"compositionend":w="onCompositionEnd";break t;case"compositionupdate":w="onCompositionUpdate";break t}w=void 0}else Vi?Ii(t,i)&&(w="onCompositionEnd"):"keydown"===t&&229===i.keyCode&&(w="onCompositionStart");w&&(Fi&&"ko"!==i.locale&&(Vi||"onCompositionStart"!==w?"onCompositionEnd"===w&&Vi&&(v=ti()):(Je="value"in(Qe=r)?Qe.value:Qe.textContent,Vi=!0)),0<(f=qo(o,w)).length&&(w=new wi(w,t,null,i,r),a.push({event:w,listeners:f}),v?w.data=v:null!==(v=Ni(i))&&(w.data=v))),(v=Pi?function(t,e){switch(t){case"compositionend":return Ni(e);case"keypress":return 32!==e.which?null:(Hi=!0,Oi);case"textInput":return(t=e.data)===Oi&&Hi?null:t;default:return null}}(t,i):function(t,e){if(Vi)return"compositionend"===t||!Di&&Ii(t,e)?(t=ti(),Ze=Je=Qe=null,Vi=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Fi&&"ko"!==e.locale?null:e.data}}(t,i))&&(0<(o=qo(o,"onBeforeInput")).length&&(r=new wi("onBeforeInput","beforeinput",null,i,r),a.push({event:r,listeners:o}),r.data=v))}Ho(a,e)}))}function Uo(t,e,i){return{instance:t,listener:e,currentTarget:i}}function qo(t,e){for(var i=e+"Capture",o=[];null!==t;){var r=t,n=r.stateNode;5===r.tag&&null!==n&&(r=n,null!=(n=zt(t,i))&&o.unshift(Uo(t,n,r)),null!=(n=zt(t,e))&&o.push(Uo(t,n,r))),t=t.return}return o}function $o(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Yo(t,e,i,o,r){for(var n=e._reactName,a=[];null!==i&&i!==o;){var s=i,l=s.alternate,u=s.stateNode;if(null!==l&&l===o)break;5===s.tag&&null!==u&&(s=u,r?null!=(l=zt(i,n))&&a.unshift(Uo(i,l,s)):r||null!=(l=zt(i,n))&&a.push(Uo(i,l,s))),i=i.return}0!==a.length&&t.push({event:e,listeners:a})}var Xo=/\r\n?/g,Ko=/\u0000|\uFFFD/g;function Qo(t){return("string"==typeof t?t:""+t).replace(Xo,"\n").replace(Ko,"")}function Jo(t,e,i){if(e=Qo(e),Qo(t)!==e&&i)throw Error(n(425))}function Zo(){}var tr=null,er=null;function ir(t,e){return"textarea"===t||"noscript"===t||"string"==typeof e.children||"number"==typeof e.children||"object"==typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var or="function"==typeof setTimeout?setTimeout:void 0,rr="function"==typeof clearTimeout?clearTimeout:void 0,nr="function"==typeof Promise?Promise:void 0,ar="function"==typeof queueMicrotask?queueMicrotask:void 0!==nr?function(t){return nr.resolve(null).then(t).catch(sr)}:or;function sr(t){setTimeout((function(){throw t}))}function lr(t,e){var i=e,o=0;do{var r=i.nextSibling;if(t.removeChild(i),r&&8===r.nodeType)if("/$"===(i=r.data)){if(0===o)return t.removeChild(r),void We(e);o--}else"$"!==i&&"$?"!==i&&"$!"!==i||o++;i=r}while(i);We(e)}function ur(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function hr(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var i=t.data;if("$"===i||"$!"===i||"$?"===i){if(0===e)return t;e--}else"/$"===i&&e++}t=t.previousSibling}return null}var cr=Math.random().toString(36).slice(2),dr="__reactFiber$"+cr,pr="__reactProps$"+cr,br="__reactContainer$"+cr,gr="__reactEvents$"+cr,mr="__reactListeners$"+cr,fr="__reactHandles$"+cr;function vr(t){var e=t[dr];if(e)return e;for(var i=t.parentNode;i;){if(e=i[br]||i[dr]){if(i=e.alternate,null!==e.child||null!==i&&null!==i.child)for(t=hr(t);null!==t;){if(i=t[dr])return i;t=hr(t)}return e}i=(t=i).parentNode}return null}function wr(t){return!(t=t[dr]||t[br])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function Cr(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(n(33))}function yr(t){return t[pr]||null}var xr=[],Ar=-1;function Er(t){return{current:t}}function kr(t){0>Ar||(t.current=xr[Ar],xr[Ar]=null,Ar--)}function Br(t,e){Ar++,xr[Ar]=t.current,t.current=e}var _r={},Rr=Er(_r),Mr=Er(!1),Sr=_r;function Tr(t,e){var i=t.type.contextTypes;if(!i)return _r;var o=t.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===e)return o.__reactInternalMemoizedMaskedChildContext;var r,n={};for(r in i)n[r]=e[r];return o&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=n),n}function zr(t){return null!=(t=t.childContextTypes)}function Dr(){kr(Mr),kr(Rr)}function Lr(t,e,i){if(Rr.current!==_r)throw Error(n(168));Br(Rr,e),Br(Mr,i)}function Pr(t,e,i){var o=t.stateNode;if(e=e.childContextTypes,"function"!=typeof o.getChildContext)return i;for(var r in o=o.getChildContext())if(!(r in e))throw Error(n(108,j(t)||"Unknown",r));return O({},i,o)}function Fr(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||_r,Sr=Rr.current,Br(Rr,t),Br(Mr,Mr.current),!0}function Or(t,e,i){var o=t.stateNode;if(!o)throw Error(n(169));i?(t=Pr(t,e,Sr),o.__reactInternalMemoizedMergedChildContext=t,kr(Mr),kr(Rr),Br(Rr,t)):kr(Mr),Br(Mr,i)}var Hr=null,Ir=!1,Nr=!1;function Vr(t){null===Hr?Hr=[t]:Hr.push(t)}function Wr(){if(!Nr&&null!==Hr){Nr=!0;var t=0,e=we;try{var i=Hr;for(we=1;t<i.length;t++){var o=i[t];do{o=o(!0)}while(null!==o)}Hr=null,Ir=!1}catch(e){throw null!==Hr&&(Hr=Hr.slice(t+1)),$t(Zt,Wr),e}finally{we=e,Nr=!1}}return null}var jr=[],Gr=0,Ur=null,qr=0,$r=[],Yr=0,Xr=null,Kr=1,Qr="";function Jr(t,e){jr[Gr++]=qr,jr[Gr++]=Ur,Ur=t,qr=e}function Zr(t,e,i){$r[Yr++]=Kr,$r[Yr++]=Qr,$r[Yr++]=Xr,Xr=t;var o=Kr;t=Qr;var r=32-ae(o)-1;o&=~(1<<r),i+=1;var n=32-ae(e)+r;if(30<n){var a=r-r%5;n=(o&(1<<a)-1).toString(32),o>>=a,r-=a,Kr=1<<32-ae(e)+r|i<<r|o,Qr=n+t}else Kr=1<<n|i<<r|o,Qr=t}function tn(t){null!==t.return&&(Jr(t,1),Zr(t,1,0))}function en(t){for(;t===Ur;)Ur=jr[--Gr],jr[Gr]=null,qr=jr[--Gr],jr[Gr]=null;for(;t===Xr;)Xr=$r[--Yr],$r[Yr]=null,Qr=$r[--Yr],$r[Yr]=null,Kr=$r[--Yr],$r[Yr]=null}var on=null,rn=null,nn=!1,an=null;function sn(t,e){var i=Su(5,null,null,0);i.elementType="DELETED",i.stateNode=e,i.return=t,null===(e=t.deletions)?(t.deletions=[i],t.flags|=16):e.push(i)}function ln(t,e){switch(t.tag){case 5:var i=t.type;return null!==(e=1!==e.nodeType||i.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,on=t,rn=ur(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,on=t,rn=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(i=null!==Xr?{id:Kr,overflow:Qr}:null,t.memoizedState={dehydrated:e,treeContext:i,retryLane:1073741824},(i=Su(18,null,null,0)).stateNode=e,i.return=t,t.child=i,on=t,rn=null,!0);default:return!1}}function un(t){return!(!(1&t.mode)||128&t.flags)}function hn(t){if(nn){var e=rn;if(e){var i=e;if(!ln(t,e)){if(un(t))throw Error(n(418));e=ur(i.nextSibling);var o=on;e&&ln(t,e)?sn(o,i):(t.flags=-4097&t.flags|2,nn=!1,on=t)}}else{if(un(t))throw Error(n(418));t.flags=-4097&t.flags|2,nn=!1,on=t}}}function cn(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;on=t}function dn(t){if(t!==on)return!1;if(!nn)return cn(t),nn=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!ir(t.type,t.memoizedProps)),e&&(e=rn)){if(un(t))throw pn(),Error(n(418));for(;e;)sn(t,e),e=ur(e.nextSibling)}if(cn(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(n(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var i=t.data;if("/$"===i){if(0===e){rn=ur(t.nextSibling);break t}e--}else"$"!==i&&"$!"!==i&&"$?"!==i||e++}t=t.nextSibling}rn=null}}else rn=on?ur(t.stateNode.nextSibling):null;return!0}function pn(){for(var t=rn;t;)t=ur(t.nextSibling)}function bn(){rn=on=null,nn=!1}function gn(t){null===an?an=[t]:an.push(t)}var mn=C.ReactCurrentBatchConfig;function fn(t,e,i){if(null!==(t=i.ref)&&"function"!=typeof t&&"object"!=typeof t){if(i._owner){if(i=i._owner){if(1!==i.tag)throw Error(n(309));var o=i.stateNode}if(!o)throw Error(n(147,t));var r=o,a=""+t;return null!==e&&null!==e.ref&&"function"==typeof e.ref&&e.ref._stringRef===a?e.ref:(e=function(t){var e=r.refs;null===t?delete e[a]:e[a]=t},e._stringRef=a,e)}if("string"!=typeof t)throw Error(n(284));if(!i._owner)throw Error(n(290,t))}return t}function vn(t,e){throw t=Object.prototype.toString.call(e),Error(n(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function wn(t){return(0,t._init)(t._payload)}function Cn(t){function e(e,i){if(t){var o=e.deletions;null===o?(e.deletions=[i],e.flags|=16):o.push(i)}}function i(i,o){if(!t)return null;for(;null!==o;)e(i,o),o=o.sibling;return null}function o(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(t,e){return(t=zu(t,e)).index=0,t.sibling=null,t}function a(e,i,o){return e.index=o,t?null!==(o=e.alternate)?(o=o.index)<i?(e.flags|=2,i):o:(e.flags|=2,i):(e.flags|=1048576,i)}function s(e){return t&&null===e.alternate&&(e.flags|=2),e}function l(t,e,i,o){return null===e||6!==e.tag?((e=Fu(i,t.mode,o)).return=t,e):((e=r(e,i)).return=t,e)}function u(t,e,i,o){var n=i.type;return n===A?c(t,e,i.props.children,o,i.key):null!==e&&(e.elementType===n||"object"==typeof n&&null!==n&&n.$$typeof===z&&wn(n)===e.type)?((o=r(e,i.props)).ref=fn(t,e,i),o.return=t,o):((o=Du(i.type,i.key,i.props,null,t.mode,o)).ref=fn(t,e,i),o.return=t,o)}function h(t,e,i,o){return null===e||4!==e.tag||e.stateNode.containerInfo!==i.containerInfo||e.stateNode.implementation!==i.implementation?((e=Ou(i,t.mode,o)).return=t,e):((e=r(e,i.children||[])).return=t,e)}function c(t,e,i,o,n){return null===e||7!==e.tag?((e=Lu(i,t.mode,o,n)).return=t,e):((e=r(e,i)).return=t,e)}function d(t,e,i){if("string"==typeof e&&""!==e||"number"==typeof e)return(e=Fu(""+e,t.mode,i)).return=t,e;if("object"==typeof e&&null!==e){switch(e.$$typeof){case y:return(i=Du(e.type,e.key,e.props,null,t.mode,i)).ref=fn(t,null,e),i.return=t,i;case x:return(e=Ou(e,t.mode,i)).return=t,e;case z:return d(t,(0,e._init)(e._payload),i)}if(et(e)||P(e))return(e=Lu(e,t.mode,i,null)).return=t,e;vn(t,e)}return null}function p(t,e,i,o){var r=null!==e?e.key:null;if("string"==typeof i&&""!==i||"number"==typeof i)return null!==r?null:l(t,e,""+i,o);if("object"==typeof i&&null!==i){switch(i.$$typeof){case y:return i.key===r?u(t,e,i,o):null;case x:return i.key===r?h(t,e,i,o):null;case z:return p(t,e,(r=i._init)(i._payload),o)}if(et(i)||P(i))return null!==r?null:c(t,e,i,o,null);vn(t,i)}return null}function b(t,e,i,o,r){if("string"==typeof o&&""!==o||"number"==typeof o)return l(e,t=t.get(i)||null,""+o,r);if("object"==typeof o&&null!==o){switch(o.$$typeof){case y:return u(e,t=t.get(null===o.key?i:o.key)||null,o,r);case x:return h(e,t=t.get(null===o.key?i:o.key)||null,o,r);case z:return b(t,e,i,(0,o._init)(o._payload),r)}if(et(o)||P(o))return c(e,t=t.get(i)||null,o,r,null);vn(e,o)}return null}function g(r,n,s,l){for(var u=null,h=null,c=n,g=n=0,m=null;null!==c&&g<s.length;g++){c.index>g?(m=c,c=null):m=c.sibling;var f=p(r,c,s[g],l);if(null===f){null===c&&(c=m);break}t&&c&&null===f.alternate&&e(r,c),n=a(f,n,g),null===h?u=f:h.sibling=f,h=f,c=m}if(g===s.length)return i(r,c),nn&&Jr(r,g),u;if(null===c){for(;g<s.length;g++)null!==(c=d(r,s[g],l))&&(n=a(c,n,g),null===h?u=c:h.sibling=c,h=c);return nn&&Jr(r,g),u}for(c=o(r,c);g<s.length;g++)null!==(m=b(c,r,g,s[g],l))&&(t&&null!==m.alternate&&c.delete(null===m.key?g:m.key),n=a(m,n,g),null===h?u=m:h.sibling=m,h=m);return t&&c.forEach((function(t){return e(r,t)})),nn&&Jr(r,g),u}function m(r,s,l,u){var h=P(l);if("function"!=typeof h)throw Error(n(150));if(null==(l=h.call(l)))throw Error(n(151));for(var c=h=null,g=s,m=s=0,f=null,v=l.next();null!==g&&!v.done;m++,v=l.next()){g.index>m?(f=g,g=null):f=g.sibling;var w=p(r,g,v.value,u);if(null===w){null===g&&(g=f);break}t&&g&&null===w.alternate&&e(r,g),s=a(w,s,m),null===c?h=w:c.sibling=w,c=w,g=f}if(v.done)return i(r,g),nn&&Jr(r,m),h;if(null===g){for(;!v.done;m++,v=l.next())null!==(v=d(r,v.value,u))&&(s=a(v,s,m),null===c?h=v:c.sibling=v,c=v);return nn&&Jr(r,m),h}for(g=o(r,g);!v.done;m++,v=l.next())null!==(v=b(g,r,m,v.value,u))&&(t&&null!==v.alternate&&g.delete(null===v.key?m:v.key),s=a(v,s,m),null===c?h=v:c.sibling=v,c=v);return t&&g.forEach((function(t){return e(r,t)})),nn&&Jr(r,m),h}return function t(o,n,a,l){if("object"==typeof a&&null!==a&&a.type===A&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case y:t:{for(var u=a.key,h=n;null!==h;){if(h.key===u){if((u=a.type)===A){if(7===h.tag){i(o,h.sibling),(n=r(h,a.props.children)).return=o,o=n;break t}}else if(h.elementType===u||"object"==typeof u&&null!==u&&u.$$typeof===z&&wn(u)===h.type){i(o,h.sibling),(n=r(h,a.props)).ref=fn(o,h,a),n.return=o,o=n;break t}i(o,h);break}e(o,h),h=h.sibling}a.type===A?((n=Lu(a.props.children,o.mode,l,a.key)).return=o,o=n):((l=Du(a.type,a.key,a.props,null,o.mode,l)).ref=fn(o,n,a),l.return=o,o=l)}return s(o);case x:t:{for(h=a.key;null!==n;){if(n.key===h){if(4===n.tag&&n.stateNode.containerInfo===a.containerInfo&&n.stateNode.implementation===a.implementation){i(o,n.sibling),(n=r(n,a.children||[])).return=o,o=n;break t}i(o,n);break}e(o,n),n=n.sibling}(n=Ou(a,o.mode,l)).return=o,o=n}return s(o);case z:return t(o,n,(h=a._init)(a._payload),l)}if(et(a))return g(o,n,a,l);if(P(a))return m(o,n,a,l);vn(o,a)}return"string"==typeof a&&""!==a||"number"==typeof a?(a=""+a,null!==n&&6===n.tag?(i(o,n.sibling),(n=r(n,a)).return=o,o=n):(i(o,n),(n=Fu(a,o.mode,l)).return=o,o=n),s(o)):i(o,n)}}var yn=Cn(!0),xn=Cn(!1),An=Er(null),En=null,kn=null,Bn=null;function _n(){Bn=kn=En=null}function Rn(t){var e=An.current;kr(An),t._currentValue=e}function Mn(t,e,i){for(;null!==t;){var o=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==o&&(o.childLanes|=e)):null!==o&&(o.childLanes&e)!==e&&(o.childLanes|=e),t===i)break;t=t.return}}function Sn(t,e){En=t,Bn=kn=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(!!(t.lanes&e)&&(vs=!0),t.firstContext=null)}function Tn(t){var e=t._currentValue;if(Bn!==t)if(t={context:t,memoizedValue:e,next:null},null===kn){if(null===En)throw Error(n(308));kn=t,En.dependencies={lanes:0,firstContext:t}}else kn=kn.next=t;return e}var zn=null;function Dn(t){null===zn?zn=[t]:zn.push(t)}function Ln(t,e,i,o){var r=e.interleaved;return null===r?(i.next=i,Dn(e)):(i.next=r.next,r.next=i),e.interleaved=i,Pn(t,o)}function Pn(t,e){t.lanes|=e;var i=t.alternate;for(null!==i&&(i.lanes|=e),i=t,t=t.return;null!==t;)t.childLanes|=e,null!==(i=t.alternate)&&(i.childLanes|=e),i=t,t=t.return;return 3===i.tag?i.stateNode:null}var Fn=!1;function On(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hn(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function In(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Nn(t,e,i){var o=t.updateQueue;if(null===o)return null;if(o=o.shared,2&_l){var r=o.pending;return null===r?e.next=e:(e.next=r.next,r.next=e),o.pending=e,Pn(t,i)}return null===(r=o.interleaved)?(e.next=e,Dn(o)):(e.next=r.next,r.next=e),o.interleaved=e,Pn(t,i)}function Vn(t,e,i){if(null!==(e=e.updateQueue)&&(e=e.shared,4194240&i)){var o=e.lanes;i|=o&=t.pendingLanes,e.lanes=i,ve(t,i)}}function Wn(t,e){var i=t.updateQueue,o=t.alternate;if(null!==o&&i===(o=o.updateQueue)){var r=null,n=null;if(null!==(i=i.firstBaseUpdate)){do{var a={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};null===n?r=n=a:n=n.next=a,i=i.next}while(null!==i);null===n?r=n=e:n=n.next=e}else r=n=e;return i={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:n,shared:o.shared,effects:o.effects},void(t.updateQueue=i)}null===(t=i.lastBaseUpdate)?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}function jn(t,e,i,o){var r=t.updateQueue;Fn=!1;var n=r.firstBaseUpdate,a=r.lastBaseUpdate,s=r.shared.pending;if(null!==s){r.shared.pending=null;var l=s,u=l.next;l.next=null,null===a?n=u:a.next=u,a=l;var h=t.alternate;null!==h&&((s=(h=h.updateQueue).lastBaseUpdate)!==a&&(null===s?h.firstBaseUpdate=u:s.next=u,h.lastBaseUpdate=l))}if(null!==n){var c=r.baseState;for(a=0,h=u=l=null,s=n;;){var d=s.lane,p=s.eventTime;if((o&d)===d){null!==h&&(h=h.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});t:{var b=t,g=s;switch(d=e,p=i,g.tag){case 1:if("function"==typeof(b=g.payload)){c=b.call(p,c,d);break t}c=b;break t;case 3:b.flags=-65537&b.flags|128;case 0:if(null==(d="function"==typeof(b=g.payload)?b.call(p,c,d):b))break t;c=O({},c,d);break t;case 2:Fn=!0}}null!==s.callback&&0!==s.lane&&(t.flags|=64,null===(d=r.effects)?r.effects=[s]:d.push(s))}else p={eventTime:p,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===h?(u=h=p,l=c):h=h.next=p,a|=d;if(null===(s=s.next)){if(null===(s=r.shared.pending))break;s=(d=s).next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}if(null===h&&(l=c),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=h,null!==(e=r.shared.interleaved)){r=e;do{a|=r.lane,r=r.next}while(r!==e)}else null===n&&(r.shared.lanes=0);Pl|=a,t.lanes=a,t.memoizedState=c}}function Gn(t,e,i){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var o=t[e],r=o.callback;if(null!==r){if(o.callback=null,o=i,"function"!=typeof r)throw Error(n(191,r));r.call(o)}}}var Un={},qn=Er(Un),$n=Er(Un),Yn=Er(Un);function Xn(t){if(t===Un)throw Error(n(174));return t}function Kn(t,e){switch(Br(Yn,e),Br($n,t),Br(qn,Un),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lt(null,"");break;default:e=lt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}kr(qn),Br(qn,e)}function Qn(){kr(qn),kr($n),kr(Yn)}function Jn(t){Xn(Yn.current);var e=Xn(qn.current),i=lt(e,t.type);e!==i&&(Br($n,t),Br(qn,i))}function Zn(t){$n.current===t&&(kr(qn),kr($n))}var ta=Er(0);function ea(t){for(var e=t;null!==e;){if(13===e.tag){var i=e.memoizedState;if(null!==i&&(null===(i=i.dehydrated)||"$?"===i.data||"$!"===i.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(128&e.flags)return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ia=[];function oa(){for(var t=0;t<ia.length;t++)ia[t]._workInProgressVersionPrimary=null;ia.length=0}var ra=C.ReactCurrentDispatcher,na=C.ReactCurrentBatchConfig,aa=0,sa=null,la=null,ua=null,ha=!1,ca=!1,da=0,pa=0;function ba(){throw Error(n(321))}function ga(t,e){if(null===e)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!ao(t[i],e[i]))return!1;return!0}function ma(t,e,i,o,r,a){if(aa=a,sa=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ra.current=null===t||null===t.memoizedState?Za:ts,t=i(o,r),ca){a=0;do{if(ca=!1,da=0,25<=a)throw Error(n(301));a+=1,ua=la=null,e.updateQueue=null,ra.current=es,t=i(o,r)}while(ca)}if(ra.current=Ja,e=null!==la&&null!==la.next,aa=0,ua=la=sa=null,ha=!1,e)throw Error(n(300));return t}function fa(){var t=0!==da;return da=0,t}function va(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ua?sa.memoizedState=ua=t:ua=ua.next=t,ua}function wa(){if(null===la){var t=sa.alternate;t=null!==t?t.memoizedState:null}else t=la.next;var e=null===ua?sa.memoizedState:ua.next;if(null!==e)ua=e,la=t;else{if(null===t)throw Error(n(310));t={memoizedState:(la=t).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ua?sa.memoizedState=ua=t:ua=ua.next=t}return ua}function Ca(t,e){return"function"==typeof e?e(t):e}function ya(t){var e=wa(),i=e.queue;if(null===i)throw Error(n(311));i.lastRenderedReducer=t;var o=la,r=o.baseQueue,a=i.pending;if(null!==a){if(null!==r){var s=r.next;r.next=a.next,a.next=s}o.baseQueue=r=a,i.pending=null}if(null!==r){a=r.next,o=o.baseState;var l=s=null,u=null,h=a;do{var c=h.lane;if((aa&c)===c)null!==u&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),o=h.hasEagerState?h.eagerState:t(o,h.action);else{var d={lane:c,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};null===u?(l=u=d,s=o):u=u.next=d,sa.lanes|=c,Pl|=c}h=h.next}while(null!==h&&h!==a);null===u?s=o:u.next=l,ao(o,e.memoizedState)||(vs=!0),e.memoizedState=o,e.baseState=s,e.baseQueue=u,i.lastRenderedState=o}if(null!==(t=i.interleaved)){r=t;do{a=r.lane,sa.lanes|=a,Pl|=a,r=r.next}while(r!==t)}else null===r&&(i.lanes=0);return[e.memoizedState,i.dispatch]}function xa(t){var e=wa(),i=e.queue;if(null===i)throw Error(n(311));i.lastRenderedReducer=t;var o=i.dispatch,r=i.pending,a=e.memoizedState;if(null!==r){i.pending=null;var s=r=r.next;do{a=t(a,s.action),s=s.next}while(s!==r);ao(a,e.memoizedState)||(vs=!0),e.memoizedState=a,null===e.baseQueue&&(e.baseState=a),i.lastRenderedState=a}return[a,o]}function Aa(){}function Ea(t,e){var i=sa,o=wa(),r=e(),a=!ao(o.memoizedState,r);if(a&&(o.memoizedState=r,vs=!0),o=o.queue,Fa(_a.bind(null,i,o,t),[t]),o.getSnapshot!==e||a||null!==ua&&1&ua.memoizedState.tag){if(i.flags|=2048,Ta(9,Ba.bind(null,i,o,r,e),void 0,null),null===Rl)throw Error(n(349));30&aa||ka(i,e,r)}return r}function ka(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},null===(e=sa.updateQueue)?(e={lastEffect:null,stores:null},sa.updateQueue=e,e.stores=[t]):null===(i=e.stores)?e.stores=[t]:i.push(t)}function Ba(t,e,i,o){e.value=i,e.getSnapshot=o,Ra(e)&&Ma(t)}function _a(t,e,i){return i((function(){Ra(e)&&Ma(t)}))}function Ra(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!ao(t,i)}catch(t){return!0}}function Ma(t){var e=Pn(t,1);null!==e&&eu(e,t,1,-1)}function Sa(t){var e=va();return"function"==typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:t},e.queue=t,t=t.dispatch=Ya.bind(null,sa,t),[e.memoizedState,t]}function Ta(t,e,i,o){return t={tag:t,create:e,destroy:i,deps:o,next:null},null===(e=sa.updateQueue)?(e={lastEffect:null,stores:null},sa.updateQueue=e,e.lastEffect=t.next=t):null===(i=e.lastEffect)?e.lastEffect=t.next=t:(o=i.next,i.next=t,t.next=o,e.lastEffect=t),t}function za(){return wa().memoizedState}function Da(t,e,i,o){var r=va();sa.flags|=t,r.memoizedState=Ta(1|e,i,void 0,void 0===o?null:o)}function La(t,e,i,o){var r=wa();o=void 0===o?null:o;var n=void 0;if(null!==la){var a=la.memoizedState;if(n=a.destroy,null!==o&&ga(o,a.deps))return void(r.memoizedState=Ta(e,i,n,o))}sa.flags|=t,r.memoizedState=Ta(1|e,i,n,o)}function Pa(t,e){return Da(8390656,8,t,e)}function Fa(t,e){return La(2048,8,t,e)}function Oa(t,e){return La(4,2,t,e)}function Ha(t,e){return La(4,4,t,e)}function Ia(t,e){return"function"==typeof e?(t=t(),e(t),function(){e(null)}):null!=e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Na(t,e,i){return i=null!=i?i.concat([t]):null,La(4,4,Ia.bind(null,e,t),i)}function Va(){}function Wa(t,e){var i=wa();e=void 0===e?null:e;var o=i.memoizedState;return null!==o&&null!==e&&ga(e,o[1])?o[0]:(i.memoizedState=[t,e],t)}function ja(t,e){var i=wa();e=void 0===e?null:e;var o=i.memoizedState;return null!==o&&null!==e&&ga(e,o[1])?o[0]:(t=t(),i.memoizedState=[t,e],t)}function Ga(t,e,i){return 21&aa?(ao(i,e)||(i=ge(),sa.lanes|=i,Pl|=i,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,vs=!0),t.memoizedState=i)}function Ua(t,e){var i=we;we=0!==i&&4>i?i:4,t(!0);var o=na.transition;na.transition={};try{t(!1),e()}finally{we=i,na.transition=o}}function qa(){return wa().memoizedState}function $a(t,e,i){var o=tu(t);if(i={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null},Xa(t))Ka(e,i);else if(null!==(i=Ln(t,e,i,o))){eu(i,t,o,Zl()),Qa(i,e,o)}}function Ya(t,e,i){var o=tu(t),r={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null};if(Xa(t))Ka(e,r);else{var n=t.alternate;if(0===t.lanes&&(null===n||0===n.lanes)&&null!==(n=e.lastRenderedReducer))try{var a=e.lastRenderedState,s=n(a,i);if(r.hasEagerState=!0,r.eagerState=s,ao(s,a)){var l=e.interleaved;return null===l?(r.next=r,Dn(e)):(r.next=l.next,l.next=r),void(e.interleaved=r)}}catch(t){}null!==(i=Ln(t,e,r,o))&&(eu(i,t,o,r=Zl()),Qa(i,e,o))}}function Xa(t){var e=t.alternate;return t===sa||null!==e&&e===sa}function Ka(t,e){ca=ha=!0;var i=t.pending;null===i?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function Qa(t,e,i){if(4194240&i){var o=e.lanes;i|=o&=t.pendingLanes,e.lanes=i,ve(t,i)}}var Ja={readContext:Tn,useCallback:ba,useContext:ba,useEffect:ba,useImperativeHandle:ba,useInsertionEffect:ba,useLayoutEffect:ba,useMemo:ba,useReducer:ba,useRef:ba,useState:ba,useDebugValue:ba,useDeferredValue:ba,useTransition:ba,useMutableSource:ba,useSyncExternalStore:ba,useId:ba,unstable_isNewReconciler:!1},Za={readContext:Tn,useCallback:function(t,e){return va().memoizedState=[t,void 0===e?null:e],t},useContext:Tn,useEffect:Pa,useImperativeHandle:function(t,e,i){return i=null!=i?i.concat([t]):null,Da(4194308,4,Ia.bind(null,e,t),i)},useLayoutEffect:function(t,e){return Da(4194308,4,t,e)},useInsertionEffect:function(t,e){return Da(4,2,t,e)},useMemo:function(t,e){var i=va();return e=void 0===e?null:e,t=t(),i.memoizedState=[t,e],t},useReducer:function(t,e,i){var o=va();return e=void 0!==i?i(e):e,o.memoizedState=o.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},o.queue=t,t=t.dispatch=$a.bind(null,sa,t),[o.memoizedState,t]},useRef:function(t){return t={current:t},va().memoizedState=t},useState:Sa,useDebugValue:Va,useDeferredValue:function(t){return va().memoizedState=t},useTransition:function(){var t=Sa(!1),e=t[0];return t=Ua.bind(null,t[1]),va().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,i){var o=sa,r=va();if(nn){if(void 0===i)throw Error(n(407));i=i()}else{if(i=e(),null===Rl)throw Error(n(349));30&aa||ka(o,e,i)}r.memoizedState=i;var a={value:i,getSnapshot:e};return r.queue=a,Pa(_a.bind(null,o,a,t),[t]),o.flags|=2048,Ta(9,Ba.bind(null,o,a,i,e),void 0,null),i},useId:function(){var t=va(),e=Rl.identifierPrefix;if(nn){var i=Qr;e=":"+e+"R"+(i=(Kr&~(1<<32-ae(Kr)-1)).toString(32)+i),0<(i=da++)&&(e+="H"+i.toString(32)),e+=":"}else e=":"+e+"r"+(i=pa++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ts={readContext:Tn,useCallback:Wa,useContext:Tn,useEffect:Fa,useImperativeHandle:Na,useInsertionEffect:Oa,useLayoutEffect:Ha,useMemo:ja,useReducer:ya,useRef:za,useState:function(){return ya(Ca)},useDebugValue:Va,useDeferredValue:function(t){return Ga(wa(),la.memoizedState,t)},useTransition:function(){return[ya(Ca)[0],wa().memoizedState]},useMutableSource:Aa,useSyncExternalStore:Ea,useId:qa,unstable_isNewReconciler:!1},es={readContext:Tn,useCallback:Wa,useContext:Tn,useEffect:Fa,useImperativeHandle:Na,useInsertionEffect:Oa,useLayoutEffect:Ha,useMemo:ja,useReducer:xa,useRef:za,useState:function(){return xa(Ca)},useDebugValue:Va,useDeferredValue:function(t){var e=wa();return null===la?e.memoizedState=t:Ga(e,la.memoizedState,t)},useTransition:function(){return[xa(Ca)[0],wa().memoizedState]},useMutableSource:Aa,useSyncExternalStore:Ea,useId:qa,unstable_isNewReconciler:!1};function is(t,e){if(t&&t.defaultProps){for(var i in e=O({},e),t=t.defaultProps)void 0===e[i]&&(e[i]=t[i]);return e}return e}function os(t,e,i,o){i=null==(i=i(o,e=t.memoizedState))?e:O({},e,i),t.memoizedState=i,0===t.lanes&&(t.updateQueue.baseState=i)}var rs={isMounted:function(t){return!!(t=t._reactInternals)&&Wt(t)===t},enqueueSetState:function(t,e,i){t=t._reactInternals;var o=Zl(),r=tu(t),n=In(o,r);n.payload=e,null!=i&&(n.callback=i),null!==(e=Nn(t,n,r))&&(eu(e,t,r,o),Vn(e,t,r))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var o=Zl(),r=tu(t),n=In(o,r);n.tag=1,n.payload=e,null!=i&&(n.callback=i),null!==(e=Nn(t,n,r))&&(eu(e,t,r,o),Vn(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=Zl(),o=tu(t),r=In(i,o);r.tag=2,null!=e&&(r.callback=e),null!==(e=Nn(t,r,o))&&(eu(e,t,o,i),Vn(e,t,o))}};function ns(t,e,i,o,r,n,a){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(o,n,a):!e.prototype||!e.prototype.isPureReactComponent||(!so(i,o)||!so(r,n))}function as(t,e,i){var o=!1,r=_r,n=e.contextType;return"object"==typeof n&&null!==n?n=Tn(n):(r=zr(e)?Sr:Rr.current,n=(o=null!=(o=e.contextTypes))?Tr(t,r):_r),e=new e(i,n),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=rs,t.stateNode=e,e._reactInternals=t,o&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=n),e}function ss(t,e,i,o){t=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(i,o),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(i,o),e.state!==t&&rs.enqueueReplaceState(e,e.state,null)}function ls(t,e,i,o){var r=t.stateNode;r.props=i,r.state=t.memoizedState,r.refs={},On(t);var n=e.contextType;"object"==typeof n&&null!==n?r.context=Tn(n):(n=zr(e)?Sr:Rr.current,r.context=Tr(t,n)),r.state=t.memoizedState,"function"==typeof(n=e.getDerivedStateFromProps)&&(os(t,e,n,i),r.state=t.memoizedState),"function"==typeof e.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(e=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),e!==r.state&&rs.enqueueReplaceState(r,r.state,null),jn(t,i,r,o),r.state=t.memoizedState),"function"==typeof r.componentDidMount&&(t.flags|=4194308)}function us(t,e){try{var i="",o=e;do{i+=V(o),o=o.return}while(o);var r=i}catch(t){r="\nError generating stack: "+t.message+"\n"+t.stack}return{value:t,source:e,stack:r,digest:null}}function hs(t,e,i){return{value:t,source:null,stack:null!=i?i:null,digest:null!=e?e:null}}var cs="function"==typeof WeakMap?WeakMap:Map;function ds(t,e,i){(i=In(-1,i)).tag=3,i.payload={element:null};var o=e.value;return i.callback=function(){jl||(jl=!0,Gl=o)},i}function ps(t,e,i){(i=In(-1,i)).tag=3;var o=t.type.getDerivedStateFromError;if("function"==typeof o){var r=e.value;i.payload=function(){return o(r)},i.callback=function(){}}var n=t.stateNode;return null!==n&&"function"==typeof n.componentDidCatch&&(i.callback=function(){"function"!=typeof o&&(null===Ul?Ul=new Set([this]):Ul.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),i}function bs(t,e,i){var o=t.pingCache;if(null===o){o=t.pingCache=new cs;var r=new Set;o.set(e,r)}else void 0===(r=o.get(e))&&(r=new Set,o.set(e,r));r.has(i)||(r.add(i),t=Eu.bind(null,t,e,i),e.then(t,t))}function gs(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function ms(t,e,i,o,r){return 1&t.mode?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,i.flags|=131072,i.flags&=-52805,1===i.tag&&(null===i.alternate?i.tag=17:((e=In(-1,1)).tag=2,Nn(i,e,1))),i.lanes|=1),t)}var fs=C.ReactCurrentOwner,vs=!1;function ws(t,e,i,o){e.child=null===t?xn(e,null,i,o):yn(e,t.child,i,o)}function Cs(t,e,i,o,r){i=i.render;var n=e.ref;return Sn(e,r),o=ma(t,e,i,o,n,r),i=fa(),null===t||vs?(nn&&i&&tn(e),e.flags|=1,ws(t,e,o,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,js(t,e,r))}function ys(t,e,i,o,r){if(null===t){var n=i.type;return"function"!=typeof n||Tu(n)||void 0!==n.defaultProps||null!==i.compare||void 0!==i.defaultProps?((t=Du(i.type,null,o,e,e.mode,r)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=n,xs(t,e,n,o,r))}if(n=t.child,!(t.lanes&r)){var a=n.memoizedProps;if((i=null!==(i=i.compare)?i:so)(a,o)&&t.ref===e.ref)return js(t,e,r)}return e.flags|=1,(t=zu(n,o)).ref=e.ref,t.return=e,e.child=t}function xs(t,e,i,o,r){if(null!==t){var n=t.memoizedProps;if(so(n,o)&&t.ref===e.ref){if(vs=!1,e.pendingProps=o=n,!(t.lanes&r))return e.lanes=t.lanes,js(t,e,r);131072&t.flags&&(vs=!0)}}return ks(t,e,i,o,r)}function As(t,e,i){var o=e.pendingProps,r=o.children,n=null!==t?t.memoizedState:null;if("hidden"===o.mode)if(1&e.mode){if(!(1073741824&i))return t=null!==n?n.baseLanes|i:i,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Br(zl,Tl),Tl|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=null!==n?n.baseLanes:i,Br(zl,Tl),Tl|=o}else e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Br(zl,Tl),Tl|=i;else null!==n?(o=n.baseLanes|i,e.memoizedState=null):o=i,Br(zl,Tl),Tl|=o;return ws(t,e,r,i),e.child}function Es(t,e){var i=e.ref;(null===t&&null!==i||null!==t&&t.ref!==i)&&(e.flags|=512,e.flags|=2097152)}function ks(t,e,i,o,r){var n=zr(i)?Sr:Rr.current;return n=Tr(e,n),Sn(e,r),i=ma(t,e,i,o,n,r),o=fa(),null===t||vs?(nn&&o&&tn(e),e.flags|=1,ws(t,e,i,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,js(t,e,r))}function Bs(t,e,i,o,r){if(zr(i)){var n=!0;Fr(e)}else n=!1;if(Sn(e,r),null===e.stateNode)Ws(t,e),as(e,i,o),ls(e,i,o,r),o=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=i.contextType;"object"==typeof u&&null!==u?u=Tn(u):u=Tr(e,u=zr(i)?Sr:Rr.current);var h=i.getDerivedStateFromProps,c="function"==typeof h||"function"==typeof a.getSnapshotBeforeUpdate;c||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==o||l!==u)&&ss(e,a,o,u),Fn=!1;var d=e.memoizedState;a.state=d,jn(e,o,a,r),l=e.memoizedState,s!==o||d!==l||Mr.current||Fn?("function"==typeof h&&(os(e,i,h,o),l=e.memoizedState),(s=Fn||ns(e,i,s,o,d,l,u))?(c||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(e.flags|=4194308)):("function"==typeof a.componentDidMount&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=l),a.props=o,a.state=l,a.context=u,o=s):("function"==typeof a.componentDidMount&&(e.flags|=4194308),o=!1)}else{a=e.stateNode,Hn(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:is(e.type,s),a.props=u,c=e.pendingProps,d=a.context,"object"==typeof(l=i.contextType)&&null!==l?l=Tn(l):l=Tr(e,l=zr(i)?Sr:Rr.current);var p=i.getDerivedStateFromProps;(h="function"==typeof p||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==c||d!==l)&&ss(e,a,o,l),Fn=!1,d=e.memoizedState,a.state=d,jn(e,o,a,r);var b=e.memoizedState;s!==c||d!==b||Mr.current||Fn?("function"==typeof p&&(os(e,i,p,o),b=e.memoizedState),(u=Fn||ns(e,i,u,o,d,b,l)||!1)?(h||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(o,b,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(o,b,l)),"function"==typeof a.componentDidUpdate&&(e.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!=typeof a.componentDidUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=b),a.props=o,a.state=b,a.context=l,o=u):("function"!=typeof a.componentDidUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),o=!1)}return _s(t,e,i,o,n,r)}function _s(t,e,i,o,r,n){Es(t,e);var a=!!(128&e.flags);if(!o&&!a)return r&&Or(e,i,!1),js(t,e,n);o=e.stateNode,fs.current=e;var s=a&&"function"!=typeof i.getDerivedStateFromError?null:o.render();return e.flags|=1,null!==t&&a?(e.child=yn(e,t.child,null,n),e.child=yn(e,null,s,n)):ws(t,e,s,n),e.memoizedState=o.state,r&&Or(e,i,!0),e.child}function Rs(t){var e=t.stateNode;e.pendingContext?Lr(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Lr(0,e.context,!1),Kn(t,e.containerInfo)}function Ms(t,e,i,o,r){return bn(),gn(r),e.flags|=256,ws(t,e,i,o),e.child}var Ss,Ts,zs,Ds,Ls={dehydrated:null,treeContext:null,retryLane:0};function Ps(t){return{baseLanes:t,cachePool:null,transitions:null}}function Fs(t,e,i){var o,r=e.pendingProps,a=ta.current,s=!1,l=!!(128&e.flags);if((o=l)||(o=(null===t||null!==t.memoizedState)&&!!(2&a)),o?(s=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(a|=1),Br(ta,1&a),null===t)return hn(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(1&e.mode?"$!"===t.data?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=r.children,t=r.fallback,s?(r=e.mode,s=e.child,l={mode:"hidden",children:l},1&r||null===s?s=Pu(l,r,0,null):(s.childLanes=0,s.pendingProps=l),t=Lu(t,r,i,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ps(i),e.memoizedState=Ls,t):Os(e,l));if(null!==(a=t.memoizedState)&&null!==(o=a.dehydrated))return function(t,e,i,o,r,a,s){if(i)return 256&e.flags?(e.flags&=-257,Hs(t,e,s,o=hs(Error(n(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(a=o.fallback,r=e.mode,o=Pu({mode:"visible",children:o.children},r,0,null),(a=Lu(a,r,s,null)).flags|=2,o.return=e,a.return=e,o.sibling=a,e.child=o,1&e.mode&&yn(e,t.child,null,s),e.child.memoizedState=Ps(s),e.memoizedState=Ls,a);if(!(1&e.mode))return Hs(t,e,s,null);if("$!"===r.data){if(o=r.nextSibling&&r.nextSibling.dataset)var l=o.dgst;return o=l,Hs(t,e,s,o=hs(a=Error(n(419)),o,void 0))}if(l=!!(s&t.childLanes),vs||l){if(null!==(o=Rl)){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=r&(o.suspendedLanes|s)?0:r)&&r!==a.retryLane&&(a.retryLane=r,Pn(t,r),eu(o,t,r,-1))}return bu(),Hs(t,e,s,o=hs(Error(n(421))))}return"$?"===r.data?(e.flags|=128,e.child=t.child,e=Bu.bind(null,t),r._reactRetry=e,null):(t=a.treeContext,rn=ur(r.nextSibling),on=e,nn=!0,an=null,null!==t&&($r[Yr++]=Kr,$r[Yr++]=Qr,$r[Yr++]=Xr,Kr=t.id,Qr=t.overflow,Xr=e),e=Os(e,o.children),e.flags|=4096,e)}(t,e,l,r,o,a,i);if(s){s=r.fallback,l=e.mode,o=(a=t.child).sibling;var u={mode:"hidden",children:r.children};return 1&l||e.child===a?(r=zu(a,u)).subtreeFlags=14680064&a.subtreeFlags:((r=e.child).childLanes=0,r.pendingProps=u,e.deletions=null),null!==o?s=zu(o,s):(s=Lu(s,l,i,null)).flags|=2,s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,l=null===(l=t.child.memoizedState)?Ps(i):{baseLanes:l.baseLanes|i,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=t.childLanes&~i,e.memoizedState=Ls,r}return t=(s=t.child).sibling,r=zu(s,{mode:"visible",children:r.children}),!(1&e.mode)&&(r.lanes=i),r.return=e,r.sibling=null,null!==t&&(null===(i=e.deletions)?(e.deletions=[t],e.flags|=16):i.push(t)),e.child=r,e.memoizedState=null,r}function Os(t,e){return(e=Pu({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Hs(t,e,i,o){return null!==o&&gn(o),yn(e,t.child,null,i),(t=Os(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Is(t,e,i){t.lanes|=e;var o=t.alternate;null!==o&&(o.lanes|=e),Mn(t.return,e,i)}function Ns(t,e,i,o,r){var n=t.memoizedState;null===n?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:r}:(n.isBackwards=e,n.rendering=null,n.renderingStartTime=0,n.last=o,n.tail=i,n.tailMode=r)}function Vs(t,e,i){var o=e.pendingProps,r=o.revealOrder,n=o.tail;if(ws(t,e,o.children,i),2&(o=ta.current))o=1&o|2,e.flags|=128;else{if(null!==t&&128&t.flags)t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Is(t,i,e);else if(19===t.tag)Is(t,i,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}if(Br(ta,o),1&e.mode)switch(r){case"forwards":for(i=e.child,r=null;null!==i;)null!==(t=i.alternate)&&null===ea(t)&&(r=i),i=i.sibling;null===(i=r)?(r=e.child,e.child=null):(r=i.sibling,i.sibling=null),Ns(e,!1,r,i,n);break;case"backwards":for(i=null,r=e.child,e.child=null;null!==r;){if(null!==(t=r.alternate)&&null===ea(t)){e.child=r;break}t=r.sibling,r.sibling=i,i=r,r=t}Ns(e,!0,i,null,n);break;case"together":Ns(e,!1,null,null,void 0);break;default:e.memoizedState=null}else e.memoizedState=null;return e.child}function Ws(t,e){!(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function js(t,e,i){if(null!==t&&(e.dependencies=t.dependencies),Pl|=e.lanes,!(i&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(n(153));if(null!==e.child){for(i=zu(t=e.child,t.pendingProps),e.child=i,i.return=e;null!==t.sibling;)t=t.sibling,(i=i.sibling=zu(t,t.pendingProps)).return=e;i.sibling=null}return e.child}function Gs(t,e){if(!nn)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;null!==e;)null!==e.alternate&&(i=e),e=e.sibling;null===i?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var o=null;null!==i;)null!==i.alternate&&(o=i),i=i.sibling;null===o?e||null===t.tail?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Us(t){var e=null!==t.alternate&&t.alternate.child===t.child,i=0,o=0;if(e)for(var r=t.child;null!==r;)i|=r.lanes|r.childLanes,o|=14680064&r.subtreeFlags,o|=14680064&r.flags,r.return=t,r=r.sibling;else for(r=t.child;null!==r;)i|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=o,t.childLanes=i,e}function qs(t,e,i){var o=e.pendingProps;switch(en(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Us(e),null;case 1:case 17:return zr(e.type)&&Dr(),Us(e),null;case 3:return o=e.stateNode,Qn(),kr(Mr),kr(Rr),oa(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),null!==t&&null!==t.child||(dn(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&!(256&e.flags)||(e.flags|=1024,null!==an&&(nu(an),an=null))),Ts(t,e),Us(e),null;case 5:Zn(e);var r=Xn(Yn.current);if(i=e.type,null!==t&&null!=e.stateNode)zs(t,e,i,o,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!o){if(null===e.stateNode)throw Error(n(166));return Us(e),null}if(t=Xn(qn.current),dn(e)){o=e.stateNode,i=e.type;var a=e.memoizedProps;switch(o[dr]=e,o[pr]=a,t=!!(1&e.mode),i){case"dialog":Io("cancel",o),Io("close",o);break;case"iframe":case"object":case"embed":Io("load",o);break;case"video":case"audio":for(r=0;r<Po.length;r++)Io(Po[r],o);break;case"source":Io("error",o);break;case"img":case"image":case"link":Io("error",o),Io("load",o);break;case"details":Io("toggle",o);break;case"input":K(o,a),Io("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!a.multiple},Io("invalid",o);break;case"textarea":rt(o,a),Io("invalid",o)}for(var l in vt(i,a),r=null,a)if(a.hasOwnProperty(l)){var u=a[l];"children"===l?"string"==typeof u?o.textContent!==u&&(!0!==a.suppressHydrationWarning&&Jo(o.textContent,u,t),r=["children",u]):"number"==typeof u&&o.textContent!==""+u&&(!0!==a.suppressHydrationWarning&&Jo(o.textContent,u,t),r=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Io("scroll",o)}switch(i){case"input":q(o),Z(o,a,!0);break;case"textarea":q(o),at(o);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(o.onclick=Zo)}o=r,e.updateQueue=o,null!==o&&(e.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=st(i)),"http://www.w3.org/1999/xhtml"===t?"script"===i?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"==typeof o.is?t=l.createElement(i,{is:o.is}):(t=l.createElement(i),"select"===i&&(l=t,o.multiple?l.multiple=!0:o.size&&(l.size=o.size))):t=l.createElementNS(t,i),t[dr]=e,t[pr]=o,Ss(t,e,!1,!1),e.stateNode=t;t:{switch(l=wt(i,o),i){case"dialog":Io("cancel",t),Io("close",t),r=o;break;case"iframe":case"object":case"embed":Io("load",t),r=o;break;case"video":case"audio":for(r=0;r<Po.length;r++)Io(Po[r],t);r=o;break;case"source":Io("error",t),r=o;break;case"img":case"image":case"link":Io("error",t),Io("load",t),r=o;break;case"details":Io("toggle",t),r=o;break;case"input":K(t,o),r=X(t,o),Io("invalid",t);break;case"option":default:r=o;break;case"select":t._wrapperState={wasMultiple:!!o.multiple},r=O({},o,{value:void 0}),Io("invalid",t);break;case"textarea":rt(t,o),r=ot(t,o),Io("invalid",t)}for(a in vt(i,r),u=r)if(u.hasOwnProperty(a)){var h=u[a];"style"===a?mt(t,h):"dangerouslySetInnerHTML"===a?null!=(h=h?h.__html:void 0)&&ct(t,h):"children"===a?"string"==typeof h?("textarea"!==i||""!==h)&&dt(t,h):"number"==typeof h&&dt(t,""+h):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=h&&"onScroll"===a&&Io("scroll",t):null!=h&&w(t,a,h,l))}switch(i){case"input":q(t),Z(t,o,!1);break;case"textarea":q(t),at(t);break;case"option":null!=o.value&&t.setAttribute("value",""+G(o.value));break;case"select":t.multiple=!!o.multiple,null!=(a=o.value)?it(t,!!o.multiple,a,!1):null!=o.defaultValue&&it(t,!!o.multiple,o.defaultValue,!0);break;default:"function"==typeof r.onClick&&(t.onclick=Zo)}switch(i){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}}o&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return Us(e),null;case 6:if(t&&null!=e.stateNode)Ds(t,e,t.memoizedProps,o);else{if("string"!=typeof o&&null===e.stateNode)throw Error(n(166));if(i=Xn(Yn.current),Xn(qn.current),dn(e)){if(o=e.stateNode,i=e.memoizedProps,o[dr]=e,(a=o.nodeValue!==i)&&null!==(t=on))switch(t.tag){case 3:Jo(o.nodeValue,i,!!(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Jo(o.nodeValue,i,!!(1&t.mode))}a&&(e.flags|=4)}else(o=(9===i.nodeType?i:i.ownerDocument).createTextNode(o))[dr]=e,e.stateNode=o}return Us(e),null;case 13:if(kr(ta),o=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(nn&&null!==rn&&1&e.mode&&!(128&e.flags))pn(),bn(),e.flags|=98560,a=!1;else if(a=dn(e),null!==o&&null!==o.dehydrated){if(null===t){if(!a)throw Error(n(318));if(!(a=null!==(a=e.memoizedState)?a.dehydrated:null))throw Error(n(317));a[dr]=e}else bn(),!(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Us(e),a=!1}else null!==an&&(nu(an),an=null),a=!0;if(!a)return 65536&e.flags?e:null}return 128&e.flags?(e.lanes=i,e):((o=null!==o)!==(null!==t&&null!==t.memoizedState)&&o&&(e.child.flags|=8192,1&e.mode&&(null===t||1&ta.current?0===Dl&&(Dl=3):bu())),null!==e.updateQueue&&(e.flags|=4),Us(e),null);case 4:return Qn(),Ts(t,e),null===t&&Wo(e.stateNode.containerInfo),Us(e),null;case 10:return Rn(e.type._context),Us(e),null;case 19:if(kr(ta),null===(a=e.memoizedState))return Us(e),null;if(o=!!(128&e.flags),null===(l=a.rendering))if(o)Gs(a,!1);else{if(0!==Dl||null!==t&&128&t.flags)for(t=e.child;null!==t;){if(null!==(l=ea(t))){for(e.flags|=128,Gs(a,!1),null!==(o=l.updateQueue)&&(e.updateQueue=o,e.flags|=4),e.subtreeFlags=0,o=i,i=e.child;null!==i;)t=o,(a=i).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,t=l.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),i=i.sibling;return Br(ta,1&ta.current|2),e.child}t=t.sibling}null!==a.tail&&Qt()>Vl&&(e.flags|=128,o=!0,Gs(a,!1),e.lanes=4194304)}else{if(!o)if(null!==(t=ea(l))){if(e.flags|=128,o=!0,null!==(i=t.updateQueue)&&(e.updateQueue=i,e.flags|=4),Gs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!nn)return Us(e),null}else 2*Qt()-a.renderingStartTime>Vl&&1073741824!==i&&(e.flags|=128,o=!0,Gs(a,!1),e.lanes=4194304);a.isBackwards?(l.sibling=e.child,e.child=l):(null!==(i=a.last)?i.sibling=l:e.child=l,a.last=l)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Qt(),e.sibling=null,i=ta.current,Br(ta,o?1&i|2:1&i),e):(Us(e),null);case 22:case 23:return hu(),o=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==o&&(e.flags|=8192),o&&1&e.mode?!!(1073741824&Tl)&&(Us(e),6&e.subtreeFlags&&(e.flags|=8192)):Us(e),null;case 24:case 25:return null}throw Error(n(156,e.tag))}function $s(t,e){switch(en(e),e.tag){case 1:return zr(e.type)&&Dr(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return Qn(),kr(Mr),kr(Rr),oa(),65536&(t=e.flags)&&!(128&t)?(e.flags=-65537&t|128,e):null;case 5:return Zn(e),null;case 13:if(kr(ta),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(n(340));bn()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return kr(ta),null;case 4:return Qn(),null;case 10:return Rn(e.type._context),null;case 22:case 23:return hu(),null;default:return null}}Ss=function(t,e){for(var i=e.child;null!==i;){if(5===i.tag||6===i.tag)t.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Ts=function(){},zs=function(t,e,i,o){var r=t.memoizedProps;if(r!==o){t=e.stateNode,Xn(qn.current);var n,a=null;switch(i){case"input":r=X(t,r),o=X(t,o),a=[];break;case"select":r=O({},r,{value:void 0}),o=O({},o,{value:void 0}),a=[];break;case"textarea":r=ot(t,r),o=ot(t,o),a=[];break;default:"function"!=typeof r.onClick&&"function"==typeof o.onClick&&(t.onclick=Zo)}for(h in vt(i,o),i=null,r)if(!o.hasOwnProperty(h)&&r.hasOwnProperty(h)&&null!=r[h])if("style"===h){var l=r[h];for(n in l)l.hasOwnProperty(n)&&(i||(i={}),i[n]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(s.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in o){var u=o[h];if(l=null!=r?r[h]:void 0,o.hasOwnProperty(h)&&u!==l&&(null!=u||null!=l))if("style"===h)if(l){for(n in l)!l.hasOwnProperty(n)||u&&u.hasOwnProperty(n)||(i||(i={}),i[n]="");for(n in u)u.hasOwnProperty(n)&&l[n]!==u[n]&&(i||(i={}),i[n]=u[n])}else i||(a||(a=[]),a.push(h,i)),i=u;else"dangerouslySetInnerHTML"===h?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(a=a||[]).push(h,u)):"children"===h?"string"!=typeof u&&"number"!=typeof u||(a=a||[]).push(h,""+u):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(s.hasOwnProperty(h)?(null!=u&&"onScroll"===h&&Io("scroll",t),a||l===u||(a=[])):(a=a||[]).push(h,u))}i&&(a=a||[]).push("style",i);var h=a;(e.updateQueue=h)&&(e.flags|=4)}},Ds=function(t,e,i,o){i!==o&&(e.flags|=4)};var Ys=!1,Xs=!1,Ks="function"==typeof WeakSet?WeakSet:Set,Qs=null;function Js(t,e){var i=t.ref;if(null!==i)if("function"==typeof i)try{i(null)}catch(i){Au(t,e,i)}else i.current=null}function Zs(t,e,i){try{i()}catch(i){Au(t,e,i)}}var tl=!1;function el(t,e,i){var o=e.updateQueue;if(null!==(o=null!==o?o.lastEffect:null)){var r=o=o.next;do{if((r.tag&t)===t){var n=r.destroy;r.destroy=void 0,void 0!==n&&Zs(e,i,n)}r=r.next}while(r!==o)}}function il(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var i=e=e.next;do{if((i.tag&t)===t){var o=i.create;i.destroy=o()}i=i.next}while(i!==e)}}function ol(t){var e=t.ref;if(null!==e){var i=t.stateNode;t.tag,t=i,"function"==typeof e?e(t):e.current=t}}function rl(t){var e=t.alternate;null!==e&&(t.alternate=null,rl(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[dr],delete e[pr],delete e[gr],delete e[mr],delete e[fr])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function nl(t){return 5===t.tag||3===t.tag||4===t.tag}function al(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||nl(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function sl(t,e,i){var o=t.tag;if(5===o||6===o)t=t.stateNode,e?8===i.nodeType?i.parentNode.insertBefore(t,e):i.insertBefore(t,e):(8===i.nodeType?(e=i.parentNode).insertBefore(t,i):(e=i).appendChild(t),null!=(i=i._reactRootContainer)||null!==e.onclick||(e.onclick=Zo));else if(4!==o&&null!==(t=t.child))for(sl(t,e,i),t=t.sibling;null!==t;)sl(t,e,i),t=t.sibling}function ll(t,e,i){var o=t.tag;if(5===o||6===o)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(4!==o&&null!==(t=t.child))for(ll(t,e,i),t=t.sibling;null!==t;)ll(t,e,i),t=t.sibling}var ul=null,hl=!1;function cl(t,e,i){for(i=i.child;null!==i;)dl(t,e,i),i=i.sibling}function dl(t,e,i){if(ne&&"function"==typeof ne.onCommitFiberUnmount)try{ne.onCommitFiberUnmount(re,i)}catch(t){}switch(i.tag){case 5:Xs||Js(i,e);case 6:var o=ul,r=hl;ul=null,cl(t,e,i),hl=r,null!==(ul=o)&&(hl?(t=ul,i=i.stateNode,8===t.nodeType?t.parentNode.removeChild(i):t.removeChild(i)):ul.removeChild(i.stateNode));break;case 18:null!==ul&&(hl?(t=ul,i=i.stateNode,8===t.nodeType?lr(t.parentNode,i):1===t.nodeType&&lr(t,i),We(t)):lr(ul,i.stateNode));break;case 4:o=ul,r=hl,ul=i.stateNode.containerInfo,hl=!0,cl(t,e,i),ul=o,hl=r;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(o=i.updateQueue)&&null!==(o=o.lastEffect))){r=o=o.next;do{var n=r,a=n.destroy;n=n.tag,void 0!==a&&(2&n||4&n)&&Zs(i,e,a),r=r.next}while(r!==o)}cl(t,e,i);break;case 1:if(!Xs&&(Js(i,e),"function"==typeof(o=i.stateNode).componentWillUnmount))try{o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(t){Au(i,e,t)}cl(t,e,i);break;case 21:cl(t,e,i);break;case 22:1&i.mode?(Xs=(o=Xs)||null!==i.memoizedState,cl(t,e,i),Xs=o):cl(t,e,i);break;default:cl(t,e,i)}}function pl(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var i=t.stateNode;null===i&&(i=t.stateNode=new Ks),e.forEach((function(e){var o=_u.bind(null,t,e);i.has(e)||(i.add(e),e.then(o,o))}))}}function bl(t,e){var i=e.deletions;if(null!==i)for(var o=0;o<i.length;o++){var r=i[o];try{var a=t,s=e,l=s;t:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,hl=!1;break t;case 3:case 4:ul=l.stateNode.containerInfo,hl=!0;break t}l=l.return}if(null===ul)throw Error(n(160));dl(a,s,r),ul=null,hl=!1;var u=r.alternate;null!==u&&(u.return=null),r.return=null}catch(t){Au(r,e,t)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)gl(e,t),e=e.sibling}function gl(t,e){var i=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(bl(e,t),ml(t),4&o){try{el(3,t,t.return),il(3,t)}catch(e){Au(t,t.return,e)}try{el(5,t,t.return)}catch(e){Au(t,t.return,e)}}break;case 1:bl(e,t),ml(t),512&o&&null!==i&&Js(i,i.return);break;case 5:if(bl(e,t),ml(t),512&o&&null!==i&&Js(i,i.return),32&t.flags){var r=t.stateNode;try{dt(r,"")}catch(e){Au(t,t.return,e)}}if(4&o&&null!=(r=t.stateNode)){var a=t.memoizedProps,s=null!==i?i.memoizedProps:a,l=t.type,u=t.updateQueue;if(t.updateQueue=null,null!==u)try{"input"===l&&"radio"===a.type&&null!=a.name&&Q(r,a),wt(l,s);var h=wt(l,a);for(s=0;s<u.length;s+=2){var c=u[s],d=u[s+1];"style"===c?mt(r,d):"dangerouslySetInnerHTML"===c?ct(r,d):"children"===c?dt(r,d):w(r,c,d,h)}switch(l){case"input":J(r,a);break;case"textarea":nt(r,a);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var b=a.value;null!=b?it(r,!!a.multiple,b,!1):p!==!!a.multiple&&(null!=a.defaultValue?it(r,!!a.multiple,a.defaultValue,!0):it(r,!!a.multiple,a.multiple?[]:"",!1))}r[pr]=a}catch(e){Au(t,t.return,e)}}break;case 6:if(bl(e,t),ml(t),4&o){if(null===t.stateNode)throw Error(n(162));r=t.stateNode,a=t.memoizedProps;try{r.nodeValue=a}catch(e){Au(t,t.return,e)}}break;case 3:if(bl(e,t),ml(t),4&o&&null!==i&&i.memoizedState.isDehydrated)try{We(e.containerInfo)}catch(e){Au(t,t.return,e)}break;case 4:default:bl(e,t),ml(t);break;case 13:bl(e,t),ml(t),8192&(r=t.child).flags&&(a=null!==r.memoizedState,r.stateNode.isHidden=a,!a||null!==r.alternate&&null!==r.alternate.memoizedState||(Nl=Qt())),4&o&&pl(t);break;case 22:if(c=null!==i&&null!==i.memoizedState,1&t.mode?(Xs=(h=Xs)||c,bl(e,t),Xs=h):bl(e,t),ml(t),8192&o){if(h=null!==t.memoizedState,(t.stateNode.isHidden=h)&&!c&&1&t.mode)for(Qs=t,c=t.child;null!==c;){for(d=Qs=c;null!==Qs;){switch(b=(p=Qs).child,p.tag){case 0:case 11:case 14:case 15:el(4,p,p.return);break;case 1:Js(p,p.return);var g=p.stateNode;if("function"==typeof g.componentWillUnmount){o=p,i=p.return;try{e=o,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(t){Au(o,i,t)}}break;case 5:Js(p,p.return);break;case 22:if(null!==p.memoizedState){Cl(d);continue}}null!==b?(b.return=p,Qs=b):Cl(d)}c=c.sibling}t:for(c=null,d=t;;){if(5===d.tag){if(null===c){c=d;try{r=d.stateNode,h?"function"==typeof(a=r.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=d.stateNode,s=null!=(u=d.memoizedProps.style)&&u.hasOwnProperty("display")?u.display:null,l.style.display=gt("display",s))}catch(e){Au(t,t.return,e)}}}else if(6===d.tag){if(null===c)try{d.stateNode.nodeValue=h?"":d.memoizedProps}catch(e){Au(t,t.return,e)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===t)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===t)break t;for(;null===d.sibling;){if(null===d.return||d.return===t)break t;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:bl(e,t),ml(t),4&o&&pl(t);case 21:}}function ml(t){var e=t.flags;if(2&e){try{t:{for(var i=t.return;null!==i;){if(nl(i)){var o=i;break t}i=i.return}throw Error(n(160))}switch(o.tag){case 5:var r=o.stateNode;32&o.flags&&(dt(r,""),o.flags&=-33),ll(t,al(t),r);break;case 3:case 4:var a=o.stateNode.containerInfo;sl(t,al(t),a);break;default:throw Error(n(161))}}catch(e){Au(t,t.return,e)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function fl(t,e,i){Qs=t,vl(t,e,i)}function vl(t,e,i){for(var o=!!(1&t.mode);null!==Qs;){var r=Qs,n=r.child;if(22===r.tag&&o){var a=null!==r.memoizedState||Ys;if(!a){var s=r.alternate,l=null!==s&&null!==s.memoizedState||Xs;s=Ys;var u=Xs;if(Ys=a,(Xs=l)&&!u)for(Qs=r;null!==Qs;)l=(a=Qs).child,22===a.tag&&null!==a.memoizedState?yl(r):null!==l?(l.return=a,Qs=l):yl(r);for(;null!==n;)Qs=n,vl(n,e,i),n=n.sibling;Qs=r,Ys=s,Xs=u}wl(t)}else 8772&r.subtreeFlags&&null!==n?(n.return=r,Qs=n):wl(t)}}function wl(t){for(;null!==Qs;){var e=Qs;if(8772&e.flags){var i=e.alternate;try{if(8772&e.flags)switch(e.tag){case 0:case 11:case 15:Xs||il(5,e);break;case 1:var o=e.stateNode;if(4&e.flags&&!Xs)if(null===i)o.componentDidMount();else{var r=e.elementType===e.type?i.memoizedProps:is(e.type,i.memoizedProps);o.componentDidUpdate(r,i.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;null!==a&&Gn(e,a,o);break;case 3:var s=e.updateQueue;if(null!==s){if(i=null,null!==e.child)switch(e.child.tag){case 5:case 1:i=e.child.stateNode}Gn(e,s,i)}break;case 5:var l=e.stateNode;if(null===i&&4&e.flags){i=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&i.focus();break;case"img":u.src&&(i.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var h=e.alternate;if(null!==h){var c=h.memoizedState;if(null!==c){var d=c.dehydrated;null!==d&&We(d)}}}break;default:throw Error(n(163))}Xs||512&e.flags&&ol(e)}catch(t){Au(e,e.return,t)}}if(e===t){Qs=null;break}if(null!==(i=e.sibling)){i.return=e.return,Qs=i;break}Qs=e.return}}function Cl(t){for(;null!==Qs;){var e=Qs;if(e===t){Qs=null;break}var i=e.sibling;if(null!==i){i.return=e.return,Qs=i;break}Qs=e.return}}function yl(t){for(;null!==Qs;){var e=Qs;try{switch(e.tag){case 0:case 11:case 15:var i=e.return;try{il(4,e)}catch(t){Au(e,i,t)}break;case 1:var o=e.stateNode;if("function"==typeof o.componentDidMount){var r=e.return;try{o.componentDidMount()}catch(t){Au(e,r,t)}}var n=e.return;try{ol(e)}catch(t){Au(e,n,t)}break;case 5:var a=e.return;try{ol(e)}catch(t){Au(e,a,t)}}}catch(t){Au(e,e.return,t)}if(e===t){Qs=null;break}var s=e.sibling;if(null!==s){s.return=e.return,Qs=s;break}Qs=e.return}}var xl,Al=Math.ceil,El=C.ReactCurrentDispatcher,kl=C.ReactCurrentOwner,Bl=C.ReactCurrentBatchConfig,_l=0,Rl=null,Ml=null,Sl=0,Tl=0,zl=Er(0),Dl=0,Ll=null,Pl=0,Fl=0,Ol=0,Hl=null,Il=null,Nl=0,Vl=1/0,Wl=null,jl=!1,Gl=null,Ul=null,ql=!1,$l=null,Yl=0,Xl=0,Kl=null,Ql=-1,Jl=0;function Zl(){return 6&_l?Qt():-1!==Ql?Ql:Ql=Qt()}function tu(t){return 1&t.mode?2&_l&&0!==Sl?Sl&-Sl:null!==mn.transition?(0===Jl&&(Jl=ge()),Jl):0!==(t=we)?t:t=void 0===(t=window.event)?16:Ke(t.type):1}function eu(t,e,i,o){if(50<Xl)throw Xl=0,Kl=null,Error(n(185));fe(t,i,o),2&_l&&t===Rl||(t===Rl&&(!(2&_l)&&(Fl|=i),4===Dl&&au(t,Sl)),iu(t,o),1===i&&0===_l&&!(1&e.mode)&&(Vl=Qt()+500,Ir&&Wr()))}function iu(t,e){var i=t.callbackNode;!function(t,e){for(var i=t.suspendedLanes,o=t.pingedLanes,r=t.expirationTimes,n=t.pendingLanes;0<n;){var a=31-ae(n),s=1<<a,l=r[a];-1===l?s&i&&!(s&o)||(r[a]=pe(s,e)):l<=e&&(t.expiredLanes|=s),n&=~s}}(t,e);var o=de(t,t===Rl?Sl:0);if(0===o)null!==i&&Yt(i),t.callbackNode=null,t.callbackPriority=0;else if(e=o&-o,t.callbackPriority!==e){if(null!=i&&Yt(i),1===e)0===t.tag?function(t){Ir=!0,Vr(t)}(su.bind(null,t)):Vr(su.bind(null,t)),ar((function(){!(6&_l)&&Wr()})),i=null;else{switch(Ce(o)){case 1:i=Zt;break;case 4:i=te;break;case 16:default:i=ee;break;case 536870912:i=oe}i=Ru(i,ou.bind(null,t))}t.callbackPriority=e,t.callbackNode=i}}function ou(t,e){if(Ql=-1,Jl=0,6&_l)throw Error(n(327));var i=t.callbackNode;if(yu()&&t.callbackNode!==i)return null;var o=de(t,t===Rl?Sl:0);if(0===o)return null;if(30&o||o&t.expiredLanes||e)e=gu(t,o);else{e=o;var r=_l;_l|=2;var a=pu();for(Rl===t&&Sl===e||(Wl=null,Vl=Qt()+500,cu(t,e));;)try{fu();break}catch(e){du(t,e)}_n(),El.current=a,_l=r,null!==Ml?e=0:(Rl=null,Sl=0,e=Dl)}if(0!==e){if(2===e&&(0!==(r=be(t))&&(o=r,e=ru(t,r))),1===e)throw i=Ll,cu(t,0),au(t,o),iu(t,Qt()),i;if(6===e)au(t,o);else{if(r=t.current.alternate,!(30&o||function(t){for(var e=t;;){if(16384&e.flags){var i=e.updateQueue;if(null!==i&&null!==(i=i.stores))for(var o=0;o<i.length;o++){var r=i[o],n=r.getSnapshot;r=r.value;try{if(!ao(n(),r))return!1}catch(t){return!1}}}if(i=e.child,16384&e.subtreeFlags&&null!==i)i.return=e,e=i;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(r)||(e=gu(t,o),2===e&&(a=be(t),0!==a&&(o=a,e=ru(t,a))),1!==e)))throw i=Ll,cu(t,0),au(t,o),iu(t,Qt()),i;switch(t.finishedWork=r,t.finishedLanes=o,e){case 0:case 1:throw Error(n(345));case 2:case 5:Cu(t,Il,Wl);break;case 3:if(au(t,o),(130023424&o)===o&&10<(e=Nl+500-Qt())){if(0!==de(t,0))break;if(((r=t.suspendedLanes)&o)!==o){Zl(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=or(Cu.bind(null,t,Il,Wl),e);break}Cu(t,Il,Wl);break;case 4:if(au(t,o),(4194240&o)===o)break;for(e=t.eventTimes,r=-1;0<o;){var s=31-ae(o);a=1<<s,(s=e[s])>r&&(r=s),o&=~a}if(o=r,10<(o=(120>(o=Qt()-o)?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Al(o/1960))-o)){t.timeoutHandle=or(Cu.bind(null,t,Il,Wl),o);break}Cu(t,Il,Wl);break;default:throw Error(n(329))}}}return iu(t,Qt()),t.callbackNode===i?ou.bind(null,t):null}function ru(t,e){var i=Hl;return t.current.memoizedState.isDehydrated&&(cu(t,e).flags|=256),2!==(t=gu(t,e))&&(e=Il,Il=i,null!==e&&nu(e)),t}function nu(t){null===Il?Il=t:Il.push.apply(Il,t)}function au(t,e){for(e&=~Ol,e&=~Fl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var i=31-ae(e),o=1<<i;t[i]=-1,e&=~o}}function su(t){if(6&_l)throw Error(n(327));yu();var e=de(t,0);if(!(1&e))return iu(t,Qt()),null;var i=gu(t,e);if(0!==t.tag&&2===i){var o=be(t);0!==o&&(e=o,i=ru(t,o))}if(1===i)throw i=Ll,cu(t,0),au(t,e),iu(t,Qt()),i;if(6===i)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Cu(t,Il,Wl),iu(t,Qt()),null}function lu(t,e){var i=_l;_l|=1;try{return t(e)}finally{0===(_l=i)&&(Vl=Qt()+500,Ir&&Wr())}}function uu(t){null!==$l&&0===$l.tag&&!(6&_l)&&yu();var e=_l;_l|=1;var i=Bl.transition,o=we;try{if(Bl.transition=null,we=1,t)return t()}finally{we=o,Bl.transition=i,!(6&(_l=e))&&Wr()}}function hu(){Tl=zl.current,kr(zl)}function cu(t,e){t.finishedWork=null,t.finishedLanes=0;var i=t.timeoutHandle;if(-1!==i&&(t.timeoutHandle=-1,rr(i)),null!==Ml)for(i=Ml.return;null!==i;){var o=i;switch(en(o),o.tag){case 1:null!=(o=o.type.childContextTypes)&&Dr();break;case 3:Qn(),kr(Mr),kr(Rr),oa();break;case 5:Zn(o);break;case 4:Qn();break;case 13:case 19:kr(ta);break;case 10:Rn(o.type._context);break;case 22:case 23:hu()}i=i.return}if(Rl=t,Ml=t=zu(t.current,null),Sl=Tl=e,Dl=0,Ll=null,Ol=Fl=Pl=0,Il=Hl=null,null!==zn){for(e=0;e<zn.length;e++)if(null!==(o=(i=zn[e]).interleaved)){i.interleaved=null;var r=o.next,n=i.pending;if(null!==n){var a=n.next;n.next=r,o.next=a}i.pending=o}zn=null}return t}function du(t,e){for(;;){var i=Ml;try{if(_n(),ra.current=Ja,ha){for(var o=sa.memoizedState;null!==o;){var r=o.queue;null!==r&&(r.pending=null),o=o.next}ha=!1}if(aa=0,ua=la=sa=null,ca=!1,da=0,kl.current=null,null===i||null===i.return){Dl=1,Ll=e,Ml=null;break}t:{var a=t,s=i.return,l=i,u=e;if(e=Sl,l.flags|=32768,null!==u&&"object"==typeof u&&"function"==typeof u.then){var h=u,c=l,d=c.tag;if(!(1&c.mode||0!==d&&11!==d&&15!==d)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var b=gs(s);if(null!==b){b.flags&=-257,ms(b,s,l,0,e),1&b.mode&&bs(a,h,e),u=h;var g=(e=b).updateQueue;if(null===g){var m=new Set;m.add(u),e.updateQueue=m}else g.add(u);break t}if(!(1&e)){bs(a,h,e),bu();break t}u=Error(n(426))}else if(nn&&1&l.mode){var f=gs(s);if(null!==f){!(65536&f.flags)&&(f.flags|=256),ms(f,s,l,0,e),gn(us(u,l));break t}}a=u=us(u,l),4!==Dl&&(Dl=2),null===Hl?Hl=[a]:Hl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e,Wn(a,ds(0,u,e));break t;case 1:l=u;var v=a.type,w=a.stateNode;if(!(128&a.flags||"function"!=typeof v.getDerivedStateFromError&&(null===w||"function"!=typeof w.componentDidCatch||null!==Ul&&Ul.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e,Wn(a,ps(a,l,e));break t}}a=a.return}while(null!==a)}wu(i)}catch(t){e=t,Ml===i&&null!==i&&(Ml=i=i.return);continue}break}}function pu(){var t=El.current;return El.current=Ja,null===t?Ja:t}function bu(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Rl||!(268435455&Pl)&&!(268435455&Fl)||au(Rl,Sl)}function gu(t,e){var i=_l;_l|=2;var o=pu();for(Rl===t&&Sl===e||(Wl=null,cu(t,e));;)try{mu();break}catch(e){du(t,e)}if(_n(),_l=i,El.current=o,null!==Ml)throw Error(n(261));return Rl=null,Sl=0,Dl}function mu(){for(;null!==Ml;)vu(Ml)}function fu(){for(;null!==Ml&&!Xt();)vu(Ml)}function vu(t){var e=xl(t.alternate,t,Tl);t.memoizedProps=t.pendingProps,null===e?wu(t):Ml=e,kl.current=null}function wu(t){var e=t;do{var i=e.alternate;if(t=e.return,32768&e.flags){if(null!==(i=$s(i,e)))return i.flags&=32767,void(Ml=i);if(null===t)return Dl=6,void(Ml=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}else if(null!==(i=qs(i,e,Tl)))return void(Ml=i);if(null!==(e=e.sibling))return void(Ml=e);Ml=e=t}while(null!==e);0===Dl&&(Dl=5)}function Cu(t,e,i){var o=we,r=Bl.transition;try{Bl.transition=null,we=1,function(t,e,i,o){do{yu()}while(null!==$l);if(6&_l)throw Error(n(327));i=t.finishedWork;var r=t.finishedLanes;if(null===i)return null;if(t.finishedWork=null,t.finishedLanes=0,i===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var a=i.lanes|i.childLanes;if(function(t,e){var i=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var o=t.eventTimes;for(t=t.expirationTimes;0<i;){var r=31-ae(i),n=1<<r;e[r]=0,o[r]=-1,t[r]=-1,i&=~n}}(t,a),t===Rl&&(Ml=Rl=null,Sl=0),!(2064&i.subtreeFlags)&&!(2064&i.flags)||ql||(ql=!0,Ru(ee,(function(){return yu(),null}))),a=!!(15990&i.flags),!!(15990&i.subtreeFlags)||a){a=Bl.transition,Bl.transition=null;var s=we;we=1;var l=_l;_l|=4,kl.current=null,function(t,e){if(tr=Ge,po(t=co())){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{var o=(i=(i=t.ownerDocument)&&i.defaultView||window).getSelection&&i.getSelection();if(o&&0!==o.rangeCount){i=o.anchorNode;var r=o.anchorOffset,a=o.focusNode;o=o.focusOffset;try{i.nodeType,a.nodeType}catch(t){i=null;break t}var s=0,l=-1,u=-1,h=0,c=0,d=t,p=null;e:for(;;){for(var b;d!==i||0!==r&&3!==d.nodeType||(l=s+r),d!==a||0!==o&&3!==d.nodeType||(u=s+o),3===d.nodeType&&(s+=d.nodeValue.length),null!==(b=d.firstChild);)p=d,d=b;for(;;){if(d===t)break e;if(p===i&&++h===r&&(l=s),p===a&&++c===o&&(u=s),null!==(b=d.nextSibling))break;p=(d=p).parentNode}d=b}i=-1===l||-1===u?null:{start:l,end:u}}else i=null}i=i||{start:0,end:0}}else i=null;for(er={focusedElem:t,selectionRange:i},Ge=!1,Qs=e;null!==Qs;)if(t=(e=Qs).child,1028&e.subtreeFlags&&null!==t)t.return=e,Qs=t;else for(;null!==Qs;){e=Qs;try{var g=e.alternate;if(1024&e.flags)switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,f=g.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?m:is(e.type,m),f);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var C=e.stateNode.containerInfo;1===C.nodeType?C.textContent="":9===C.nodeType&&C.documentElement&&C.removeChild(C.documentElement);break;default:throw Error(n(163))}}catch(t){Au(e,e.return,t)}if(null!==(t=e.sibling)){t.return=e.return,Qs=t;break}Qs=e.return}g=tl,tl=!1}(t,i),gl(i,t),bo(er),Ge=!!tr,er=tr=null,t.current=i,fl(i,t,r),Kt(),_l=l,we=s,Bl.transition=a}else t.current=i;if(ql&&(ql=!1,$l=t,Yl=r),a=t.pendingLanes,0===a&&(Ul=null),function(t){if(ne&&"function"==typeof ne.onCommitFiberRoot)try{ne.onCommitFiberRoot(re,t,void 0,!(128&~t.current.flags))}catch(t){}}(i.stateNode),iu(t,Qt()),null!==e)for(o=t.onRecoverableError,i=0;i<e.length;i++)r=e[i],o(r.value,{componentStack:r.stack,digest:r.digest});if(jl)throw jl=!1,t=Gl,Gl=null,t;!!(1&Yl)&&0!==t.tag&&yu(),a=t.pendingLanes,1&a?t===Kl?Xl++:(Xl=0,Kl=t):Xl=0,Wr()}(t,e,i,o)}finally{Bl.transition=r,we=o}return null}function yu(){if(null!==$l){var t=Ce(Yl),e=Bl.transition,i=we;try{if(Bl.transition=null,we=16>t?16:t,null===$l)var o=!1;else{if(t=$l,$l=null,Yl=0,6&_l)throw Error(n(331));var r=_l;for(_l|=4,Qs=t.current;null!==Qs;){var a=Qs,s=a.child;if(16&Qs.flags){var l=a.deletions;if(null!==l){for(var u=0;u<l.length;u++){var h=l[u];for(Qs=h;null!==Qs;){var c=Qs;switch(c.tag){case 0:case 11:case 15:el(8,c,a)}var d=c.child;if(null!==d)d.return=c,Qs=d;else for(;null!==Qs;){var p=(c=Qs).sibling,b=c.return;if(rl(c),c===h){Qs=null;break}if(null!==p){p.return=b,Qs=p;break}Qs=b}}}var g=a.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var f=m.sibling;m.sibling=null,m=f}while(null!==m)}}Qs=a}}if(2064&a.subtreeFlags&&null!==s)s.return=a,Qs=s;else t:for(;null!==Qs;){if(2048&(a=Qs).flags)switch(a.tag){case 0:case 11:case 15:el(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Qs=v;break t}Qs=a.return}}var w=t.current;for(Qs=w;null!==Qs;){var C=(s=Qs).child;if(2064&s.subtreeFlags&&null!==C)C.return=s,Qs=C;else t:for(s=w;null!==Qs;){if(2048&(l=Qs).flags)try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(t){Au(l,l.return,t)}if(l===s){Qs=null;break t}var y=l.sibling;if(null!==y){y.return=l.return,Qs=y;break t}Qs=l.return}}if(_l=r,Wr(),ne&&"function"==typeof ne.onPostCommitFiberRoot)try{ne.onPostCommitFiberRoot(re,t)}catch(t){}o=!0}return o}finally{we=i,Bl.transition=e}}return!1}function xu(t,e,i){t=Nn(t,e=ds(0,e=us(i,e),1),1),e=Zl(),null!==t&&(fe(t,1,e),iu(t,e))}function Au(t,e,i){if(3===t.tag)xu(t,t,i);else for(;null!==e;){if(3===e.tag){xu(e,t,i);break}if(1===e.tag){var o=e.stateNode;if("function"==typeof e.type.getDerivedStateFromError||"function"==typeof o.componentDidCatch&&(null===Ul||!Ul.has(o))){e=Nn(e,t=ps(e,t=us(i,t),1),1),t=Zl(),null!==e&&(fe(e,1,t),iu(e,t));break}}e=e.return}}function Eu(t,e,i){var o=t.pingCache;null!==o&&o.delete(e),e=Zl(),t.pingedLanes|=t.suspendedLanes&i,Rl===t&&(Sl&i)===i&&(4===Dl||3===Dl&&(130023424&Sl)===Sl&&500>Qt()-Nl?cu(t,0):Ol|=i),iu(t,e)}function ku(t,e){0===e&&(1&t.mode?(e=he,!(130023424&(he<<=1))&&(he=4194304)):e=1);var i=Zl();null!==(t=Pn(t,e))&&(fe(t,e,i),iu(t,i))}function Bu(t){var e=t.memoizedState,i=0;null!==e&&(i=e.retryLane),ku(t,i)}function _u(t,e){var i=0;switch(t.tag){case 13:var o=t.stateNode,r=t.memoizedState;null!==r&&(i=r.retryLane);break;case 19:o=t.stateNode;break;default:throw Error(n(314))}null!==o&&o.delete(e),ku(t,i)}function Ru(t,e){return $t(t,e)}function Mu(t,e,i,o){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Su(t,e,i,o){return new Mu(t,e,i,o)}function Tu(t){return!(!(t=t.prototype)||!t.isReactComponent)}function zu(t,e){var i=t.alternate;return null===i?((i=Su(t.tag,e,t.key,t.mode)).elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=14680064&t.flags,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function Du(t,e,i,o,r,a){var s=2;if(o=t,"function"==typeof t)Tu(t)&&(s=1);else if("string"==typeof t)s=5;else t:switch(t){case A:return Lu(i.children,r,a,e);case E:s=8,r|=8;break;case k:return(t=Su(12,i,e,2|r)).elementType=k,t.lanes=a,t;case M:return(t=Su(13,i,e,r)).elementType=M,t.lanes=a,t;case S:return(t=Su(19,i,e,r)).elementType=S,t.lanes=a,t;case D:return Pu(i,r,a,e);default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case B:s=10;break t;case _:s=9;break t;case R:s=11;break t;case T:s=14;break t;case z:s=16,o=null;break t}throw Error(n(130,null==t?t:typeof t,""))}return(e=Su(s,i,e,r)).elementType=t,e.type=o,e.lanes=a,e}function Lu(t,e,i,o){return(t=Su(7,t,o,e)).lanes=i,t}function Pu(t,e,i,o){return(t=Su(22,t,o,e)).elementType=D,t.lanes=i,t.stateNode={isHidden:!1},t}function Fu(t,e,i){return(t=Su(6,t,null,e)).lanes=i,t}function Ou(t,e,i){return(e=Su(4,null!==t.children?t.children:[],t.key,e)).lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Hu(t,e,i,o,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=me(0),this.expirationTimes=me(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=me(0),this.identifierPrefix=o,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Iu(t,e,i,o,r,n,a,s,l){return t=new Hu(t,e,i,s,l),1===e?(e=1,!0===n&&(e|=8)):e=0,n=Su(3,null,null,e),t.current=n,n.stateNode=t,n.memoizedState={element:o,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},On(n),t}function Nu(t){if(!t)return _r;t:{if(Wt(t=t._reactInternals)!==t||1!==t.tag)throw Error(n(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(zr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(n(171))}if(1===t.tag){var i=t.type;if(zr(i))return Pr(t,i,e)}return e}function Vu(t,e,i,o,r,n,a,s,l){return(t=Iu(i,o,!0,t,0,n,0,s,l)).context=Nu(null),i=t.current,(n=In(o=Zl(),r=tu(i))).callback=null!=e?e:null,Nn(i,n,r),t.current.lanes=r,fe(t,r,o),iu(t,o),t}function Wu(t,e,i,o){var r=e.current,n=Zl(),a=tu(r);return i=Nu(i),null===e.context?e.context=i:e.pendingContext=i,(e=In(n,a)).payload={element:t},null!==(o=void 0===o?null:o)&&(e.callback=o),null!==(t=Nn(r,e,a))&&(eu(t,r,a,n),Vn(t,r,a)),a}function ju(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function Gu(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var i=t.retryLane;t.retryLane=0!==i&&i<e?i:e}}function Uu(t,e){Gu(t,e),(t=t.alternate)&&Gu(t,e)}xl=function(t,e,i){if(null!==t)if(t.memoizedProps!==e.pendingProps||Mr.current)vs=!0;else{if(!(t.lanes&i||128&e.flags))return vs=!1,function(t,e,i){switch(e.tag){case 3:Rs(e),bn();break;case 5:Jn(e);break;case 1:zr(e.type)&&Fr(e);break;case 4:Kn(e,e.stateNode.containerInfo);break;case 10:var o=e.type._context,r=e.memoizedProps.value;Br(An,o._currentValue),o._currentValue=r;break;case 13:if(null!==(o=e.memoizedState))return null!==o.dehydrated?(Br(ta,1&ta.current),e.flags|=128,null):i&e.child.childLanes?Fs(t,e,i):(Br(ta,1&ta.current),null!==(t=js(t,e,i))?t.sibling:null);Br(ta,1&ta.current);break;case 19:if(o=!!(i&e.childLanes),128&t.flags){if(o)return Vs(t,e,i);e.flags|=128}if(null!==(r=e.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Br(ta,ta.current),o)break;return null;case 22:case 23:return e.lanes=0,As(t,e,i)}return js(t,e,i)}(t,e,i);vs=!!(131072&t.flags)}else vs=!1,nn&&1048576&e.flags&&Zr(e,qr,e.index);switch(e.lanes=0,e.tag){case 2:var o=e.type;Ws(t,e),t=e.pendingProps;var r=Tr(e,Rr.current);Sn(e,i),r=ma(null,e,o,t,r,i);var a=fa();return e.flags|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zr(o)?(a=!0,Fr(e)):a=!1,e.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,On(e),r.updater=rs,e.stateNode=r,r._reactInternals=e,ls(e,o,t,i),e=_s(null,e,o,!0,a,i)):(e.tag=0,nn&&a&&tn(e),ws(null,e,r,i),e=e.child),e;case 16:o=e.elementType;t:{switch(Ws(t,e),t=e.pendingProps,o=(r=o._init)(o._payload),e.type=o,r=e.tag=function(t){if("function"==typeof t)return Tu(t)?1:0;if(null!=t){if((t=t.$$typeof)===R)return 11;if(t===T)return 14}return 2}(o),t=is(o,t),r){case 0:e=ks(null,e,o,t,i);break t;case 1:e=Bs(null,e,o,t,i);break t;case 11:e=Cs(null,e,o,t,i);break t;case 14:e=ys(null,e,o,is(o.type,t),i);break t}throw Error(n(306,o,""))}return e;case 0:return o=e.type,r=e.pendingProps,ks(t,e,o,r=e.elementType===o?r:is(o,r),i);case 1:return o=e.type,r=e.pendingProps,Bs(t,e,o,r=e.elementType===o?r:is(o,r),i);case 3:t:{if(Rs(e),null===t)throw Error(n(387));o=e.pendingProps,r=(a=e.memoizedState).element,Hn(t,e),jn(e,o,null,i);var s=e.memoizedState;if(o=s.element,a.isDehydrated){if(a={element:o,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,256&e.flags){e=Ms(t,e,o,i,r=us(Error(n(423)),e));break t}if(o!==r){e=Ms(t,e,o,i,r=us(Error(n(424)),e));break t}for(rn=ur(e.stateNode.containerInfo.firstChild),on=e,nn=!0,an=null,i=xn(e,null,o,i),e.child=i;i;)i.flags=-3&i.flags|4096,i=i.sibling}else{if(bn(),o===r){e=js(t,e,i);break t}ws(t,e,o,i)}e=e.child}return e;case 5:return Jn(e),null===t&&hn(e),o=e.type,r=e.pendingProps,a=null!==t?t.memoizedProps:null,s=r.children,ir(o,r)?s=null:null!==a&&ir(o,a)&&(e.flags|=32),Es(t,e),ws(t,e,s,i),e.child;case 6:return null===t&&hn(e),null;case 13:return Fs(t,e,i);case 4:return Kn(e,e.stateNode.containerInfo),o=e.pendingProps,null===t?e.child=yn(e,null,o,i):ws(t,e,o,i),e.child;case 11:return o=e.type,r=e.pendingProps,Cs(t,e,o,r=e.elementType===o?r:is(o,r),i);case 7:return ws(t,e,e.pendingProps,i),e.child;case 8:case 12:return ws(t,e,e.pendingProps.children,i),e.child;case 10:t:{if(o=e.type._context,r=e.pendingProps,a=e.memoizedProps,s=r.value,Br(An,o._currentValue),o._currentValue=s,null!==a)if(ao(a.value,s)){if(a.children===r.children&&!Mr.current){e=js(t,e,i);break t}}else for(null!==(a=e.child)&&(a.return=e);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var u=l.firstContext;null!==u;){if(u.context===o){if(1===a.tag){(u=In(-1,i&-i)).tag=2;var h=a.updateQueue;if(null!==h){var c=(h=h.shared).pending;null===c?u.next=u:(u.next=c.next,c.next=u),h.pending=u}}a.lanes|=i,null!==(u=a.alternate)&&(u.lanes|=i),Mn(a.return,i,e),l.lanes|=i;break}u=u.next}}else if(10===a.tag)s=a.type===e.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(n(341));s.lanes|=i,null!==(l=s.alternate)&&(l.lanes|=i),Mn(s,i,e),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===e){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(t,e,r.children,i),e=e.child}return e;case 9:return r=e.type,o=e.pendingProps.children,Sn(e,i),o=o(r=Tn(r)),e.flags|=1,ws(t,e,o,i),e.child;case 14:return r=is(o=e.type,e.pendingProps),ys(t,e,o,r=is(o.type,r),i);case 15:return xs(t,e,e.type,e.pendingProps,i);case 17:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:is(o,r),Ws(t,e),e.tag=1,zr(o)?(t=!0,Fr(e)):t=!1,Sn(e,i),as(e,o,r),ls(e,o,r,i),_s(null,e,o,!0,t,i);case 19:return Vs(t,e,i);case 22:return As(t,e,i)}throw Error(n(156,e.tag))};var qu="function"==typeof reportError?reportError:function(t){};function $u(t){this._internalRoot=t}function Yu(t){this._internalRoot=t}function Xu(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Ku(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Qu(){}function Ju(t,e,i,o,r){var n=i._reactRootContainer;if(n){var a=n;if("function"==typeof r){var s=r;r=function(){var t=ju(a);s.call(t)}}Wu(e,a,t,r)}else a=function(t,e,i,o,r){if(r){if("function"==typeof o){var n=o;o=function(){var t=ju(a);n.call(t)}}var a=Vu(e,o,t,0,null,!1,0,"",Qu);return t._reactRootContainer=a,t[br]=a.current,Wo(8===t.nodeType?t.parentNode:t),uu(),a}for(;r=t.lastChild;)t.removeChild(r);if("function"==typeof o){var s=o;o=function(){var t=ju(l);s.call(t)}}var l=Iu(t,0,!1,null,0,!1,0,"",Qu);return t._reactRootContainer=l,t[br]=l.current,Wo(8===t.nodeType?t.parentNode:t),uu((function(){Wu(e,l,i,o)})),l}(i,e,t,r,o);return ju(a)}Yu.prototype.render=$u.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(n(409));Wu(t,e,null,null)},Yu.prototype.unmount=$u.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;uu((function(){Wu(null,t,null,null)})),e[br]=null}},Yu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ee();t={blockedOn:null,target:t,priority:e};for(var i=0;i<De.length&&0!==e&&e<De[i].priority;i++);De.splice(i,0,t),0===i&&Oe(t)}},ye=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var i=ce(e.pendingLanes);0!==i&&(ve(e,1|i),iu(e,Qt()),!(6&_l)&&(Vl=Qt()+500,Wr()))}break;case 13:uu((function(){var e=Pn(t,1);if(null!==e){var i=Zl();eu(e,t,1,i)}})),Uu(t,1)}},xe=function(t){if(13===t.tag){var e=Pn(t,134217728);if(null!==e)eu(e,t,134217728,Zl());Uu(t,134217728)}},Ae=function(t){if(13===t.tag){var e=tu(t),i=Pn(t,e);if(null!==i)eu(i,t,e,Zl());Uu(t,e)}},Ee=function(){return we},ke=function(t,e){var i=we;try{return we=t,e()}finally{we=i}},xt=function(t,e,i){switch(e){case"input":if(J(t,i),e=i.name,"radio"===i.type&&null!=e){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<i.length;e++){var o=i[e];if(o!==t&&o.form===t.form){var r=yr(o);if(!r)throw Error(n(90));$(o),J(o,r)}}}break;case"textarea":nt(t,i);break;case"select":null!=(e=i.value)&&it(t,!!i.multiple,e,!1)}},Rt=lu,Mt=uu;var Zu={usingClientEntryPoint:!1,Events:[wr,Cr,yr,Bt,_t,lu]},th={findFiberByHostInstance:vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eh={bundleType:th.bundleType,version:th.version,rendererPackageName:th.rendererPackageName,rendererConfig:th.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Ut(t))?null:t.stateNode},findFiberByHostInstance:th.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ih.isDisabled&&ih.supportsFiber)try{re=ih.inject(eh),ne=ih}catch(ht){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zu,e.createPortal=function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xu(e))throw Error(n(200));return function(t,e,i){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==o?null:""+o,children:t,containerInfo:e,implementation:i}}(t,e,null,i)},e.createRoot=function(t,e){if(!Xu(t))throw Error(n(299));var i=!1,o="",r=qu;return null!=e&&(!0===e.unstable_strictMode&&(i=!0),void 0!==e.identifierPrefix&&(o=e.identifierPrefix),void 0!==e.onRecoverableError&&(r=e.onRecoverableError)),e=Iu(t,1,!1,null,0,i,0,o,r),t[br]=e.current,Wo(8===t.nodeType?t.parentNode:t),new $u(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"==typeof t.render)throw Error(n(188));throw t=Object.keys(t).join(","),Error(n(268,t))}return t=null===(t=Ut(e))?null:t.stateNode},e.flushSync=function(t){return uu(t)},e.hydrate=function(t,e,i){if(!Ku(e))throw Error(n(200));return Ju(null,t,e,!0,i)},e.hydrateRoot=function(t,e,i){if(!Xu(t))throw Error(n(405));var o=null!=i&&i.hydratedSources||null,r=!1,a="",s=qu;if(null!=i&&(!0===i.unstable_strictMode&&(r=!0),void 0!==i.identifierPrefix&&(a=i.identifierPrefix),void 0!==i.onRecoverableError&&(s=i.onRecoverableError)),e=Vu(e,null,t,1,null!=i?i:null,r,0,a,s),t[br]=e.current,Wo(t),o)for(t=0;t<o.length;t++)r=(r=(i=o[t])._getVersion)(i._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[i,r]:e.mutableSourceEagerHydrationData.push(i,r);return new Yu(e)},e.render=function(t,e,i){if(!Ku(e))throw Error(n(200));return Ju(null,t,e,!1,i)},e.unmountComponentAtNode=function(t){if(!Ku(t))throw Error(n(40));return!!t._reactRootContainer&&(uu((function(){Ju(null,null,t,!1,(function(){t._reactRootContainer=null,t[br]=null}))})),!0)},e.unstable_batchedUpdates=lu,e.unstable_renderSubtreeIntoContainer=function(t,e,i,o){if(!Ku(i))throw Error(n(200));if(null==t||void 0===t._reactInternals)throw Error(n(38));return Ju(t,e,i,!1,o)},e.version="18.3.1-next-f1338f8080-20240426"},961:function(t,e,i){!function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){}}(),t.exports=i(551)},287:function(t,e){var i=Symbol.for("react.element"),o=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function f(t,e,i){this.props=t,this.context=e,this.refs=m,this.updater=i||b}function v(){}function w(t,e,i){this.props=t,this.context=e,this.refs=m,this.updater=i||b}f.prototype.isReactComponent={},f.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},f.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},v.prototype=f.prototype;var C=w.prototype=new v;C.constructor=w,g(C,f.prototype),C.isPureReactComponent=!0;var y=Array.isArray,x=Object.prototype.hasOwnProperty,A={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function k(t,e,o){var r,n={},a=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)x.call(e,r)&&!E.hasOwnProperty(r)&&(n[r]=e[r]);var l=arguments.length-2;if(1===l)n.children=o;else if(1<l){for(var u=Array(l),h=0;h<l;h++)u[h]=arguments[h+2];n.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps)void 0===n[r]&&(n[r]=l[r]);return{$$typeof:i,type:t,key:a,ref:s,props:n,_owner:A.current}}function B(t){return"object"==typeof t&&null!==t&&t.$$typeof===i}var _=/\/+/g;function R(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function M(t,e,r,n,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case i:case o:l=!0}}if(l)return a=a(l=t),t=""===n?"."+R(l,0):n,y(a)?(r="",null!=t&&(r=t.replace(_,"$&/")+"/"),M(a,e,r,"",(function(t){return t}))):null!=a&&(B(a)&&(a=function(t,e){return{$$typeof:i,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,r+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(_,"$&/")+"/")+t)),e.push(a)),1;if(l=0,n=""===n?".":n+":",y(t))for(var u=0;u<t.length;u++){var h=n+R(s=t[u],u);l+=M(s,e,r,h,a)}else if(h=function(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=p&&t[p]||t["@@iterator"])?t:null}(t),"function"==typeof h)for(t=h.call(t),u=0;!(s=t.next()).done;)l+=M(s=s.value,e,r,h=n+R(s,u++),a);else if("object"===s)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function S(t,e,i){if(null==t)return t;var o=[],r=0;return M(t,o,"","",(function(t){return e.call(i,t,r++)})),o}function T(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var z={current:null},D={transition:null},L={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:D,ReactCurrentOwner:A};function P(){throw Error("act(...) is not supported in production builds of React.")}e.Children={map:S,forEach:function(t,e,i){S(t,(function(){e.apply(this,arguments)}),i)},count:function(t){var e=0;return S(t,(function(){e++})),e},toArray:function(t){return S(t,(function(t){return t}))||[]},only:function(t){if(!B(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=f,e.Fragment=r,e.Profiler=a,e.PureComponent=w,e.StrictMode=n,e.Suspense=h,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,e.act=P,e.cloneElement=function(t,e,o){if(null==t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=g({},t.props),n=t.key,a=t.ref,s=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,s=A.current),void 0!==e.key&&(n=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)x.call(e,u)&&!E.hasOwnProperty(u)&&(r[u]=void 0===e[u]&&void 0!==l?l[u]:e[u])}var u=arguments.length-2;if(1===u)r.children=o;else if(1<u){l=Array(u);for(var h=0;h<u;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:i,type:t.type,key:n,ref:a,props:r,_owner:s}},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:t},t.Consumer=t},e.createElement=k,e.createFactory=function(t){var e=k.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:u,render:t}},e.isValidElement=B,e.lazy=function(t){return{$$typeof:d,_payload:{_status:-1,_result:t},_init:T}},e.memo=function(t,e){return{$$typeof:c,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=D.transition;D.transition={};try{t()}finally{D.transition=e}},e.unstable_act=P,e.useCallback=function(t,e){return z.current.useCallback(t,e)},e.useContext=function(t){return z.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return z.current.useDeferredValue(t)},e.useEffect=function(t,e){return z.current.useEffect(t,e)},e.useId=function(){return z.current.useId()},e.useImperativeHandle=function(t,e,i){return z.current.useImperativeHandle(t,e,i)},e.useInsertionEffect=function(t,e){return z.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return z.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return z.current.useMemo(t,e)},e.useReducer=function(t,e,i){return z.current.useReducer(t,e,i)},e.useRef=function(t){return z.current.useRef(t)},e.useState=function(t){return z.current.useState(t)},e.useSyncExternalStore=function(t,e,i){return z.current.useSyncExternalStore(t,e,i)},e.useTransition=function(){return z.current.useTransition()},e.version="18.3.1"},540:function(t,e,i){t.exports=i(287)},463:function(t,e){function i(t,e){var i=t.length;t.push(e);t:for(;0<i;){var o=i-1>>>1,r=t[o];if(!(0<n(r,e)))break t;t[o]=e,t[i]=r,i=o}}function o(t){return 0===t.length?null:t[0]}function r(t){if(0===t.length)return null;var e=t[0],i=t.pop();if(i!==e){t[0]=i;t:for(var o=0,r=t.length,a=r>>>1;o<a;){var s=2*(o+1)-1,l=t[s],u=s+1,h=t[u];if(0>n(l,i))u<r&&0>n(h,l)?(t[o]=h,t[u]=i,o=u):(t[o]=l,t[s]=i,o=s);else{if(!(u<r&&0>n(h,i)))break t;t[o]=h,t[u]=i,o=u}}}return e}function n(t,e){var i=t.sortIndex-e.sortIndex;return 0!==i?i:t.id-e.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var u=[],h=[],c=1,d=null,p=3,b=!1,g=!1,m=!1,f="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,w="undefined"!=typeof setImmediate?setImmediate:null;function C(t){for(var e=o(h);null!==e;){if(null===e.callback)r(h);else{if(!(e.startTime<=t))break;r(h),e.sortIndex=e.expirationTime,i(u,e)}e=o(h)}}function y(t){if(m=!1,C(t),!g)if(null!==o(u))g=!0,D(x);else{var e=o(h);null!==e&&L(y,e.startTime-t)}}function x(t,i){g=!1,m&&(m=!1,v(B),B=-1),b=!0;var n=p;try{for(C(i),d=o(u);null!==d&&(!(d.expirationTime>i)||t&&!M());){var a=d.callback;if("function"==typeof a){d.callback=null,p=d.priorityLevel;var s=a(d.expirationTime<=i);i=e.unstable_now(),"function"==typeof s?d.callback=s:d===o(u)&&r(u),C(i)}else r(u);d=o(u)}if(null!==d)var l=!0;else{var c=o(h);null!==c&&L(y,c.startTime-i),l=!1}return l}finally{d=null,p=n,b=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var A,E=!1,k=null,B=-1,_=5,R=-1;function M(){return!(e.unstable_now()-R<_)}function S(){if(null!==k){var t=e.unstable_now();R=t;var i=!0;try{i=k(!0,t)}finally{i?A():(E=!1,k=null)}}else E=!1}if("function"==typeof w)A=function(){w(S)};else if("undefined"!=typeof MessageChannel){var T=new MessageChannel,z=T.port2;T.port1.onmessage=S,A=function(){z.postMessage(null)}}else A=function(){f(S,0)};function D(t){k=t,E||(E=!0,A())}function L(t,i){B=f((function(){t(e.unstable_now())}),i)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){g||b||(g=!0,D(x))},e.unstable_forceFrameRate=function(t){0>t||125<t||(_=0<t?Math.floor(1e3/t):5)},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return o(u)},e.unstable_next=function(t){switch(p){case 1:case 2:case 3:var e=3;break;default:e=p}var i=p;p=e;try{return t()}finally{p=i}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var i=p;p=t;try{return e()}finally{p=i}},e.unstable_scheduleCallback=function(t,r,n){var a=e.unstable_now();switch("object"==typeof n&&null!==n?n="number"==typeof(n=n.delay)&&0<n?a+n:a:n=a,t){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return t={id:c++,callback:r,priorityLevel:t,startTime:n,expirationTime:s=n+s,sortIndex:-1},n>a?(t.sortIndex=n,i(h,t),null===o(u)&&t===o(h)&&(m?(v(B),B=-1):m=!0,L(y,n-a))):(t.sortIndex=s,i(u,t),g||b||(g=!0,D(x))),t},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(t){var e=p;return function(){var i=p;p=e;try{return t.apply(this,arguments)}finally{p=i}}}},982:function(t,e,i){t.exports=i(463)},72:function(t){var e=[];function i(t){for(var i=-1,o=0;o<e.length;o++)if(e[o].identifier===t){i=o;break}return i}function o(t,o){for(var n={},a=[],s=0;s<t.length;s++){var l=t[s],u=o.base?l[0]+o.base:l[0],h=n[u]||0,c="".concat(u," ").concat(h);n[u]=h+1;var d=i(c),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==d)e[d].references++,e[d].updater(p);else{var b=r(p,o);o.byIndex=s,e.splice(s,0,{identifier:c,updater:b,references:1})}a.push(c)}return a}function r(t,e){var i=e.domAPI(e);i.update(t);return function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;i.update(t=e)}else i.remove()}}t.exports=function(t,r){var n=o(t=t||[],r=r||{});return function(t){t=t||[];for(var a=0;a<n.length;a++){var s=i(n[a]);e[s].references--}for(var l=o(t,r),u=0;u<n.length;u++){var h=i(n[u]);0===e[h].references&&(e[h].updater(),e.splice(h,1))}n=l}}},659:function(t){var e={};t.exports=function(t,i){var o=function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}(t);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(i)}},159:function(t){t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},56:function(t,e,i){t.exports=function(t){var e=i.nc;e&&t.setAttribute("nonce",e)}},825:function(t){t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(i){!function(t,e,i){var o="";i.supports&&(o+="@supports (".concat(i.supports,") {")),i.media&&(o+="@media ".concat(i.media," {"));var r=void 0!==i.layer;r&&(o+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),o+=i.css,r&&(o+="}"),i.media&&(o+="}"),i.supports&&(o+="}");var n=i.sourceMap;n&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(n))))," */")),e.styleTagTransform(o,t,e.options)}(e,t,i)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},113:function(t){t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function i(o){var r=e[o];if(void 0!==r)return r.exports;var n=e[o]={id:o,exports:{}};return t[o](n,n.exports,i),n.exports}i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,{a:e}),e},i.d=function(t,e){for(var o in e)i.o(e,o)&&!i.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.nc=void 0;var o=i(540),r=i(961);class n{constructor(t){this.table=t}reloadData(t,e,i){return this.table.dataLoader.load(t,void 0,void 0,void 0,e,i)}langText(){return this.table.modules.localize.getText(...arguments)}langBind(){return this.table.modules.localize.bind(...arguments)}langLocale(){return this.table.modules.localize.getLocale(...arguments)}commsConnections(){return this.table.modules.comms.getConnections(...arguments)}commsSend(){return this.table.modules.comms.send(...arguments)}layoutMode(){return this.table.modules.layout.getMode()}layoutRefresh(t){return this.table.modules.layout.layout(t)}subscribe(){return this.table.eventBus.subscribe(...arguments)}unsubscribe(){return this.table.eventBus.unsubscribe(...arguments)}subscribed(t){return this.table.eventBus.subscribed(t)}subscriptionChange(){return this.table.eventBus.subscriptionChange(...arguments)}dispatch(){return this.table.eventBus.dispatch(...arguments)}chain(){return this.table.eventBus.chain(...arguments)}confirm(){return this.table.eventBus.confirm(...arguments)}dispatchExternal(){return this.table.externalEvents.dispatch(...arguments)}subscribedExternal(t){return this.table.externalEvents.subscribed(t)}subscriptionChangeExternal(){return this.table.externalEvents.subscriptionChange(...arguments)}options(t){return this.table.options[t]}setOption(t,e){return void 0!==e&&(this.table.options[t]=e),this.table.options[t]}deprecationCheck(t,e,i){return this.table.deprecationAdvisor.check(t,e,i)}deprecationCheckMsg(t,e){return this.table.deprecationAdvisor.checkMsg(t,e)}deprecationMsg(t){return this.table.deprecationAdvisor.msg(t)}module(t){return this.table.module(t)}}class a{static elVisible(t){return!(t.offsetWidth<=0&&t.offsetHeight<=0)}static elOffset(t){var e=t.getBoundingClientRect();return{top:e.top+window.pageYOffset-document.documentElement.clientTop,left:e.left+window.pageXOffset-document.documentElement.clientLeft}}static retrieveNestedData(t,e,i){var o,r=t?e.split(t):[e],n=r.length;for(let t=0;t<n&&(o=i=i[r[t]],i);t++);return o}static deepClone(t,e,i=[]){var o={}.__proto__,r=[].__proto__;for(var n in e||(e=Object.assign(Array.isArray(t)?[]:{},t)),t){let a,s,l=t[n];null==l||"object"!=typeof l||l.__proto__!==o&&l.__proto__!==r||(a=i.findIndex((t=>t.subject===l)),a>-1?e[n]=i[a].copy:(s=Object.assign(Array.isArray(l)?[]:{},l),i.unshift({subject:l,copy:s}),e[n]=this.deepClone(l,s,i)))}return e}}class s extends n{constructor(t,e,i){super(t),this.element=e,this.container=this._lookupContainer(),this.parent=i,this.reversedX=!1,this.childPopup=null,this.blurable=!1,this.blurCallback=null,this.blurEventsBound=!1,this.renderedCallback=null,this.visible=!1,this.hideable=!0,this.element.classList.add("tabulator-popup-container"),this.blurEvent=this.hide.bind(this,!1),this.escEvent=this._escapeCheck.bind(this),this.destroyBinding=this.tableDestroyed.bind(this),this.destroyed=!1}tableDestroyed(){this.destroyed=!0,this.hide(!0)}_lookupContainer(){var t=this.table.options.popupContainer;return"string"==typeof t?t=document.querySelector(t):!0===t&&(t=this.table.element),t&&!this._checkContainerIsParent(t)&&(t=!1),t||(t=document.body),t}_checkContainerIsParent(t,e=this.table.element){return t===e||!!e.parentNode&&this._checkContainerIsParent(t,e.parentNode)}renderCallback(t){this.renderedCallback=t}containerEventCoords(t){var e=!(t instanceof MouseEvent),i=e?t.touches[0].pageX:t.pageX,o=e?t.touches[0].pageY:t.pageY;if(this.container!==document.body){let t=a.elOffset(this.container);i-=t.left,o-=t.top}return{x:i,y:o}}elementPositionCoords(t,e="right"){var i,o,r,n=a.elOffset(t);switch(this.container!==document.body&&(i=a.elOffset(this.container),n.left-=i.left,n.top-=i.top),e){case"right":o=n.left+t.offsetWidth,r=n.top-1;break;case"bottom":o=n.left,r=n.top+t.offsetHeight;break;case"left":o=n.left,r=n.top-1;break;case"top":o=n.left,r=n.top;break;case"center":o=n.left+t.offsetWidth/2,r=n.top+t.offsetHeight/2}return{x:o,y:r,offset:n}}show(t,e){var i,o,r,n,a;return this.destroyed||this.table.destroyed||(t instanceof HTMLElement?(r=t,n=(a=this.elementPositionCoords(t,e)).offset,i=a.x,o=a.y):"number"==typeof t?(n={top:0,left:0},i=t,o=e):(i=(a=this.containerEventCoords(t)).x,o=a.y,this.reversedX=!1),this.element.style.top=o+"px",this.element.style.left=i+"px",this.container.appendChild(this.element),"function"==typeof this.renderedCallback&&this.renderedCallback(),this._fitToScreen(i,o,r,n,e),this.visible=!0,this.subscribe("table-destroy",this.destroyBinding),this.element.addEventListener("mousedown",(t=>{t.stopPropagation()}))),this}_fitToScreen(t,e,i,o,r){var n=this.container===document.body?document.documentElement.scrollTop:this.container.scrollTop;if((t+this.element.offsetWidth>=this.container.offsetWidth||this.reversedX)&&(this.element.style.left="",this.element.style.right=i?this.container.offsetWidth-o.left+"px":this.container.offsetWidth-t+"px",this.reversedX=!0),e+this.element.offsetHeight>Math.max(this.container.offsetHeight,n?this.container.scrollHeight:0))if(i)if("bottom"===r)this.element.style.top=parseInt(this.element.style.top)-this.element.offsetHeight-i.offsetHeight-1+"px";else this.element.style.top=parseInt(this.element.style.top)-this.element.offsetHeight+i.offsetHeight+1+"px";else this.element.style.top=parseInt(this.element.style.top)-this.element.offsetHeight+"px"}isVisible(){return this.visible}hideOnBlur(t){return this.blurable=!0,this.visible&&(setTimeout((()=>{this.visible&&(this.table.rowManager.element.addEventListener("scroll",this.blurEvent),this.subscribe("cell-editing",this.blurEvent),document.body.addEventListener("click",this.blurEvent),document.body.addEventListener("contextmenu",this.blurEvent),document.body.addEventListener("mousedown",this.blurEvent),window.addEventListener("resize",this.blurEvent),document.body.addEventListener("keydown",this.escEvent),this.blurEventsBound=!0)}),100),this.blurCallback=t),this}_escapeCheck(t){27==t.keyCode&&this.hide()}blockHide(){this.hideable=!1}restoreHide(){this.hideable=!0}hide(t=!1){return this.visible&&this.hideable&&(this.blurable&&this.blurEventsBound&&(document.body.removeEventListener("keydown",this.escEvent),document.body.removeEventListener("click",this.blurEvent),document.body.removeEventListener("contextmenu",this.blurEvent),document.body.removeEventListener("mousedown",this.blurEvent),window.removeEventListener("resize",this.blurEvent),this.table.rowManager.element.removeEventListener("scroll",this.blurEvent),this.unsubscribe("cell-editing",this.blurEvent),this.blurEventsBound=!1),this.childPopup&&this.childPopup.hide(),this.parent&&(this.parent.childPopup=null),this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.visible=!1,this.blurCallback&&!t&&this.blurCallback(),this.unsubscribe("table-destroy",this.destroyBinding)),this}child(t){return this.childPopup&&this.childPopup.hide(),this.childPopup=new s(this.table,t,this),this.childPopup}}class l extends n{constructor(t,e){super(t),this._handler=null}initialize(){}registerTableOption(t,e){this.table.optionsList.register(t,e)}registerColumnOption(t,e){this.table.columnManager.optionsList.register(t,e)}registerTableFunction(t,e){void 0===this.table[t]&&(this.table[t]=(...i)=>(this.table.initGuard(t),e(...i)))}registerComponentFunction(t,e,i){return this.table.componentFunctionBinder.bind(t,e,i)}registerDataHandler(t,e){this.table.rowManager.registerDataPipelineHandler(t,e),this._handler=t}registerDisplayHandler(t,e){this.table.rowManager.registerDisplayPipelineHandler(t,e),this._handler=t}displayRows(t){var e,i=this.table.rowManager.displayRows.length-1;if(this._handler&&(e=this.table.rowManager.displayPipeline.findIndex((t=>t.handler===this._handler)))>-1&&(i=e),t&&(i+=t),this._handler)return i>-1?this.table.rowManager.getDisplayRows(i):this.activeRows()}activeRows(){return this.table.rowManager.activeRows}refreshData(t,e){e||(e=this._handler),e&&this.table.rowManager.refreshActiveData(e,!1,t)}footerAppend(t){return this.table.footerManager.append(t)}footerPrepend(t){return this.table.footerManager.prepend(t)}footerRemove(t){return this.table.footerManager.remove(t)}popup(t,e){return new s(this.table,t,e)}alert(t,e){return this.table.alertManager.alert(t,e)}clearAlert(){return this.table.alertManager.clear()}}class u extends l{constructor(t){super(t),this.allowedTypes=["","data","download","clipboard","print","htmlOutput"],this.registerColumnOption("accessor"),this.registerColumnOption("accessorParams"),this.registerColumnOption("accessorData"),this.registerColumnOption("accessorDataParams"),this.registerColumnOption("accessorDownload"),this.registerColumnOption("accessorDownloadParams"),this.registerColumnOption("accessorClipboard"),this.registerColumnOption("accessorClipboardParams"),this.registerColumnOption("accessorPrint"),this.registerColumnOption("accessorPrintParams"),this.registerColumnOption("accessorHtmlOutput"),this.registerColumnOption("accessorHtmlOutputParams")}initialize(){this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("row-data-retrieve",this.transformRow.bind(this))}initializeColumn(t){var e=!1,i={};this.allowedTypes.forEach((o=>{var r,n="accessor"+(o.charAt(0).toUpperCase()+o.slice(1));t.definition[n]&&(r=this.lookupAccessor(t.definition[n]))&&(e=!0,i[n]={accessor:r,params:t.definition[n+"Params"]||{}})})),e&&(t.modules.accessor=i)}lookupAccessor(t){var e=!1;switch(typeof t){case"string":u.accessors[t]&&(e=u.accessors[t]);break;case"function":e=t}return e}transformRow(t,e){var i="accessor"+(e.charAt(0).toUpperCase()+e.slice(1)),o=t.getComponent(),r=a.deepClone(t.data||{});return this.table.columnManager.traverse((function(t){var n,a,s,l;t.modules.accessor&&(a=t.modules.accessor[i]||t.modules.accessor.accessor||!1)&&"undefined"!=(n=t.getFieldValue(r))&&(l=t.getComponent(),s="function"==typeof a.params?a.params(n,r,e,l,o):a.params,t.setFieldValue(r,a.accessor(n,r,e,s,l,o)))})),r}}u.moduleName="accessor",u.accessors={};function h(t,e){var i=[];if(e=e||"",Array.isArray(t))t.forEach(((t,o)=>{i=i.concat(h(t,e?e+"["+o+"]":o))}));else if("object"==typeof t)for(var o in t)i=i.concat(h(t[o],e?e+"["+o+"]":o));else i.push({key:e,value:t});return i}function c(t){var e=h(t),i=[];return e.forEach((function(t){i.push(encodeURIComponent(t.key)+"="+encodeURIComponent(t.value))})),i.join("&")}function d(t,e,i){return t&&i&&Object.keys(i).length&&(e.method&&"get"!=e.method.toLowerCase()||(e.method="get",t+=(t.includes("?")?"&":"?")+c(i))),t}function p(t,e){var i=[];if(e=e||"",Array.isArray(t))t.forEach(((t,o)=>{i=i.concat(p(t,e?e+"["+o+"]":o))}));else if("object"==typeof t)for(var o in t)i=i.concat(p(t[o],e?e+"["+o+"]":o));else i.push({key:e,value:t});return i}var b={json:{headers:{"Content-Type":"application/json"},body:function(t,e,i){return JSON.stringify(i)}},form:{headers:{},body:function(t,e,i){var o=p(i),r=new FormData;return o.forEach((function(t){r.append(t.key,t.value)})),r}}};class g extends l{constructor(t){super(t),this.config={},this.url="",this.urlGenerator=!1,this.params=!1,this.loaderPromise=!1,this.registerTableOption("ajaxURL",!1),this.registerTableOption("ajaxURLGenerator",!1),this.registerTableOption("ajaxParams",{}),this.registerTableOption("ajaxConfig","get"),this.registerTableOption("ajaxContentType","form"),this.registerTableOption("ajaxRequestFunc",!1),this.registerTableOption("ajaxRequesting",(function(){})),this.registerTableOption("ajaxResponse",!1),this.contentTypeFormatters=g.contentTypeFormatters}initialize(){this.loaderPromise=this.table.options.ajaxRequestFunc||g.defaultLoaderPromise,this.urlGenerator=this.table.options.ajaxURLGenerator||g.defaultURLGenerator,this.table.options.ajaxURL&&this.setUrl(this.table.options.ajaxURL),this.setDefaultConfig(this.table.options.ajaxConfig),this.registerTableFunction("getAjaxUrl",this.getUrl.bind(this)),this.subscribe("data-loading",this.requestDataCheck.bind(this)),this.subscribe("data-params",this.requestParams.bind(this)),this.subscribe("data-load",this.requestData.bind(this))}requestParams(t,e,i,o){var r=this.table.options.ajaxParams;return r&&("function"==typeof r&&(r=r.call(this.table)),o=Object.assign(Object.assign({},r),o)),o}requestDataCheck(t,e,i,o){return!((t||!this.url)&&"string"!=typeof t)}requestData(t,e,i,o,r){var n;return!r&&this.requestDataCheck(t)?(t&&this.setUrl(t),n=this.generateConfig(i),this.sendRequest(this.url,e,n)):r}setDefaultConfig(t={}){this.config=Object.assign({},g.defaultConfig),"string"==typeof t?this.config.method=t:Object.assign(this.config,t)}generateConfig(t={}){var e=Object.assign({},this.config);return"string"==typeof t?e.method=t:Object.assign(e,t),e}setUrl(t){this.url=t}getUrl(){return this.url}sendRequest(t,e,i){return!1!==this.table.options.ajaxRequesting.call(this.table,t,e)?this.loaderPromise(t,i,e).then((i=>(this.table.options.ajaxResponse&&(i=this.table.options.ajaxResponse.call(this.table,t,e,i)),i))):Promise.reject()}}g.moduleName="ajax",g.defaultConfig={method:"GET"},g.defaultURLGenerator=d,g.defaultLoaderPromise=function(t,e,i){var o;return new Promise(((r,n)=>{if(t=this.urlGenerator.call(this.table,t,e,i),"GET"!=e.method.toUpperCase()&&(o="object"==typeof this.table.options.ajaxContentType?this.table.options.ajaxContentType:this.contentTypeFormatters[this.table.options.ajaxContentType])){for(var a in o.headers)e.headers||(e.headers={}),void 0===e.headers[a]&&(e.headers[a]=o.headers[a]);e.body=o.body.call(this,t,e,i)}t?(void 0===e.headers&&(e.headers={}),void 0===e.headers.Accept&&(e.headers.Accept="application/json"),void 0===e.headers["X-Requested-With"]&&(e.headers["X-Requested-With"]="XMLHttpRequest"),void 0===e.mode&&(e.mode="cors"),"cors"==e.mode?(void 0===e.headers.Origin&&(e.headers.Origin=window.location.origin),void 0===e.credentials&&(e.credentials="same-origin")):void 0===e.credentials&&(e.credentials="include"),fetch(t,e).then((t=>{t.ok?t.json().then((t=>{r(t)})).catch((t=>{n(t)})):n(t)})).catch((t=>{n(t)}))):r([])}))},g.contentTypeFormatters=b;class m extends l{constructor(t){super(t),this.mode=!0,this.pasteParser=function(){},this.pasteAction=function(){},this.customSelection=!1,this.rowRange=!1,this.blocked=!0,this.registerTableOption("clipboard",!1),this.registerTableOption("clipboardCopyStyled",!0),this.registerTableOption("clipboardCopyConfig",!1),this.registerTableOption("clipboardCopyFormatter",!1),this.registerTableOption("clipboardCopyRowRange","active"),this.registerTableOption("clipboardPasteParser","table"),this.registerTableOption("clipboardPasteAction","insert"),this.registerColumnOption("clipboard"),this.registerColumnOption("titleClipboard")}initialize(){this.mode=this.table.options.clipboard,this.rowRange=this.table.options.clipboardCopyRowRange,!0!==this.mode&&"copy"!==this.mode||this.table.element.addEventListener("copy",(t=>{var e,i,o;this.blocked||(t.preventDefault(),this.customSelection?(e=this.customSelection,this.table.options.clipboardCopyFormatter&&(e=this.table.options.clipboardCopyFormatter("plain",e))):(o=this.table.modules.export.generateExportList(this.table.options.clipboardCopyConfig,this.table.options.clipboardCopyStyled,this.rowRange,"clipboard"),e=(i=this.table.modules.export.generateHTMLTable(o))?this.generatePlainContent(o):"",this.table.options.clipboardCopyFormatter&&(e=this.table.options.clipboardCopyFormatter("plain",e),i=this.table.options.clipboardCopyFormatter("html",i))),window.clipboardData&&window.clipboardData.setData?window.clipboardData.setData("Text",e):t.clipboardData&&t.clipboardData.setData?(t.clipboardData.setData("text/plain",e),i&&t.clipboardData.setData("text/html",i)):t.originalEvent&&t.originalEvent.clipboardData.setData&&(t.originalEvent.clipboardData.setData("text/plain",e),i&&t.originalEvent.clipboardData.setData("text/html",i)),this.dispatchExternal("clipboardCopied",e,i),this.reset())})),!0!==this.mode&&"paste"!==this.mode||this.table.element.addEventListener("paste",(t=>{this.paste(t)})),this.setPasteParser(this.table.options.clipboardPasteParser),this.setPasteAction(this.table.options.clipboardPasteAction),this.registerTableFunction("copyToClipboard",this.copy.bind(this))}reset(){this.blocked=!0,this.customSelection=!1}generatePlainContent(t){var e=[];return t.forEach((t=>{var i=[];t.columns.forEach((e=>{var o="";if(e)if("group"===t.type&&(e.value=e.component.getKey()),null===e.value)o="";else switch(typeof e.value){case"object":o=JSON.stringify(e.value);break;case"undefined":o="";break;default:o=e.value}i.push(o)})),e.push(i.join("\t"))})),e.join("\n")}copy(t,e){var i,o;this.blocked=!1,this.customSelection=!1,!0!==this.mode&&"copy"!==this.mode||(this.rowRange=t||this.table.options.clipboardCopyRowRange,void 0!==window.getSelection&&void 0!==document.createRange?((t=document.createRange()).selectNodeContents(this.table.element),(i=window.getSelection()).toString()&&e&&(this.customSelection=i.toString()),i.removeAllRanges(),i.addRange(t)):void 0!==document.selection&&void 0!==document.body.createTextRange&&((o=document.body.createTextRange()).moveToElementText(this.table.element),o.select()),document.execCommand("copy"),i&&i.removeAllRanges())}setPasteAction(t){switch(typeof t){case"string":this.pasteAction=m.pasteActions[t],this.pasteAction;break;case"function":this.pasteAction=t}}setPasteParser(t){switch(typeof t){case"string":this.pasteParser=m.pasteParsers[t],this.pasteParser;break;case"function":this.pasteParser=t}}paste(t){var e,i,o;this.checkPasteOrigin(t)&&(e=this.getPasteData(t),(i=this.pasteParser.call(this,e))?(t.preventDefault(),this.table.modExists("mutator")&&(i=this.mutateData(i)),o=this.pasteAction.call(this,i),this.dispatchExternal("clipboardPasted",e,i,o)):this.dispatchExternal("clipboardPasteError",e))}mutateData(t){var e=[];return Array.isArray(t)?t.forEach((t=>{e.push(this.table.modules.mutator.transformRow(t,"clipboard"))})):e=t,e}checkPasteOrigin(t){var e=!0;return!this.confirm("clipboard-paste",[t])&&["DIV","SPAN"].includes(t.target.tagName)||(e=!1),e}getPasteData(t){var e;return window.clipboardData&&window.clipboardData.getData?e=window.clipboardData.getData("Text"):t.clipboardData&&t.clipboardData.getData?e=t.clipboardData.getData("text/plain"):t.originalEvent&&t.originalEvent.clipboardData.getData&&(e=t.originalEvent.clipboardData.getData("text/plain")),e}}m.moduleName="clipboard",m.pasteActions={replace:function(t){return this.table.setData(t)},update:function(t){return this.table.updateOrAddData(t)},insert:function(t){return this.table.addData(t)},range:function(t){var e,i,o,r,n,a=[],s=this.table.modules.selectRange.activeRange,l=!1;return n=t.length,s&&(i=(e=s.getBounds()).start,e.start===e.end&&(l=!0),i&&(o=(a=this.table.rowManager.activeRows.slice()).indexOf(i.row),r=l?t.length:a.indexOf(e.end.row)-o+1,o>-1&&(this.table.blockRedraw(),(a=a.slice(o,o+r)).forEach(((e,i)=>{e.updateData(t[i%n])})),this.table.restoreRedraw()))),a}},m.pasteParsers={table:function(t){var e=[],i=!0,o=this.table.columnManager.columns,r=[],n=[];return(t=t.split("\n")).forEach((function(t){e.push(t.split("\t"))})),!(!e.length||1===e.length&&e[0].length<2)&&(e[0].forEach((function(t){var e=o.find((function(e){return t&&e.definition.title&&t.trim()&&e.definition.title.trim()===t.trim()}));e?r.push(e):i=!1})),i||(i=!0,r=[],e[0].forEach((function(t){var e=o.find((function(e){return t&&e.field&&t.trim()&&e.field.trim()===t.trim()}));e?r.push(e):i=!1})),i||(r=this.table.columnManager.columnsByIndex)),i&&e.shift(),e.forEach((function(t){var e={};t.forEach((function(t,i){r[i]&&(e[r[i].field]=t)})),n.push(e)})),n)},range:function(t){var e,i,o,r,n,a=[],s=[],l=this.table.modules.selectRange.activeRange,u=!1;return!!(l&&(i=(e=l.getBounds()).start,e.start===e.end&&(u=!0),i&&((t=t.split("\n")).forEach((function(t){a.push(t.split("\t"))})),a.length&&(n=(r=this.table.columnManager.getVisibleColumnsByIndex()).indexOf(i.column))>-1)))&&(o=u?a[0].length:r.indexOf(e.end.column)-n+1,r=r.slice(n,n+o),a.forEach((t=>{var e={},i=t.length;r.forEach((function(o,r){e[o.field]=t[r%i]})),s.push(e)})),s)}};class f{constructor(t){return this._row=t,new Proxy(this,{get:function(t,e,i){return void 0!==t[e]?t[e]:t._row.table.componentFunctionBinder.handle("row",t._row,e)}})}getData(t){return this._row.getData(t)}getElement(){return this._row.getElement()}getTable(){return this._row.table}getCells(){var t=[];return this._row.getCells().forEach((function(e){t.push(e.getComponent())})),t}getCell(t){var e=this._row.getCell(t);return!!e&&e.getComponent()}_getSelf(){return this._row}}class v{constructor(t){return this._cell=t,new Proxy(this,{get:function(t,e,i){return void 0!==t[e]?t[e]:t._cell.table.componentFunctionBinder.handle("cell",t._cell,e)}})}getValue(){return this._cell.getValue()}getOldValue(){return this._cell.getOldValue()}getInitialValue(){return this._cell.initialValue}getElement(){return this._cell.getElement()}getRow(){return this._cell.row.getComponent()}getData(t){return this._cell.row.getData(t)}getType(){return"cell"}getField(){return this._cell.column.getField()}getColumn(){return this._cell.column.getComponent()}setValue(t,e){void 0===e&&(e=!0),this._cell.setValue(t,e)}restoreOldValue(){this._cell.setValueActual(this._cell.getOldValue())}restoreInitialValue(){this._cell.setValueActual(this._cell.initialValue)}checkHeight(){this._cell.checkHeight()}getTable(){return this._cell.table}_getSelf(){return this._cell}}class w extends n{constructor(t,e){super(t.table),this.table=t.table,this.column=t,this.row=e,this.element=null,this.value=null,this.initialValue,this.oldValue=null,this.modules={},this.height=null,this.width=null,this.minWidth=null,this.component=null,this.loaded=!1,this.build()}build(){this.generateElement(),this.setWidth(),this._configureCell(),this.setValueActual(this.column.getFieldValue(this.row.data)),this.initialValue=this.value}generateElement(){this.element=document.createElement("div"),this.element.className="tabulator-cell",this.element.setAttribute("role","gridcell")}_configureCell(){var t=this.element,e=this.column.getField();(t.style.textAlign=this.column.hozAlign,this.column.vertAlign&&(t.style.display="inline-flex",t.style.alignItems={top:"flex-start",bottom:"flex-end",middle:"center"}[this.column.vertAlign]||"",this.column.hozAlign&&(t.style.justifyContent={left:"flex-start",right:"flex-end",center:"center"}[this.column.hozAlign]||"")),e&&t.setAttribute("tabulator-field",e),this.column.definition.cssClass)&&this.column.definition.cssClass.split(" ").forEach((e=>{t.classList.add(e)}));this.dispatch("cell-init",this),this.column.visible||this.hide()}_generateContents(){var t;switch(typeof(t=this.chain("cell-format",this,null,(()=>this.element.innerHTML=this.value)))){case"object":if(t instanceof Node){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.appendChild(t)}else this.element.innerHTML="";break;case"undefined":this.element.innerHTML="";break;default:this.element.innerHTML=t}}cellRendered(){this.dispatch("cell-rendered",this)}getElement(t){return this.loaded||(this.loaded=!0,t||this.layoutElement()),this.element}getValue(){return this.value}getOldValue(){return this.oldValue}setValue(t,e,i){this.setValueProcessData(t,e,i)&&(this.dispatch("cell-value-updated",this),this.cellRendered(),this.column.definition.cellEdited&&this.column.definition.cellEdited.call(this.table,this.getComponent()),this.dispatchExternal("cellEdited",this.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()))}setValueProcessData(t,e,i){var o=!1;return(this.value!==t||i)&&(o=!0,e&&(t=this.chain("cell-value-changing",[this,t],null,t))),this.setValueActual(t),o&&this.dispatch("cell-value-changed",this),o}setValueActual(t){this.oldValue=this.value,this.value=t,this.dispatch("cell-value-save-before",this),this.column.setFieldValue(this.row.data,t),this.dispatch("cell-value-save-after",this),this.loaded&&this.layoutElement()}layoutElement(){this._generateContents(),this.dispatch("cell-layout",this)}setWidth(){this.width=this.column.width,this.element.style.width=this.column.widthStyled}clearWidth(){this.width="",this.element.style.width=""}getWidth(){return this.width||this.element.offsetWidth}setMinWidth(){this.minWidth=this.column.minWidth,this.element.style.minWidth=this.column.minWidthStyled}setMaxWidth(){this.maxWidth=this.column.maxWidth,this.element.style.maxWidth=this.column.maxWidthStyled}checkHeight(){this.row.reinitializeHeight()}clearHeight(){this.element.style.height="",this.height=null,this.dispatch("cell-height",this,"")}setHeight(){this.height=this.row.height,this.element.style.height=this.row.heightStyled,this.dispatch("cell-height",this,this.row.heightStyled)}getHeight(){return this.height||this.element.offsetHeight}show(){this.element.style.display=this.column.vertAlign?"inline-flex":""}hide(){this.element.style.display="none"}delete(){this.dispatch("cell-delete",this),!this.table.rowManager.redrawBlock&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=!1,this.column.deleteCell(this),this.row.deleteCell(this),this.calcs={}}getIndex(){return this.row.getCellIndex(this)}getComponent(){return this.component||(this.component=new v(this)),this.component}}class C{constructor(t){return this._column=t,this.type="ColumnComponent",new Proxy(this,{get:function(t,e,i){return void 0!==t[e]?t[e]:t._column.table.componentFunctionBinder.handle("column",t._column,e)}})}getElement(){return this._column.getElement()}getDefinition(){return this._column.getDefinition()}getField(){return this._column.getField()}getTitleDownload(){return this._column.getTitleDownload()}getCells(){var t=[];return this._column.cells.forEach((function(e){t.push(e.getComponent())})),t}isVisible(){return this._column.visible}show(){this._column.isGroup?this._column.columns.forEach((function(t){t.show()})):this._column.show()}hide(){this._column.isGroup?this._column.columns.forEach((function(t){t.hide()})):this._column.hide()}toggle(){this._column.visible?this.hide():this.show()}delete(){return this._column.delete()}getSubColumns(){var t=[];return this._column.columns.length&&this._column.columns.forEach((function(e){t.push(e.getComponent())})),t}getParentColumn(){return this._column.parent instanceof x&&this._column.parent.getComponent()}_getSelf(){return this._column}scrollTo(t,e){return this._column.table.columnManager.scrollToColumn(this._column,t,e)}getTable(){return this._column.table}move(t,e){var i=this._column.table.columnManager.findColumn(t);i&&this._column.table.columnManager.moveColumn(this._column,i,e)}getNextColumn(){var t=this._column.nextColumn();return!!t&&t.getComponent()}getPrevColumn(){var t=this._column.prevColumn();return!!t&&t.getComponent()}updateDefinition(t){return this._column.updateDefinition(t)}getWidth(){return this._column.getWidth()}setWidth(t){var e;return e=!0===t?this._column.reinitializeWidth(!0):this._column.setWidth(t),this._column.table.columnManager.rerenderColumns(!0),e}}var y={title:void 0,field:void 0,columns:void 0,visible:void 0,hozAlign:void 0,vertAlign:void 0,width:void 0,minWidth:40,maxWidth:void 0,maxInitialWidth:void 0,cssClass:void 0,variableHeight:void 0,headerVertical:void 0,headerHozAlign:void 0,headerWordWrap:!1,editableTitle:void 0};class x extends n{constructor(t,e){super(e.table),this.definition=t,this.parent=e,this.type="column",this.columns=[],this.cells=[],this.element=this.createElement(),this.contentElement=!1,this.titleHolderElement=!1,this.titleElement=!1,this.groupElement=this.createGroupElement(),this.isGroup=!1,this.hozAlign="",this.vertAlign="",this.field="",this.fieldStructure="",this.getFieldValue="",this.setFieldValue="",this.titleDownload=null,this.titleFormatterRendered=!1,this.mapDefinitions(),this.setField(this.definition.field),this.modules={},this.width=null,this.widthStyled="",this.maxWidth=null,this.maxWidthStyled="",this.maxInitialWidth=null,this.minWidth=null,this.minWidthStyled="",this.widthFixed=!1,this.visible=!0,this.component=null,this.definition.columns?(this.isGroup=!0,this.definition.columns.forEach(((t,e)=>{var i=new x(t,this);this.attachColumn(i)})),this.checkColumnVisibility()):e.registerColumnField(this),this._initialize()}createElement(){var t=document.createElement("div");switch(t.classList.add("tabulator-col"),t.setAttribute("role","columnheader"),t.setAttribute("aria-sort","none"),this.table.options.columnHeaderVertAlign){case"middle":t.style.justifyContent="center";break;case"bottom":t.style.justifyContent="flex-end"}return t}createGroupElement(){var t=document.createElement("div");return t.classList.add("tabulator-col-group-cols"),t}mapDefinitions(){var t=this.table.options.columnDefaults;if(t)for(let e in t)void 0===this.definition[e]&&(this.definition[e]=t[e]);this.definition=this.table.columnManager.optionsList.generate(x.defaultOptionList,this.definition)}checkDefinition(){Object.keys(this.definition).forEach((t=>{x.defaultOptionList.indexOf(t)}))}setField(t){this.field=t,this.fieldStructure=t?this.table.options.nestedFieldSeparator?t.split(this.table.options.nestedFieldSeparator):[t]:[],this.getFieldValue=this.fieldStructure.length>1?this._getNestedData:this._getFlatData,this.setFieldValue=this.fieldStructure.length>1?this._setNestedData:this._setFlatData}registerColumnPosition(t){this.parent.registerColumnPosition(t)}registerColumnField(t){this.parent.registerColumnField(t)}reRegisterPosition(){this.isGroup?this.columns.forEach((function(t){t.reRegisterPosition()})):this.registerColumnPosition(this)}_initialize(){for(var t=this.definition;this.element.firstChild;)this.element.removeChild(this.element.firstChild);t.headerVertical&&(this.element.classList.add("tabulator-col-vertical"),"flip"===t.headerVertical&&this.element.classList.add("tabulator-col-vertical-flip")),this.contentElement=this._buildColumnHeaderContent(),this.element.appendChild(this.contentElement),this.isGroup?this._buildGroupHeader():this._buildColumnHeader(),this.dispatch("column-init",this)}_buildColumnHeader(){var t=this.definition;(this.dispatch("column-layout",this),void 0!==t.visible&&(t.visible?this.show(!0):this.hide(!0)),t.cssClass)&&t.cssClass.split(" ").forEach((t=>{this.element.classList.add(t)}));t.field&&this.element.setAttribute("tabulator-field",t.field),this.setMinWidth(parseInt(t.minWidth)),t.maxInitialWidth&&(this.maxInitialWidth=parseInt(t.maxInitialWidth)),t.maxWidth&&this.setMaxWidth(parseInt(t.maxWidth)),this.reinitializeWidth(),this.hozAlign=this.definition.hozAlign,this.vertAlign=this.definition.vertAlign,this.titleElement.style.textAlign=this.definition.headerHozAlign}_buildColumnHeaderContent(){var t=document.createElement("div");return t.classList.add("tabulator-col-content"),this.titleHolderElement=document.createElement("div"),this.titleHolderElement.classList.add("tabulator-col-title-holder"),t.appendChild(this.titleHolderElement),this.titleElement=this._buildColumnHeaderTitle(),this.titleHolderElement.appendChild(this.titleElement),t}_buildColumnHeaderTitle(){var t=this.definition,e=document.createElement("div");if(e.classList.add("tabulator-col-title"),t.headerWordWrap&&e.classList.add("tabulator-col-title-wrap"),t.editableTitle){var i=document.createElement("input");i.classList.add("tabulator-title-editor"),i.addEventListener("click",(t=>{t.stopPropagation(),i.focus()})),i.addEventListener("mousedown",(t=>{t.stopPropagation()})),i.addEventListener("change",(()=>{t.title=i.value,this.dispatchExternal("columnTitleChanged",this.getComponent())})),e.appendChild(i),t.field?this.langBind("columns|"+t.field,(e=>{i.value=e||t.title||"&nbsp;"})):i.value=t.title||"&nbsp;"}else t.field?this.langBind("columns|"+t.field,(i=>{this._formatColumnHeaderTitle(e,i||t.title||"&nbsp;")})):this._formatColumnHeaderTitle(e,t.title||"&nbsp;");return e}_formatColumnHeaderTitle(t,e){var i=this.chain("column-format",[this,e,t],null,(()=>e));switch(typeof i){case"object":i instanceof Node?t.appendChild(i):t.innerHTML="";break;case"undefined":t.innerHTML="";break;default:t.innerHTML=i}}_buildGroupHeader(){(this.element.classList.add("tabulator-col-group"),this.element.setAttribute("role","columngroup"),this.element.setAttribute("aria-title",this.definition.title),this.definition.cssClass)&&this.definition.cssClass.split(" ").forEach((t=>{this.element.classList.add(t)}));this.titleElement.style.textAlign=this.definition.headerHozAlign,this.element.appendChild(this.groupElement)}_getFlatData(t){return t[this.field]}_getNestedData(t){var e,i=t,o=this.fieldStructure,r=o.length;for(let t=0;t<r&&(e=i=i[o[t]],i);t++);return e}_setFlatData(t,e){this.field&&(t[this.field]=e)}_setNestedData(t,e){var i=t,o=this.fieldStructure,r=o.length;for(let t=0;t<r;t++)if(t==r-1)i[o[t]]=e;else{if(!i[o[t]]){if(void 0===e)break;i[o[t]]={}}i=i[o[t]]}}attachColumn(t){this.groupElement&&(this.columns.push(t),this.groupElement.appendChild(t.getElement()),t.columnRendered())}verticalAlign(t,e){var i=this.parent.isGroup?this.parent.getGroupElement().clientHeight:e||this.parent.getHeadersElement().clientHeight;this.element.style.height=i+"px",this.dispatch("column-height",this,this.element.style.height),this.isGroup&&(this.groupElement.style.minHeight=i-this.contentElement.offsetHeight+"px"),this.columns.forEach((function(e){e.verticalAlign(t)}))}clearVerticalAlign(){this.element.style.paddingTop="",this.element.style.height="",this.element.style.minHeight="",this.groupElement.style.minHeight="",this.columns.forEach((function(t){t.clearVerticalAlign()})),this.dispatch("column-height",this,"")}getElement(){return this.element}getGroupElement(){return this.groupElement}getField(){return this.field}getTitleDownload(){return this.titleDownload}getFirstColumn(){return this.isGroup?!!this.columns.length&&this.columns[0].getFirstColumn():this}getLastColumn(){return this.isGroup?!!this.columns.length&&this.columns[this.columns.length-1].getLastColumn():this}getColumns(t){var e=[];return t?this.columns.forEach((t=>{e.push(t),e=e.concat(t.getColumns(!0))})):e=this.columns,e}getCells(){return this.cells}getTopColumn(){return this.parent.isGroup?this.parent.getTopColumn():this}getDefinition(t){var e=[];return this.isGroup&&t&&(this.columns.forEach((function(t){e.push(t.getDefinition(!0))})),this.definition.columns=e),this.definition}checkColumnVisibility(){var t=!1;this.columns.forEach((function(e){e.visible&&(t=!0)})),t?(this.show(),this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!1)):this.hide()}show(t,e){this.visible||(this.visible=!0,this.element.style.display="",this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach((function(t){t.show()})),this.isGroup||null!==this.width||this.reinitializeWidth(),this.table.columnManager.verticalAlignHeaders(),this.dispatch("column-show",this,e),t||this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!0),this.parent.isGroup&&this.parent.matchChildWidths(),this.silent||this.table.columnManager.rerenderColumns())}hide(t,e){this.visible&&(this.visible=!1,this.element.style.display="none",this.table.columnManager.verticalAlignHeaders(),this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach((function(t){t.hide()})),this.dispatch("column-hide",this,e),t||this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!1),this.parent.isGroup&&this.parent.matchChildWidths(),this.silent||this.table.columnManager.rerenderColumns())}matchChildWidths(){var t=0;this.contentElement&&this.columns.length&&(this.columns.forEach((function(e){e.visible&&(t+=e.getWidth())})),this.contentElement.style.maxWidth=t-1+"px",this.parent.isGroup&&this.parent.matchChildWidths())}removeChild(t){var e=this.columns.indexOf(t);e>-1&&this.columns.splice(e,1),this.columns.length||this.delete()}setWidth(t){this.widthFixed=!0,this.setWidthActual(t)}setWidthActual(t){isNaN(t)&&(t=Math.floor(this.table.element.clientWidth/100*parseInt(t))),t=Math.max(this.minWidth,t),this.maxWidth&&(t=Math.min(this.maxWidth,t)),this.width=t,this.widthStyled=t?t+"px":"",this.element.style.width=this.widthStyled,this.isGroup||this.cells.forEach((function(t){t.setWidth()})),this.parent.isGroup&&this.parent.matchChildWidths(),this.dispatch("column-width",this)}checkCellHeights(){var t=[];this.cells.forEach((function(e){e.row.heightInitialized&&(null!==e.row.getElement().offsetParent?(t.push(e.row),e.row.clearCellHeight()):e.row.heightInitialized=!1)})),t.forEach((function(t){t.calcHeight()})),t.forEach((function(t){t.setCellHeight()}))}getWidth(){var t=0;return this.isGroup?this.columns.forEach((function(e){e.visible&&(t+=e.getWidth())})):t=this.width,t}getLeftOffset(){var t=this.element.offsetLeft;return this.parent.isGroup&&(t+=this.parent.getLeftOffset()),t}getHeight(){return Math.ceil(this.element.getBoundingClientRect().height)}setMinWidth(t){this.maxWidth&&t>this.maxWidth&&(t=this.maxWidth),this.minWidth=t,this.minWidthStyled=t?t+"px":"",this.element.style.minWidth=this.minWidthStyled,this.cells.forEach((function(t){t.setMinWidth()}))}setMaxWidth(t){this.minWidth&&t<this.minWidth&&(t=this.minWidth),this.maxWidth=t,this.maxWidthStyled=t?t+"px":"",this.element.style.maxWidth=this.maxWidthStyled,this.cells.forEach((function(t){t.setMaxWidth()}))}delete(){return new Promise(((t,e)=>{this.isGroup&&this.columns.forEach((function(t){t.delete()})),this.dispatch("column-delete",this);var i=this.cells.length;for(let t=0;t<i;t++)this.cells[0].delete();this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=!1,this.contentElement=!1,this.titleElement=!1,this.groupElement=!1,this.parent.isGroup&&this.parent.removeChild(this),this.table.columnManager.deregisterColumn(this),this.table.columnManager.rerenderColumns(!0),this.dispatch("column-deleted",this),t()}))}columnRendered(){this.titleFormatterRendered&&this.titleFormatterRendered(),this.dispatch("column-rendered",this)}generateCell(t){var e=new w(this,t);return this.cells.push(e),e}nextColumn(){var t=this.table.columnManager.findColumnIndex(this);return t>-1&&this._nextVisibleColumn(t+1)}_nextVisibleColumn(t){var e=this.table.columnManager.getColumnByIndex(t);return!e||e.visible?e:this._nextVisibleColumn(t+1)}prevColumn(){var t=this.table.columnManager.findColumnIndex(this);return t>-1&&this._prevVisibleColumn(t-1)}_prevVisibleColumn(t){var e=this.table.columnManager.getColumnByIndex(t);return!e||e.visible?e:this._prevVisibleColumn(t-1)}reinitializeWidth(t){this.widthFixed=!1,void 0===this.definition.width||t||this.setWidth(this.definition.width),this.dispatch("column-width-fit-before",this),this.fitToData(t),this.dispatch("column-width-fit-after",this)}fitToData(t){if(!this.isGroup){this.widthFixed||(this.element.style.width="",this.cells.forEach((t=>{t.clearWidth()})));var e=this.element.offsetWidth;if((!this.width||!this.widthFixed)&&(this.cells.forEach((t=>{var i=t.getWidth();i>e&&(e=i)})),e)){var i=e+1;this.maxInitialWidth&&!t&&(i=Math.min(i,this.maxInitialWidth)),this.setWidthActual(i)}}}updateDefinition(t){var e;return this.isGroup||this.parent.isGroup?Promise.reject("Column Update Error - The updateDefinition function is only available on columns, not column groups"):(e=Object.assign({},this.getDefinition()),e=Object.assign(e,t),this.table.columnManager.addColumn(e,!1,this).then((t=>(e.field==this.field&&(this.field=!1),this.delete().then((()=>t.getComponent()))))))}deleteCell(t){var e=this.cells.indexOf(t);e>-1&&this.cells.splice(e,1)}getComponent(){return this.component||(this.component=new C(this)),this.component}getPosition(){return this.table.columnManager.getVisibleColumnsByIndex().indexOf(this)+1}}x.defaultOptionList=y;class A{constructor(t){return this._row=t,new Proxy(this,{get:function(t,e,i){return void 0!==t[e]?t[e]:t._row.table.componentFunctionBinder.handle("row",t._row,e)}})}getData(t){return this._row.getData(t)}getElement(){return this._row.getElement()}getCells(){var t=[];return this._row.getCells().forEach((function(e){t.push(e.getComponent())})),t}getCell(t){var e=this._row.getCell(t);return!!e&&e.getComponent()}getIndex(){return this._row.getData("data")[this._row.table.options.index]}getPosition(){return this._row.getPosition()}watchPosition(t){return this._row.watchPosition(t)}delete(){return this._row.delete()}scrollTo(t,e){return this._row.table.rowManager.scrollToRow(this._row,t,e)}move(t,e){this._row.moveToRow(t,e)}update(t){return this._row.updateData(t)}normalizeHeight(){this._row.normalizeHeight(!0)}_getSelf(){return this._row}reformat(){return this._row.reinitialize()}getTable(){return this._row.table}getNextRow(){var t=this._row.nextRow();return t?t.getComponent():t}getPrevRow(){var t=this._row.prevRow();return t?t.getComponent():t}}class E extends n{constructor(t,e,i="row"){super(e.table),this.parent=e,this.data={},this.type=i,this.element=!1,this.modules={},this.cells=[],this.height=0,this.heightStyled="",this.manualHeight=!1,this.outerHeight=0,this.initialized=!1,this.heightInitialized=!1,this.position=0,this.positionWatchers=[],this.component=null,this.created=!1,this.setData(t)}create(){this.created||(this.created=!0,this.generateElement())}createElement(){var t=document.createElement("div");t.classList.add("tabulator-row"),t.setAttribute("role","row"),this.element=t}getElement(){return this.create(),this.element}detachElement(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}generateElement(){this.createElement(),this.dispatch("row-init",this)}generateCells(){this.cells=this.table.columnManager.generateCells(this)}initialize(t,e){if(this.create(),!this.initialized||t){for(this.deleteCells();this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.dispatch("row-layout-before",this),this.generateCells(),this.initialized=!0,this.table.columnManager.renderer.renderRowCells(this,e),t&&this.normalizeHeight(),this.dispatch("row-layout",this),this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent()),this.dispatch("row-layout-after",this)}else this.table.columnManager.renderer.rerenderRowCells(this,e)}rendered(){this.cells.forEach((t=>{t.cellRendered()}))}reinitializeHeight(){this.heightInitialized=!1,this.element&&null!==this.element.offsetParent&&this.normalizeHeight(!0)}deinitialize(){this.initialized=!1}deinitializeHeight(){this.heightInitialized=!1}reinitialize(t){this.initialized=!1,this.heightInitialized=!1,this.manualHeight||(this.height=0,this.heightStyled=""),this.element&&null!==this.element.offsetParent&&this.initialize(!0),this.dispatch("row-relayout",this)}calcHeight(t){var e,i=0;this.table.options.rowHeight?this.height=this.table.options.rowHeight:(e=this.table.options.resizableRows?this.element.clientHeight:0,this.cells.forEach((function(t){var e=t.getHeight();e>i&&(i=e)})),this.height=t?Math.max(i,e):this.manualHeight?this.height:Math.max(i,e)),this.heightStyled=this.height?this.height+"px":"",this.outerHeight=this.element.offsetHeight}setCellHeight(){this.cells.forEach((function(t){t.setHeight()})),this.heightInitialized=!0}clearCellHeight(){this.cells.forEach((function(t){t.clearHeight()}))}normalizeHeight(t){t&&!this.table.options.rowHeight&&this.clearCellHeight(),this.calcHeight(t),this.setCellHeight()}setHeight(t,e){(this.height!=t||e)&&(this.manualHeight=!0,this.height=t,this.heightStyled=t?t+"px":"",this.setCellHeight(),this.outerHeight=this.element.offsetHeight)}getHeight(){return this.outerHeight}getWidth(){return this.element.offsetWidth}deleteCell(t){var e=this.cells.indexOf(t);e>-1&&this.cells.splice(e,1)}setData(t){this.data=this.chain("row-data-init-before",[this,t],void 0,t),this.dispatch("row-data-init-after",this)}updateData(t){var e,i=this.element&&a.elVisible(this.element),o={};return new Promise(((r,n)=>{"string"==typeof t&&(t=JSON.parse(t)),this.dispatch("row-data-save-before",this),this.subscribed("row-data-changing")&&(o=Object.assign(o,this.data),o=Object.assign(o,t)),e=this.chain("row-data-changing",[this,o,t],null,t);for(let t in e)this.data[t]=e[t];this.dispatch("row-data-save-after",this);for(let o in t){this.table.columnManager.getColumnsByFieldRoot(o).forEach((t=>{let o=this.getCell(t.getField());if(o){let r=t.getFieldValue(e);o.getValue()!==r&&(o.setValueProcessData(r),i&&o.cellRendered())}}))}i?(this.normalizeHeight(!0),this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent())):(this.initialized=!1,this.height=0,this.heightStyled=""),this.dispatch("row-data-changed",this,i,t),this.dispatchExternal("rowUpdated",this.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()),r()}))}getData(t){return t?this.chain("row-data-retrieve",[this,t],null,this.data):this.data}getCell(t){return t=this.table.columnManager.findColumn(t),this.initialized||0!==this.cells.length||this.generateCells(),this.cells.find((function(e){return e.column===t}))}getCellIndex(t){return this.cells.findIndex((function(e){return e===t}))}findCell(t){return this.cells.find((e=>e.element===t))}getCells(){return this.initialized||0!==this.cells.length||this.generateCells(),this.cells}nextRow(){return this.table.rowManager.nextDisplayRow(this,!0)||!1}prevRow(){return this.table.rowManager.prevDisplayRow(this,!0)||!1}moveToRow(t,e){var i=this.table.rowManager.findRow(t);i&&(this.table.rowManager.moveRowActual(this,i,!e),this.table.rowManager.refreshActiveData("display",!1,!0))}delete(){return this.dispatch("row-delete",this),this.deleteActual(),Promise.resolve()}deleteActual(t){this.detachModules(),this.table.rowManager.deleteRow(this,t),this.deleteCells(),this.initialized=!1,this.heightInitialized=!1,this.element=!1,this.dispatch("row-deleted",this)}detachModules(){this.dispatch("row-deleting",this)}deleteCells(){var t=this.cells.length;for(let e=0;e<t;e++)this.cells[0].delete()}wipe(){if(this.detachModules(),this.deleteCells(),this.element){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.parentNode&&this.element.parentNode.removeChild(this.element)}this.element=!1,this.modules={}}isDisplayed(){return this.table.rowManager.getDisplayRows().includes(this)}getPosition(){return!!this.isDisplayed()&&this.position}setPosition(t){t!=this.position&&(this.position=t,this.positionWatchers.forEach((t=>{t(this.position)})))}watchPosition(t){this.positionWatchers.push(t),t(this.position)}getGroup(){return this.modules.group||!1}getComponent(){return this.component||(this.component=new A(this)),this.component}}var k={avg:function(t,e,i){var o=0,r=void 0!==i.precision?i.precision:2;return t.length&&(o=t.reduce((function(t,e){return Number(t)+Number(e)})),o/=t.length,o=!1!==r?o.toFixed(r):o),parseFloat(o).toString()},max:function(t,e,i){var o=null,r=void 0!==i.precision&&i.precision;return t.forEach((function(t){((t=Number(t))>o||null===o)&&(o=t)})),null!==o?!1!==r?o.toFixed(r):o:""},min:function(t,e,i){var o=null,r=void 0!==i.precision&&i.precision;return t.forEach((function(t){((t=Number(t))<o||null===o)&&(o=t)})),null!==o?!1!==r?o.toFixed(r):o:""},sum:function(t,e,i){var o=0,r=void 0!==i.precision&&i.precision;return t.length&&t.forEach((function(t){t=Number(t),o+=isNaN(t)?0:Number(t)})),!1!==r?o.toFixed(r):o},concat:function(t,e,i){var o=0;return t.length&&(o=t.reduce((function(t,e){return String(t)+String(e)}))),o},count:function(t,e,i){var o=0;return t.length&&t.forEach((function(t){t&&o++})),o},unique:function(t,e,i){var o=t.filter(((e,i)=>(t||0===e)&&t.indexOf(e)===i));return o.length}};class B extends l{constructor(t){super(t),this.topCalcs=[],this.botCalcs=[],this.genColumn=!1,this.topElement=this.createElement(),this.botElement=this.createElement(),this.topRow=!1,this.botRow=!1,this.topInitialized=!1,this.botInitialized=!1,this.blocked=!1,this.recalcAfterBlock=!1,this.registerTableOption("columnCalcs",!0),this.registerColumnOption("topCalc"),this.registerColumnOption("topCalcParams"),this.registerColumnOption("topCalcFormatter"),this.registerColumnOption("topCalcFormatterParams"),this.registerColumnOption("bottomCalc"),this.registerColumnOption("bottomCalcParams"),this.registerColumnOption("bottomCalcFormatter"),this.registerColumnOption("bottomCalcFormatterParams")}createElement(){var t=document.createElement("div");return t.classList.add("tabulator-calcs-holder"),t}initialize(){this.genColumn=new x({field:"value"},this),this.subscribe("cell-value-changed",this.cellValueChanged.bind(this)),this.subscribe("column-init",this.initializeColumnCheck.bind(this)),this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this)),this.subscribe("row-added",this.rowsUpdated.bind(this)),this.subscribe("column-moved",this.recalcActiveRows.bind(this)),this.subscribe("column-add",this.recalcActiveRows.bind(this)),this.subscribe("data-refreshed",this.recalcActiveRowsRefresh.bind(this)),this.subscribe("table-redraw",this.tableRedraw.bind(this)),this.subscribe("rows-visible",this.visibleRows.bind(this)),this.subscribe("scrollbar-vertical",this.adjustForScrollbar.bind(this)),this.subscribe("redraw-blocked",this.blockRedraw.bind(this)),this.subscribe("redraw-restored",this.restoreRedraw.bind(this)),this.subscribe("table-redrawing",this.resizeHolderWidth.bind(this)),this.subscribe("column-resized",this.resizeHolderWidth.bind(this)),this.subscribe("column-show",this.resizeHolderWidth.bind(this)),this.subscribe("column-hide",this.resizeHolderWidth.bind(this)),this.registerTableFunction("getCalcResults",this.getResults.bind(this)),this.registerTableFunction("recalc",this.userRecalc.bind(this)),this.resizeHolderWidth()}resizeHolderWidth(){this.topElement.style.minWidth=this.table.columnManager.headersElement.offsetWidth+"px"}tableRedraw(t){this.recalc(this.table.rowManager.activeRows),t&&this.redraw()}blockRedraw(){this.blocked=!0,this.recalcAfterBlock=!1}restoreRedraw(){this.blocked=!1,this.recalcAfterBlock&&(this.recalcAfterBlock=!1,this.recalcActiveRowsRefresh())}userRecalc(){this.recalc(this.table.rowManager.activeRows)}blockCheck(){return this.blocked&&(this.recalcAfterBlock=!0),this.blocked}visibleRows(t,e){return this.topRow&&e.unshift(this.topRow),this.botRow&&e.push(this.botRow),e}rowsUpdated(t){this.table.options.groupBy?this.recalcRowGroup(t):this.recalcActiveRows()}recalcActiveRowsRefresh(){this.table.options.groupBy&&this.table.options.dataTreeStartExpanded&&this.table.options.dataTree?this.recalcAll():this.recalcActiveRows()}recalcActiveRows(){this.recalc(this.table.rowManager.activeRows)}cellValueChanged(t){(t.column.definition.topCalc||t.column.definition.bottomCalc)&&(this.table.options.groupBy?("table"!=this.table.options.columnCalcs&&"both"!=this.table.options.columnCalcs||this.recalcActiveRows(),"table"!=this.table.options.columnCalcs&&this.recalcRowGroup(t.row)):this.recalcActiveRows())}initializeColumnCheck(t){(t.definition.topCalc||t.definition.bottomCalc)&&this.initializeColumn(t)}initializeColumn(t){var e=t.definition,i={topCalcParams:e.topCalcParams||{},botCalcParams:e.bottomCalcParams||{}};if(e.topCalc){switch(typeof e.topCalc){case"string":B.calculations[e.topCalc]&&(i.topCalc=B.calculations[e.topCalc]);break;case"function":i.topCalc=e.topCalc}i.topCalc&&(t.modules.columnCalcs=i,this.topCalcs.push(t),"group"!=this.table.options.columnCalcs&&this.initializeTopRow())}if(e.bottomCalc){switch(typeof e.bottomCalc){case"string":B.calculations[e.bottomCalc]&&(i.botCalc=B.calculations[e.bottomCalc]);break;case"function":i.botCalc=e.bottomCalc}i.botCalc&&(t.modules.columnCalcs=i,this.botCalcs.push(t),"group"!=this.table.options.columnCalcs&&this.initializeBottomRow())}}registerColumnField(){}removeCalcs(){var t=!1;this.topInitialized&&(this.topInitialized=!1,this.topElement.parentNode.removeChild(this.topElement),t=!0),this.botInitialized&&(this.botInitialized=!1,this.footerRemove(this.botElement),t=!0),t&&this.table.rowManager.adjustTableSize()}reinitializeCalcs(){this.topCalcs.length&&this.initializeTopRow(),this.botCalcs.length&&this.initializeBottomRow()}initializeTopRow(){var t=document.createDocumentFragment();this.topInitialized||(t.appendChild(document.createElement("br")),t.appendChild(this.topElement),this.table.columnManager.getContentsElement().insertBefore(t,this.table.columnManager.headersElement.nextSibling),this.topInitialized=!0)}initializeBottomRow(){this.botInitialized||(this.footerPrepend(this.botElement),this.botInitialized=!0)}scrollHorizontal(t){this.botInitialized&&this.botRow&&(this.botElement.scrollLeft=t)}recalc(t){var e,i;if(!this.blockCheck()&&(this.topInitialized||this.botInitialized)){if(e=this.rowsToData(t),this.topInitialized){for(this.topRow&&this.topRow.deleteCells(),i=this.generateRow("top",e),this.topRow=i;this.topElement.firstChild;)this.topElement.removeChild(this.topElement.firstChild);this.topElement.appendChild(i.getElement()),i.initialize(!0)}if(this.botInitialized){for(this.botRow&&this.botRow.deleteCells(),i=this.generateRow("bottom",e),this.botRow=i;this.botElement.firstChild;)this.botElement.removeChild(this.botElement.firstChild);this.botElement.appendChild(i.getElement()),i.initialize(!0)}this.table.rowManager.adjustTableSize(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout()}}recalcRowGroup(t){this.recalcGroup(this.table.modules.groupRows.getRowGroup(t))}recalcAll(){(this.topCalcs.length||this.botCalcs.length)&&("group"!==this.table.options.columnCalcs&&this.recalcActiveRows(),this.table.options.groupBy&&"table"!==this.table.options.columnCalcs&&this.table.modules.groupRows.getChildGroups().forEach((t=>{this.recalcGroup(t)})))}recalcGroup(t){var e,i;this.blockCheck()||t&&t.calcs&&(t.calcs.bottom&&(e=this.rowsToData(t.rows),i=this.generateRowData("bottom",e),t.calcs.bottom.updateData(i),t.calcs.bottom.reinitialize()),t.calcs.top&&(e=this.rowsToData(t.rows),i=this.generateRowData("top",e),t.calcs.top.updateData(i),t.calcs.top.reinitialize()))}generateTopRow(t){return this.generateRow("top",this.rowsToData(t))}generateBottomRow(t){return this.generateRow("bottom",this.rowsToData(t))}rowsToData(t){var e=[];return t.forEach((t=>{if(e.push(t.getData()),this.table.options.dataTree&&this.table.options.dataTreeChildColumnCalcs&&t.modules.dataTree&&t.modules.dataTree.open){var i=this.rowsToData(this.table.modules.dataTree.getFilteredTreeChildren(t));e=e.concat(i)}})),e}generateRow(t,e){var i,o=this.generateRowData(t,e);return this.table.modExists("mutator")&&this.table.modules.mutator.disable(),i=new E(o,this,"calc"),this.table.modExists("mutator")&&this.table.modules.mutator.enable(),i.getElement().classList.add("tabulator-calcs","tabulator-calcs-"+t),i.component=!1,i.getComponent=()=>(i.component||(i.component=new f(i)),i.component),i.generateCells=()=>{var e=[];this.table.columnManager.columnsByIndex.forEach((o=>{this.genColumn.setField(o.getField()),this.genColumn.hozAlign=o.hozAlign,o.definition[t+"CalcFormatter"]&&this.table.modExists("format")?this.genColumn.modules.format={formatter:this.table.modules.format.getFormatter(o.definition[t+"CalcFormatter"]),params:o.definition[t+"CalcFormatterParams"]||{}}:this.genColumn.modules.format={formatter:this.table.modules.format.getFormatter("plaintext"),params:{}},this.genColumn.definition.cssClass=o.definition.cssClass;var r=new w(this.genColumn,i);r.getElement(),r.column=o,r.setWidth(),o.cells.push(r),e.push(r),o.visible||r.hide()})),i.cells=e},i}generateRowData(t,e){var i,o,r={},n="top"==t?this.topCalcs:this.botCalcs,a="top"==t?"topCalc":"botCalc";return n.forEach((function(t){var n=[];t.modules.columnCalcs&&t.modules.columnCalcs[a]&&(e.forEach((function(e){n.push(t.getFieldValue(e))})),o=a+"Params",i="function"==typeof t.modules.columnCalcs[o]?t.modules.columnCalcs[o](n,e):t.modules.columnCalcs[o],t.setFieldValue(r,t.modules.columnCalcs[a](n,e,i)))})),r}hasTopCalcs(){return!!this.topCalcs.length}hasBottomCalcs(){return!!this.botCalcs.length}redraw(){this.topRow&&this.topRow.normalizeHeight(!0),this.botRow&&this.botRow.normalizeHeight(!0)}getResults(){var t={};return this.table.options.groupBy&&this.table.modExists("groupRows")?this.table.modules.groupRows.getGroups(!0).forEach((e=>{t[e.getKey()]=this.getGroupResults(e)})):t={top:this.topRow?this.topRow.getData():{},bottom:this.botRow?this.botRow.getData():{}},t}getGroupResults(t){var e=t._getSelf(),i=t.getSubGroups(),o={};return i.forEach((t=>{o[t.getKey()]=this.getGroupResults(t)})),{top:e.calcs.top?e.calcs.top.getData():{},bottom:e.calcs.bottom?e.calcs.bottom.getData():{},groups:o}}adjustForScrollbar(t){this.botRow&&(this.table.rtl?this.botElement.style.paddingLeft=t+"px":this.botElement.style.paddingRight=t+"px")}}B.moduleName="columnCalcs",B.calculations=k;class _ extends l{constructor(t){super(t),this.indent=10,this.field="",this.collapseEl=null,this.expandEl=null,this.branchEl=null,this.elementField=!1,this.startOpen=function(){},this.registerTableOption("dataTree",!1),this.registerTableOption("dataTreeFilter",!0),this.registerTableOption("dataTreeSort",!0),this.registerTableOption("dataTreeElementColumn",!1),this.registerTableOption("dataTreeBranchElement",!0),this.registerTableOption("dataTreeChildIndent",9),this.registerTableOption("dataTreeChildField","_children"),this.registerTableOption("dataTreeCollapseElement",!1),this.registerTableOption("dataTreeExpandElement",!1),this.registerTableOption("dataTreeStartExpanded",!1),this.registerTableOption("dataTreeChildColumnCalcs",!1),this.registerTableOption("dataTreeSelectPropagate",!1),this.registerComponentFunction("row","treeCollapse",this.collapseRow.bind(this)),this.registerComponentFunction("row","treeExpand",this.expandRow.bind(this)),this.registerComponentFunction("row","treeToggle",this.toggleRow.bind(this)),this.registerComponentFunction("row","getTreeParent",this.getTreeParent.bind(this)),this.registerComponentFunction("row","getTreeChildren",this.getRowChildren.bind(this)),this.registerComponentFunction("row","addTreeChild",this.addTreeChildRow.bind(this)),this.registerComponentFunction("row","isTreeExpanded",this.isRowExpanded.bind(this))}initialize(){if(this.table.options.dataTree){var t=null,e=this.table.options;switch(this.field=e.dataTreeChildField,this.indent=e.dataTreeChildIndent,this.options("movableRows"),e.dataTreeBranchElement?!0===e.dataTreeBranchElement?(this.branchEl=document.createElement("div"),this.branchEl.classList.add("tabulator-data-tree-branch")):"string"==typeof e.dataTreeBranchElement?((t=document.createElement("div")).innerHTML=e.dataTreeBranchElement,this.branchEl=t.firstChild):this.branchEl=e.dataTreeBranchElement:(this.branchEl=document.createElement("div"),this.branchEl.classList.add("tabulator-data-tree-branch-empty")),e.dataTreeCollapseElement?"string"==typeof e.dataTreeCollapseElement?((t=document.createElement("div")).innerHTML=e.dataTreeCollapseElement,this.collapseEl=t.firstChild):this.collapseEl=e.dataTreeCollapseElement:(this.collapseEl=document.createElement("div"),this.collapseEl.classList.add("tabulator-data-tree-control"),this.collapseEl.tabIndex=0,this.collapseEl.innerHTML="<div class='tabulator-data-tree-control-collapse'></div>"),e.dataTreeExpandElement?"string"==typeof e.dataTreeExpandElement?((t=document.createElement("div")).innerHTML=e.dataTreeExpandElement,this.expandEl=t.firstChild):this.expandEl=e.dataTreeExpandElement:(this.expandEl=document.createElement("div"),this.expandEl.classList.add("tabulator-data-tree-control"),this.expandEl.tabIndex=0,this.expandEl.innerHTML="<div class='tabulator-data-tree-control-expand'></div>"),typeof e.dataTreeStartExpanded){case"boolean":this.startOpen=function(t,i){return e.dataTreeStartExpanded};break;case"function":this.startOpen=e.dataTreeStartExpanded;break;default:this.startOpen=function(t,i){return e.dataTreeStartExpanded[i]}}this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-layout-after",this.layoutRow.bind(this)),this.subscribe("row-deleted",this.rowDelete.bind(this),0),this.subscribe("row-data-changed",this.rowDataChanged.bind(this),10),this.subscribe("cell-value-updated",this.cellValueChanged.bind(this)),this.subscribe("edit-cancelled",this.cellValueChanged.bind(this)),this.subscribe("column-moving-rows",this.columnMoving.bind(this)),this.subscribe("table-built",this.initializeElementField.bind(this)),this.subscribe("table-redrawing",this.tableRedrawing.bind(this)),this.registerDisplayHandler(this.getRows.bind(this),30)}}tableRedrawing(t){t&&this.table.rowManager.getRows().forEach((t=>{this.reinitializeRowChildren(t)}))}initializeElementField(){var t=this.table.columnManager.getFirstVisibleColumn();this.elementField=this.table.options.dataTreeElementColumn||!!t&&t.field}getRowChildren(t){return this.getTreeChildren(t,!0)}columnMoving(){var t=[];return this.table.rowManager.rows.forEach((e=>{t=t.concat(this.getTreeChildren(e,!1,!0))})),t}rowDataChanged(t,e,i){this.redrawNeeded(i)&&(this.initializeRow(t),e&&(this.layoutRow(t),this.refreshData(!0)))}cellValueChanged(t){t.column.getField()===this.elementField&&this.layoutRow(t.row)}initializeRow(t){var e=t.getData()[this.field],i=Array.isArray(e),o=i||!i&&"object"==typeof e&&null!==e;!o&&t.modules.dataTree&&t.modules.dataTree.branchEl&&t.modules.dataTree.branchEl.parentNode.removeChild(t.modules.dataTree.branchEl),!o&&t.modules.dataTree&&t.modules.dataTree.controlEl&&t.modules.dataTree.controlEl.parentNode.removeChild(t.modules.dataTree.controlEl),t.modules.dataTree={index:t.modules.dataTree?t.modules.dataTree.index:0,open:!!o&&(t.modules.dataTree?t.modules.dataTree.open:this.startOpen(t.getComponent(),0)),controlEl:!(!t.modules.dataTree||!o)&&t.modules.dataTree.controlEl,branchEl:!(!t.modules.dataTree||!o)&&t.modules.dataTree.branchEl,parent:!!t.modules.dataTree&&t.modules.dataTree.parent,children:o}}reinitializeRowChildren(t){this.getTreeChildren(t,!1,!0).forEach((function(t){t.reinitialize(!0)}))}layoutRow(t){var e=(this.elementField?t.getCell(this.elementField):t.getCells()[0]).getElement(),i=t.modules.dataTree;i.branchEl&&(i.branchEl.parentNode&&i.branchEl.parentNode.removeChild(i.branchEl),i.branchEl=!1),i.controlEl&&(i.controlEl.parentNode&&i.controlEl.parentNode.removeChild(i.controlEl),i.controlEl=!1),this.generateControlElement(t,e),t.getElement().classList.add("tabulator-tree-level-"+i.index),i.index&&(this.branchEl?(i.branchEl=this.branchEl.cloneNode(!0),e.insertBefore(i.branchEl,e.firstChild),this.table.rtl?i.branchEl.style.marginRight=(i.branchEl.offsetWidth+i.branchEl.style.marginLeft)*(i.index-1)+i.index*this.indent+"px":i.branchEl.style.marginLeft=(i.branchEl.offsetWidth+i.branchEl.style.marginRight)*(i.index-1)+i.index*this.indent+"px"):this.table.rtl?e.style.paddingRight=parseInt(window.getComputedStyle(e,null).getPropertyValue("padding-right"))+i.index*this.indent+"px":e.style.paddingLeft=parseInt(window.getComputedStyle(e,null).getPropertyValue("padding-left"))+i.index*this.indent+"px")}generateControlElement(t,e){var i=t.modules.dataTree,o=i.controlEl;e=e||t.getCells()[0].getElement(),!1!==i.children&&(i.open?(i.controlEl=this.collapseEl.cloneNode(!0),i.controlEl.addEventListener("click",(e=>{e.stopPropagation(),this.collapseRow(t)}))):(i.controlEl=this.expandEl.cloneNode(!0),i.controlEl.addEventListener("click",(e=>{e.stopPropagation(),this.expandRow(t)}))),i.controlEl.addEventListener("mousedown",(t=>{t.stopPropagation()})),o&&o.parentNode===e?o.parentNode.replaceChild(i.controlEl,o):e.insertBefore(i.controlEl,e.firstChild))}getRows(t){var e=[];return t.forEach(((t,i)=>{var o;e.push(t),t instanceof E&&(t.create(),(o=t.modules.dataTree).index||!1===o.children||this.getChildren(t).forEach((t=>{t.create(),e.push(t)})))})),e}getChildren(t,e){var i=t.modules.dataTree,o=[],r=[];return!1!==i.children&&(i.open||e)&&(Array.isArray(i.children)||(i.children=this.generateChildren(t)),o=this.table.modExists("filter")&&this.table.options.dataTreeFilter?this.table.modules.filter.filter(i.children):i.children,this.table.modExists("sort")&&this.table.options.dataTreeSort&&this.table.modules.sort.sort(o),o.forEach((t=>{r.push(t),this.getChildren(t).forEach((t=>{r.push(t)}))}))),r}generateChildren(t){var e=[],i=t.getData()[this.field];return Array.isArray(i)||(i=[i]),i.forEach((i=>{var o=new E(i||{},this.table.rowManager);o.create(),o.modules.dataTree.index=t.modules.dataTree.index+1,o.modules.dataTree.parent=t,o.modules.dataTree.children&&(o.modules.dataTree.open=this.startOpen(o.getComponent(),o.modules.dataTree.index)),e.push(o)})),e}expandRow(t,e){var i=t.modules.dataTree;!1!==i.children&&(i.open=!0,t.reinitialize(),this.refreshData(!0),this.dispatchExternal("dataTreeRowExpanded",t.getComponent(),t.modules.dataTree.index))}collapseRow(t){var e=t.modules.dataTree;!1!==e.children&&(e.open=!1,t.reinitialize(),this.refreshData(!0),this.dispatchExternal("dataTreeRowCollapsed",t.getComponent(),t.modules.dataTree.index))}toggleRow(t){var e=t.modules.dataTree;!1!==e.children&&(e.open?this.collapseRow(t):this.expandRow(t))}isRowExpanded(t){return t.modules.dataTree.open}getTreeParent(t){return!!t.modules.dataTree.parent&&t.modules.dataTree.parent.getComponent()}getTreeParentRoot(t){return t.modules.dataTree&&t.modules.dataTree.parent?this.getTreeParentRoot(t.modules.dataTree.parent):t}getFilteredTreeChildren(t){var e=t.modules.dataTree,i=[];return e.children&&(Array.isArray(e.children)||(e.children=this.generateChildren(t)),(this.table.modExists("filter")&&this.table.options.dataTreeFilter?this.table.modules.filter.filter(e.children):e.children).forEach((t=>{t instanceof E&&i.push(t)}))),i}rowDelete(t){var e,i=t.modules.dataTree.parent;i&&(!1!==(e=this.findChildIndex(t,i))&&i.data[this.field].splice(e,1),i.data[this.field].length||delete i.data[this.field],this.initializeRow(i),this.layoutRow(i)),this.refreshData(!0)}addTreeChildRow(t,e,i,o){var r=!1;"string"==typeof e&&(e=JSON.parse(e)),Array.isArray(t.data[this.field])||(t.data[this.field]=[],t.modules.dataTree.open=this.startOpen(t.getComponent(),t.modules.dataTree.index)),void 0!==o&&!1!==(r=this.findChildIndex(o,t))&&t.data[this.field].splice(i?r:r+1,0,e),!1===r&&(i?t.data[this.field].unshift(e):t.data[this.field].push(e)),this.initializeRow(t),this.layoutRow(t),this.refreshData(!0)}findChildIndex(t,e){var i=!1;return"object"==typeof t?t instanceof E?i=t.data:t instanceof A?i=t._getSelf().data:"undefined"!=typeof HTMLElement&&t instanceof HTMLElement?e.modules.dataTree&&(i=e.modules.dataTree.children.find((e=>e instanceof E&&e.element===t)))&&(i=i.data):null===t&&(i=!1):i=void 0!==t&&e.data[this.field].find((e=>e.data[this.table.options.index]==t)),i&&(Array.isArray(e.data[this.field])&&(i=e.data[this.field].indexOf(i)),-1==i&&(i=!1)),i}getTreeChildren(t,e,i){var o=t.modules.dataTree,r=[];return o&&o.children&&(Array.isArray(o.children)||(o.children=this.generateChildren(t)),o.children.forEach((t=>{t instanceof E&&(r.push(e?t.getComponent():t),i&&(r=r.concat(this.getTreeChildren(t,e,i))))}))),r}getChildField(){return this.field}redrawNeeded(t){return!!this.field&&void 0!==t[this.field]||!!this.elementField&&void 0!==t[this.elementField]}}_.moduleName="dataTree";var R={csv:function(t,e={},i){var o=e.delimiter?e.delimiter:",",r=[],n=[];t.forEach((t=>{var e=[];switch(t.type){case"group":case"calc":break;case"header":t.columns.forEach(((t,e)=>{t&&1===t.depth&&(n[e]=void 0===t.value||null===t.value?"":'"'+String(t.value).split('"').join('""')+'"')}));break;case"row":t.columns.forEach((t=>{if(t){switch(typeof t.value){case"object":t.value=null!==t.value?JSON.stringify(t.value):"";break;case"undefined":t.value=""}e.push('"'+String(t.value).split('"').join('""')+'"')}})),r.push(e.join(o))}})),n.length&&r.unshift(n.join(o)),r=r.join("\n"),e.bom&&(r="\ufeff"+r),i(r,"text/csv")},json:function(t,e,i){var o=[];t.forEach((t=>{var e={};switch(t.type){case"header":case"group":case"calc":break;case"row":t.columns.forEach((t=>{t&&(e[t.component.getTitleDownload()||t.component.getField()]=t.value)})),o.push(e)}})),i(o=JSON.stringify(o,null,"\t"),"application/json")},jsonLines:function(t,e,i){const o=[];t.forEach((t=>{const e={};switch(t.type){case"header":case"group":case"calc":break;case"row":t.columns.forEach((t=>{t&&(e[t.component.getTitleDownload()||t.component.getField()]=t.value)})),o.push(JSON.stringify(e))}})),i(o.join("\n"),"application/x-ndjson")},pdf:function(t,e={},i){var o=[],r=[],n={},a=e.rowGroupStyles||{fontStyle:"bold",fontSize:12,cellPadding:6,fillColor:220},s=e.rowCalcStyles||{fontStyle:"bold",fontSize:10,cellPadding:4,fillColor:232},l=e.jsPDF||{},u=e.title?e.title:"";function h(t,e){var i=[];return t.columns.forEach((t=>{var o;if(t){switch(typeof t.value){case"object":t.value=null!==t.value?JSON.stringify(t.value):"";break;case"undefined":t.value=""}o={content:t.value,colSpan:t.width,rowSpan:t.height},e&&(o.styles=e),i.push(o)}})),i}l.orientation||(l.orientation=e.orientation||"landscape"),l.unit||(l.unit="pt"),t.forEach((t=>{switch(t.type){case"header":o.push(h(t));break;case"group":r.push(h(t,a));break;case"calc":r.push(h(t,s));break;case"row":r.push(h(t))}}));var c=new jspdf.jsPDF(l);e.autoTable&&(n="function"==typeof e.autoTable?e.autoTable(c)||{}:e.autoTable),u&&(n.didDrawPage=function(t){c.text(u,40,30)}),n.head=o,n.body=r,c.autoTable(n),e.documentProcessing&&e.documentProcessing(c),i(c.output("arraybuffer"),"application/pdf")},xlsx:function(t,e,i){var o=e.sheetName||"Sheet1",r=XLSX.utils.book_new(),a=new n(this),s=!("compress"in e)||e.compress,l=e.writeOptions||{bookType:"xlsx",bookSST:!0,compression:s};function u(){var e=[],i=[],o={},r={s:{c:0,r:0},e:{c:t[0]?t[0].columns.reduce(((t,e)=>t+(e&&e.width?e.width:1)),0):0,r:t.length}};return t.forEach(((t,o)=>{var r=[];t.columns.forEach((function(t,e){t?(r.push(t.value instanceof Date||"object"!=typeof t.value?t.value:JSON.stringify(t.value)),(t.width>1||t.height>-1)&&(t.height>1||t.width>1)&&i.push({s:{r:o,c:e},e:{r:o+t.height-1,c:e+t.width-1}})):r.push("")})),e.push(r)})),XLSX.utils.sheet_add_aoa(o,e),o["!ref"]=XLSX.utils.encode_range(r),i.length&&(o["!merges"]=i),o}if(l.type="binary",r.SheetNames=[],r.Sheets={},e.sheetOnly)i(u());else{if(e.sheets)for(var h in e.sheets)!0===e.sheets[h]?(r.SheetNames.push(h),r.Sheets[h]=u()):(r.SheetNames.push(h),a.commsSend(e.sheets[h],"download","intercept",{type:"xlsx",options:{sheetOnly:!0},active:this.active,intercept:function(t){r.Sheets[h]=t}}));else r.SheetNames.push(o),r.Sheets[o]=u();e.documentProcessing&&(r=e.documentProcessing(r)),i(function(t){for(var e=new ArrayBuffer(t.length),i=new Uint8Array(e),o=0;o!=t.length;++o)i[o]=255&t.charCodeAt(o);return e}(XLSX.write(r,l)),"application/octet-stream")}},html:function(t,e,i){this.modExists("export",!0)&&i(this.modules.export.generateHTMLTable(t),"text/html")}};class M extends l{constructor(t){super(t),this.registerTableOption("downloadEncoder",(function(t,e){return new Blob([t],{type:e})})),this.registerTableOption("downloadReady",void 0),this.registerTableOption("downloadConfig",{}),this.registerTableOption("downloadRowRange","active"),this.registerColumnOption("download"),this.registerColumnOption("titleDownload")}initialize(){this.deprecatedOptionsCheck(),this.registerTableFunction("download",this.download.bind(this)),this.registerTableFunction("downloadToTab",this.downloadToTab.bind(this))}deprecatedOptionsCheck(){this.deprecationCheck("downloadReady","downloadEncoder")}downloadToTab(t,e,i,o){this.download(t,e,i,o,!0)}download(t,e,i,o,r){var n=!1;if("function"==typeof t?n=t:M.downloaders[t]&&(n=M.downloaders[t]),n){var a=this.generateExportList(o);n.call(this.table,a,i||{},function(i,o){r?!0===r?this.triggerDownload(i,o,t,e,!0):r(i):this.triggerDownload(i,o,t,e)}.bind(this))}}generateExportList(t){var e=this.table.modules.export.generateExportList(this.table.options.downloadConfig,!1,t||this.table.options.downloadRowRange,"download"),i=this.table.options.groupHeaderDownload;return i&&!Array.isArray(i)&&(i=[i]),e.forEach((t=>{var e;"group"===t.type&&(e=t.columns[0],i&&i[t.indent]&&(e.value=i[t.indent](e.value,t.component._group.getRowCount(),t.component._group.getData(),t.component)))})),e}triggerDownload(t,e,i,o,r){var n=document.createElement("a"),a=this.table.options.downloadEncoder(t,e);a&&(r?window.open(window.URL.createObjectURL(a)):(o=o||"Tabulator."+("function"==typeof i?"txt":i),navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(a,o):(n.setAttribute("href",window.URL.createObjectURL(a)),n.setAttribute("download",o),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n))),this.dispatchExternal("downloadComplete"))}commsReceived(t,e,i){if("intercept"===e)this.download(i.type,"",i.options,i.active,i.intercept)}}function S(t,e){var i=e.mask,o=void 0!==e.maskLetterChar?e.maskLetterChar:"A",r=void 0!==e.maskNumberChar?e.maskNumberChar:"9",n=void 0!==e.maskWildcardChar?e.maskWildcardChar:"*";function a(e){var s=i[e];void 0!==s&&s!==n&&s!==o&&s!==r&&(t.value=t.value+""+s,a(e+1))}t.addEventListener("keydown",(e=>{var a=t.value.length,s=e.key;if(e.keyCode>46&&!e.ctrlKey&&!e.metaKey){if(a>=i.length)return e.preventDefault(),e.stopPropagation(),!1;switch(i[a]){case o:if(s.toUpperCase()==s.toLowerCase())return e.preventDefault(),e.stopPropagation(),!1;break;case r:if(isNaN(s))return e.preventDefault(),e.stopPropagation(),!1;break;case n:break;default:if(s!==i[a])return e.preventDefault(),e.stopPropagation(),!1}}})),t.addEventListener("keyup",(i=>{i.keyCode>46&&e.maskAutoFill&&a(t.value.length)})),t.placeholder||(t.placeholder=i),e.maskAutoFill&&a(t.value.length)}M.moduleName="download",M.downloaders=R;class T{constructor(t,e,i,o,r,n){this.edit=t,this.table=t.table,this.cell=e,this.params=this._initializeParams(n),this.data=[],this.displayItems=[],this.currentItems=[],this.focusedItem=null,this.input=this._createInputElement(),this.listEl=this._createListElement(),this.initialValues=null,this.isFilter="header"===e.getType(),this.filterTimeout=null,this.filtered=!1,this.typing=!1,this.values=[],this.popup=null,this.listIteration=0,this.lastAction="",this.filterTerm="",this.blurable=!0,this.actions={success:o,cancel:r},this._deprecatedOptionsCheck(),this._initializeValue(),i(this._onRendered.bind(this))}_deprecatedOptionsCheck(){this.params.listItemFormatter&&this.cell.getTable().deprecationAdvisor.msg("The listItemFormatter editor param has been deprecated, please see the latest editor documentation for updated options"),this.params.sortValuesList&&this.cell.getTable().deprecationAdvisor.msg("The sortValuesList editor param has been deprecated, please see the latest editor documentation for updated options"),this.params.searchFunc&&this.cell.getTable().deprecationAdvisor.msg("The searchFunc editor param has been deprecated, please see the latest editor documentation for updated options"),this.params.searchingPlaceholder&&this.cell.getTable().deprecationAdvisor.msg("The searchingPlaceholder editor param has been deprecated, please see the latest editor documentation for updated options")}_initializeValue(){var t=this.cell.getValue();void 0===t&&void 0!==this.params.defaultValue&&(t=this.params.defaultValue),this.initialValues=this.params.multiselect?t:[t],this.isFilter&&(this.input.value=this.initialValues?this.initialValues.join(","):"",this.headerFilterInitialListGen())}_onRendered(){var t=this.cell.getElement();function e(t){t.stopPropagation()}this.isFilter||(this.input.style.height="100%",this.input.focus({preventScroll:!0})),t.addEventListener("click",e),setTimeout((()=>{t.removeEventListener("click",e)}),1e3),this.input.addEventListener("mousedown",this._preventPopupBlur.bind(this))}_createListElement(){var t=document.createElement("div");return t.classList.add("tabulator-edit-list"),t.addEventListener("mousedown",this._preventBlur.bind(this)),t.addEventListener("keydown",this._inputKeyDown.bind(this)),t}_setListWidth(){var t=this.isFilter?this.input:this.cell.getElement();this.listEl.style.minWidth=t.offsetWidth+"px",this.params.maxWidth&&(!0===this.params.maxWidth?this.listEl.style.maxWidth=t.offsetWidth+"px":"number"==typeof this.params.maxWidth?this.listEl.style.maxWidth=this.params.maxWidth+"px":this.listEl.style.maxWidth=this.params.maxWidth)}_createInputElement(){var t=this.params.elementAttributes,e=document.createElement("input");if(e.setAttribute("type",this.params.clearable?"search":"text"),e.style.padding="4px",e.style.width="100%",e.style.boxSizing="border-box",this.params.autocomplete||(e.style.cursor="default",e.style.caretColor="transparent"),t&&"object"==typeof t)for(let i in t)"+"==i.charAt(0)?(i=i.slice(1),e.setAttribute(i,e.getAttribute(i)+t["+"+i])):e.setAttribute(i,t[i]);return this.params.mask&&S(e,this.params),this._bindInputEvents(e),e}_initializeParams(t){var e=["values","valuesURL","valuesLookup"];return(t=Object.assign({},t)).verticalNavigation=t.verticalNavigation||"editor",t.placeholderLoading=void 0===t.placeholderLoading?"Searching ...":t.placeholderLoading,t.placeholderEmpty=void 0===t.placeholderEmpty?"No Results Found":t.placeholderEmpty,t.filterDelay=void 0===t.filterDelay?300:t.filterDelay,t.emptyValue=Object.keys(t).includes("emptyValue")?t.emptyValue:"",Object.keys(t).filter((t=>e.includes(t))).length,t.autocomplete?t.multiselect&&(t.multiselect=!1):(t.freetext&&(t.freetext=!1),t.filterFunc&&(t.filterFunc=!1),t.filterRemote&&(t.filterRemote=!1),t.mask&&(t.mask=!1),t.allowEmpty&&(t.allowEmpty=!1),t.listOnEmpty&&(t.listOnEmpty=!1)),t.filterRemote&&"function"!=typeof t.valuesLookup&&!t.valuesURL&&(t.filterRemote=!1),t}_bindInputEvents(t){t.addEventListener("focus",this._inputFocus.bind(this)),t.addEventListener("click",this._inputClick.bind(this)),t.addEventListener("blur",this._inputBlur.bind(this)),t.addEventListener("keydown",this._inputKeyDown.bind(this)),t.addEventListener("search",this._inputSearch.bind(this)),this.params.autocomplete&&t.addEventListener("keyup",this._inputKeyUp.bind(this))}_inputFocus(t){this.rebuildOptionsList()}_filter(){this.params.filterRemote?(clearTimeout(this.filterTimeout),this.filterTimeout=setTimeout((()=>{this.rebuildOptionsList()}),this.params.filterDelay)):this._filterList()}_inputClick(t){t.stopPropagation()}_inputBlur(t){this.blurable&&(this.popup?this.popup.hide():this._resolveValue(!0))}_inputSearch(){this._clearChoices()}_inputKeyDown(t){switch(t.keyCode){case 38:this._keyUp(t);break;case 40:this._keyDown(t);break;case 37:case 39:this._keySide(t);break;case 13:this._keyEnter();break;case 27:this._keyEsc();break;case 36:case 35:this._keyHomeEnd(t);break;case 9:this._keyTab(t);break;default:this._keySelectLetter(t)}}_inputKeyUp(t){switch(t.keyCode){case 38:case 37:case 39:case 40:case 13:case 27:break;default:this._keyAutoCompLetter(t)}}_preventPopupBlur(){this.popup&&this.popup.blockHide(),setTimeout((()=>{this.popup&&this.popup.restoreHide()}),10)}_preventBlur(){this.blurable=!1,setTimeout((()=>{this.blurable=!0}),10)}_keyTab(t){this.params.autocomplete&&"typing"===this.lastAction?this._resolveValue(!0):this.focusedItem&&this._chooseItem(this.focusedItem,!0)}_keyUp(t){var e=this.displayItems.indexOf(this.focusedItem);("editor"==this.params.verticalNavigation||"hybrid"==this.params.verticalNavigation&&e)&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),e>0&&this._focusItem(this.displayItems[e-1]))}_keyDown(t){var e=this.displayItems.indexOf(this.focusedItem);("editor"==this.params.verticalNavigation||"hybrid"==this.params.verticalNavigation&&e<this.displayItems.length-1)&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),e<this.displayItems.length-1&&(-1==e?this._focusItem(this.displayItems[0]):this._focusItem(this.displayItems[e+1])))}_keySide(t){this.params.autocomplete||(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault())}_keyEnter(t){this.params.autocomplete&&"typing"===this.lastAction?this._resolveValue(!0):this.focusedItem&&this._chooseItem(this.focusedItem)}_keyEsc(t){this._cancel()}_keyHomeEnd(t){this.params.autocomplete&&t.stopImmediatePropagation()}_keySelectLetter(t){this.params.autocomplete||(t.preventDefault(),t.keyCode>=38&&t.keyCode<=90&&this._scrollToValue(t.keyCode))}_keyAutoCompLetter(t){this._filter(),this.lastAction="typing",this.typing=!0}_scrollToValue(t){clearTimeout(this.filterTimeout);var e=String.fromCharCode(t).toLowerCase();this.filterTerm+=e.toLowerCase();var i=this.displayItems.find((t=>void 0!==t.label&&t.label.toLowerCase().startsWith(this.filterTerm)));i&&this._focusItem(i),this.filterTimeout=setTimeout((()=>{this.filterTerm=""}),800)}_focusItem(t){this.lastAction="focus",this.focusedItem&&this.focusedItem.element&&this.focusedItem.element.classList.remove("focused"),this.focusedItem=t,t&&t.element&&(t.element.classList.add("focused"),t.element.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"}))}headerFilterInitialListGen(){this._generateOptions(!0)}rebuildOptionsList(){this._generateOptions().then(this._sortOptions.bind(this)).then(this._buildList.bind(this)).then(this._showList.bind(this)).catch((t=>{Number.isInteger(t)}))}_filterList(){this._buildList(this._filterOptions()),this._showList()}_generateOptions(t){var e=[],i=++this.listIteration;return this.filtered=!1,this.params.values?e=this.params.values:this.params.valuesURL?e=this._ajaxRequest(this.params.valuesURL,this.input.value):"function"==typeof this.params.valuesLookup?e=this.params.valuesLookup(this.cell,this.input.value):this.params.valuesLookup&&(e=this._uniqueColumnValues(this.params.valuesLookupField)),e instanceof Promise?(t||this._addPlaceholder(this.params.placeholderLoading),e.then().then((t=>this.listIteration===i?this._parseList(t):Promise.reject(i)))):Promise.resolve(this._parseList(e))}_addPlaceholder(t){var e=document.createElement("div");"function"==typeof t&&(t=t(this.cell.getComponent(),this.listEl)),t&&(this._clearList(),t instanceof HTMLElement?e=t:(e.classList.add("tabulator-edit-list-placeholder"),e.innerHTML=t),this.listEl.appendChild(e),this._showList())}_ajaxRequest(t,e){return t=d(t,{},this.params.filterRemote?{term:e}:{}),fetch(t).then((t=>t.ok?t.json().catch((t=>Promise.reject(t))):Promise.reject(t))).catch((t=>Promise.reject(t)))}_uniqueColumnValues(t){var e,i={},o=this.table.getData(this.params.valuesLookup);return(e=t?this.table.columnManager.getColumnByField(t):this.cell.getColumn()._getSelf())?o.forEach((t=>{var o=e.getFieldValue(t);null!=o&&""!==o&&(i[o]=!0)})):i=[],Object.keys(i)}_parseList(t){var e=[];return Array.isArray(t)||(t=Object.entries(t).map((([t,e])=>({label:e,value:t})))),t.forEach((t=>{"object"!=typeof t&&(t={label:t,value:t}),this._parseListItem(t,e,0)})),!this.currentItems.length&&this.params.freetext&&(this.input.value=this.initialValues,this.typing=!0,this.lastAction="typing"),this.data=e,e}_parseListItem(t,e,i){var o={};t.options?o=this._parseListGroup(t,i+1):(o={label:t.label,value:t.value,itemParams:t.itemParams,elementAttributes:t.elementAttributes,element:!1,selected:!1,visible:!0,level:i,original:t},this.initialValues&&this.initialValues.indexOf(t.value)>-1&&this._chooseItem(o,!0)),e.push(o)}_parseListGroup(t,e){var i={label:t.label,group:!0,itemParams:t.itemParams,elementAttributes:t.elementAttributes,element:!1,visible:!0,level:e,options:[],original:t};return t.options.forEach((t=>{this._parseListItem(t,i.options,e)})),i}_sortOptions(t){var e;return this.params.sort&&(e="function"==typeof this.params.sort?this.params.sort:this._defaultSortFunction.bind(this),this._sortGroup(e,t)),t}_sortGroup(t,e){e.sort(((e,i)=>t(e.label,i.label,e.value,i.value,e.original,i.original))),e.forEach((e=>{e.group&&this._sortGroup(t,e.options)}))}_defaultSortFunction(t,e){var i,o,r,n,a,s=0,l=/(\d+)|(\D+)/g,u=/\d/,h=0;if("desc"===this.params.sort&&([t,e]=[e,t]),t||0===t){if(e||0===e){if(isFinite(t)&&isFinite(e))return t-e;if((i=String(t).toLowerCase())===(o=String(e).toLowerCase()))return 0;if(!u.test(i)||!u.test(o))return i>o?1:-1;for(i=i.match(l),o=o.match(l),a=i.length>o.length?o.length:i.length;s<a;)if((r=i[s])!==(n=o[s++]))return isFinite(r)&&isFinite(n)?("0"===r.charAt(0)&&(r="."+r),"0"===n.charAt(0)&&(n="."+n),r-n):r>n?1:-1;return i.length>o.length}h=1}else h=e||0===e?-1:0;return h}_filterOptions(){var t=this.params.filterFunc||this._defaultFilterFunc,e=this.input.value;return e?(this.filtered=!0,this.data.forEach((i=>{this._filterItem(t,e,i)}))):this.filtered=!1,this.data}_filterItem(t,e,i){var o=!1;return i.group?(i.options.forEach((i=>{this._filterItem(t,e,i)&&(o=!0)})),i.visible=o):i.visible=t(e,i.label,i.value,i.original),i.visible}_defaultFilterFunc(t,e,i,o){return t=String(t).toLowerCase(),null!=e&&(String(e).toLowerCase().indexOf(t)>-1||String(i).toLowerCase().indexOf(t)>-1)}_clearList(){for(;this.listEl.firstChild;)this.listEl.removeChild(this.listEl.firstChild);this.displayItems=[]}_buildList(t){this._clearList(),t.forEach((t=>{this._buildItem(t)})),this.displayItems.length||this._addPlaceholder(this.params.placeholderEmpty)}_buildItem(t){var e,i=t.element;if(!this.filtered||t.visible){if(!i){if((i=document.createElement("div")).tabIndex=0,(e=this.params.itemFormatter?this.params.itemFormatter(t.label,t.value,t.original,i):t.label)instanceof HTMLElement?i.appendChild(e):i.innerHTML=e,t.group?i.classList.add("tabulator-edit-list-group"):i.classList.add("tabulator-edit-list-item"),i.classList.add("tabulator-edit-list-group-level-"+t.level),t.elementAttributes&&"object"==typeof t.elementAttributes)for(let e in t.elementAttributes)"+"==e.charAt(0)?(e=e.slice(1),i.setAttribute(e,this.input.getAttribute(e)+t.elementAttributes["+"+e])):i.setAttribute(e,t.elementAttributes[e]);t.group?i.addEventListener("click",this._groupClick.bind(this,t)):i.addEventListener("click",this._itemClick.bind(this,t)),i.addEventListener("mousedown",this._preventBlur.bind(this)),t.element=i}this._styleItem(t),this.listEl.appendChild(i),t.group?t.options.forEach((t=>{this._buildItem(t)})):this.displayItems.push(t)}}_showList(){var t=this.popup&&this.popup.isVisible();if(this.input.parentNode){if(this.params.autocomplete&&""===this.input.value&&!this.params.listOnEmpty)return void(this.popup&&this.popup.hide(!0));this._setListWidth(),this.popup||(this.popup=this.edit.popup(this.listEl)),this.popup.show(this.cell.getElement(),"bottom"),t||setTimeout((()=>{this.popup.hideOnBlur(this._resolveValue.bind(this,!0))}),10)}}_styleItem(t){t&&t.element&&(t.selected?t.element.classList.add("active"):t.element.classList.remove("active"))}_itemClick(t,e){e.stopPropagation(),this._chooseItem(t)}_groupClick(t,e){e.stopPropagation()}_cancel(){this.popup.hide(!0),this.actions.cancel()}_clearChoices(){this.typing=!0,this.currentItems.forEach((t=>{t.selected=!1,this._styleItem(t)})),this.currentItems=[],this.focusedItem=null}_chooseItem(t,e){var i;this.typing=!1,this.params.multiselect?((i=this.currentItems.indexOf(t))>-1?(this.currentItems.splice(i,1),t.selected=!1):(this.currentItems.push(t),t.selected=!0),this.input.value=this.currentItems.map((t=>t.label)).join(","),this._styleItem(t)):(this.currentItems=[t],t.selected=!0,this.input.value=t.label,this._styleItem(t),e||this._resolveValue()),this._focusItem(t)}_resolveValue(t){var e,i;if(this.popup&&this.popup.hide(!0),this.params.multiselect)e=this.currentItems.map((t=>t.value));else if(t&&this.params.autocomplete&&this.typing){if(!(this.params.freetext||this.params.allowEmpty&&""===this.input.value))return void this.actions.cancel();e=this.input.value}else e=this.currentItems[0]?this.currentItems[0].value:null==(i=Array.isArray(this.initialValues)?this.initialValues[0]:this.initialValues)||""===i?i:this.params.emptyValue;""===e&&(e=this.params.emptyValue),this.actions.success(e),this.isFilter&&(this.initialValues=e&&!Array.isArray(e)?[e]:e,this.currentItems=[])}}var z={input:function(t,e,i,o,r){var n=t.getValue(),a=document.createElement("input");if(a.setAttribute("type",r.search?"search":"text"),a.style.padding="4px",a.style.width="100%",a.style.boxSizing="border-box",r.elementAttributes&&"object"==typeof r.elementAttributes)for(let t in r.elementAttributes)"+"==t.charAt(0)?(t=t.slice(1),a.setAttribute(t,a.getAttribute(t)+r.elementAttributes["+"+t])):a.setAttribute(t,r.elementAttributes[t]);function s(t){null==n&&""!==a.value||a.value!==n?i(a.value)&&(n=a.value):o()}return a.value=void 0!==n?n:"",e((function(){"cell"===t.getType()&&(a.focus({preventScroll:!0}),a.style.height="100%",r.selectContents&&a.select())})),a.addEventListener("change",s),a.addEventListener("blur",s),a.addEventListener("keydown",(function(t){switch(t.keyCode){case 13:s();break;case 27:o();break;case 35:case 36:t.stopPropagation()}})),r.mask&&S(a,r),a},textarea:function(t,e,i,o,r){var n=t.getValue(),a=r.verticalNavigation||"hybrid",s=String(null!=n?n:""),l=document.createElement("textarea"),u=0;if(l.style.display="block",l.style.padding="2px",l.style.height="100%",l.style.width="100%",l.style.boxSizing="border-box",l.style.whiteSpace="pre-wrap",l.style.resize="none",r.elementAttributes&&"object"==typeof r.elementAttributes)for(let t in r.elementAttributes)"+"==t.charAt(0)?(t=t.slice(1),l.setAttribute(t,l.getAttribute(t)+r.elementAttributes["+"+t])):l.setAttribute(t,r.elementAttributes[t]);function h(e){null==n&&""!==l.value||l.value!==n?(i(l.value)&&(n=l.value),setTimeout((function(){t.getRow().normalizeHeight()}),300)):o()}return l.value=s,e((function(){"cell"===t.getType()&&(l.focus({preventScroll:!0}),l.style.height="100%",l.scrollHeight,l.style.height=l.scrollHeight+"px",t.getRow().normalizeHeight(),r.selectContents&&l.select())})),l.addEventListener("change",h),l.addEventListener("blur",h),l.addEventListener("keyup",(function(){l.style.height="";var e=l.scrollHeight;l.style.height=e+"px",e!=u&&(u=e,t.getRow().normalizeHeight())})),l.addEventListener("keydown",(function(t){switch(t.keyCode){case 13:t.shiftKey&&r.shiftEnterSubmit&&h();break;case 27:o();break;case 38:("editor"==a||"hybrid"==a&&l.selectionStart)&&(t.stopImmediatePropagation(),t.stopPropagation());break;case 40:("editor"==a||"hybrid"==a&&l.selectionStart!==l.value.length)&&(t.stopImmediatePropagation(),t.stopPropagation());break;case 35:case 36:t.stopPropagation()}})),r.mask&&S(l,r),l},number:function(t,e,i,o,r){var n=t.getValue(),a=r.verticalNavigation||"editor",s=document.createElement("input");if(s.setAttribute("type","number"),void 0!==r.max&&s.setAttribute("max",r.max),void 0!==r.min&&s.setAttribute("min",r.min),void 0!==r.step&&s.setAttribute("step",r.step),s.style.padding="4px",s.style.width="100%",s.style.boxSizing="border-box",r.elementAttributes&&"object"==typeof r.elementAttributes)for(let t in r.elementAttributes)"+"==t.charAt(0)?(t=t.slice(1),s.setAttribute(t,s.getAttribute(t)+r.elementAttributes["+"+t])):s.setAttribute(t,r.elementAttributes[t]);s.value=n;var l=function(t){u()};function u(){var t=s.value;isNaN(t)||""===t||(t=Number(t)),t!==n?i(t)&&(n=t):o()}return e((function(){"cell"===t.getType()&&(s.removeEventListener("blur",l),s.focus({preventScroll:!0}),s.style.height="100%",s.addEventListener("blur",l),r.selectContents&&s.select())})),s.addEventListener("keydown",(function(t){switch(t.keyCode){case 13:u();break;case 27:o();break;case 38:case 40:"editor"==a&&(t.stopImmediatePropagation(),t.stopPropagation());break;case 35:case 36:t.stopPropagation()}})),r.mask&&S(s,r),s},range:function(t,e,i,o,r){var n=t.getValue(),a=document.createElement("input");if(a.setAttribute("type","range"),void 0!==r.max&&a.setAttribute("max",r.max),void 0!==r.min&&a.setAttribute("min",r.min),void 0!==r.step&&a.setAttribute("step",r.step),a.style.padding="4px",a.style.width="100%",a.style.boxSizing="border-box",r.elementAttributes&&"object"==typeof r.elementAttributes)for(let t in r.elementAttributes)"+"==t.charAt(0)?(t=t.slice(1),a.setAttribute(t,a.getAttribute(t)+r.elementAttributes["+"+t])):a.setAttribute(t,r.elementAttributes[t]);function s(){var t=a.value;isNaN(t)||""===t||(t=Number(t)),t!=n?i(t)&&(n=t):o()}return a.value=n,e((function(){"cell"===t.getType()&&(a.focus({preventScroll:!0}),a.style.height="100%")})),a.addEventListener("blur",(function(t){s()})),a.addEventListener("keydown",(function(t){switch(t.keyCode){case 13:s();break;case 27:o()}})),a},date:function(t,e,i,o,r){var n=r.format,a=r.verticalNavigation||"editor",s=n?window.DateTime||luxon.DateTime:null,l=t.getValue(),u=document.createElement("input");function h(t){return(s.isDateTime(t)?t:"iso"===n?s.fromISO(String(t)):s.fromFormat(String(t),n)).toFormat("yyyy-MM-dd")}if(u.type="date",u.style.padding="4px",u.style.width="100%",u.style.boxSizing="border-box",r.max&&u.setAttribute("max",n?h(r.max):r.max),r.min&&u.setAttribute("min",n?h(r.min):r.min),r.elementAttributes&&"object"==typeof r.elementAttributes)for(let t in r.elementAttributes)"+"==t.charAt(0)?(t=t.slice(1),u.setAttribute(t,u.getAttribute(t)+r.elementAttributes["+"+t])):u.setAttribute(t,r.elementAttributes[t]);function c(){var t,e=u.value;if(null==l&&""!==e||e!==l){if(e&&n)switch(t=s.fromFormat(String(e),"yyyy-MM-dd"),n){case!0:e=t;break;case"iso":e=t.toISO();break;default:e=t.toFormat(n)}i(e)&&(l=u.value)}else o()}return l=void 0!==l?l:"",n&&s&&(l=h(l)),u.value=l,e((function(){"cell"===t.getType()&&(u.focus({preventScroll:!0}),u.style.height="100%",r.selectContents&&u.select())})),u.addEventListener("blur",(function(t){(t.relatedTarget||t.rangeParent||t.explicitOriginalTarget!==u)&&c()})),u.addEventListener("keydown",(function(t){switch(t.keyCode){case 13:c();break;case 27:o();break;case 35:case 36:t.stopPropagation();break;case 38:case 40:"editor"==a&&(t.stopImmediatePropagation(),t.stopPropagation())}})),u},time:function(t,e,i,o,r){var n,a=r.format,s=r.verticalNavigation||"editor",l=a?window.DateTime||luxon.DateTime:null,u=t.getValue(),h=document.createElement("input");if(h.type="time",h.style.padding="4px",h.style.width="100%",h.style.boxSizing="border-box",r.elementAttributes&&"object"==typeof r.elementAttributes)for(let t in r.elementAttributes)"+"==t.charAt(0)?(t=t.slice(1),h.setAttribute(t,h.getAttribute(t)+r.elementAttributes["+"+t])):h.setAttribute(t,r.elementAttributes[t]);function c(){var t,e=h.value;if(null==u&&""!==e||e!==u){if(e&&a)switch(t=l.fromFormat(String(e),"hh:mm"),a){case!0:e=t;break;case"iso":e=t.toISO();break;default:e=t.toFormat(a)}i(e)&&(u=h.value)}else o()}return u=void 0!==u?u:"",a&&l&&(n=l.isDateTime(u)?u:"iso"===a?l.fromISO(String(u)):l.fromFormat(String(u),a),u=n.toFormat("HH:mm")),h.value=u,e((function(){"cell"==t.getType()&&(h.focus({preventScroll:!0}),h.style.height="100%",r.selectContents&&h.select())})),h.addEventListener("blur",(function(t){(t.relatedTarget||t.rangeParent||t.explicitOriginalTarget!==h)&&c()})),h.addEventListener("keydown",(function(t){switch(t.keyCode){case 13:c();break;case 27:o();break;case 35:case 36:t.stopPropagation();break;case 38:case 40:"editor"==s&&(t.stopImmediatePropagation(),t.stopPropagation())}})),h},datetime:function(t,e,i,o,r){var n,a=r.format,s=r.verticalNavigation||"editor",l=a?window.DateTime||luxon.DateTime:null,u=t.getValue(),h=document.createElement("input");if(h.type="datetime-local",h.style.padding="4px",h.style.width="100%",h.style.boxSizing="border-box",r.elementAttributes&&"object"==typeof r.elementAttributes)for(let t in r.elementAttributes)"+"==t.charAt(0)?(t=t.slice(1),h.setAttribute(t,h.getAttribute(t)+r.elementAttributes["+"+t])):h.setAttribute(t,r.elementAttributes[t]);function c(){var t,e=h.value;if(null==u&&""!==e||e!==u){if(e&&a)switch(t=l.fromISO(String(e)),a){case!0:e=t;break;case"iso":e=t.toISO();break;default:e=t.toFormat(a)}i(e)&&(u=h.value)}else o()}return u=void 0!==u?u:"",a&&l&&(n=l.isDateTime(u)?u:"iso"===a?l.fromISO(String(u)):l.fromFormat(String(u),a),u=n.toFormat("yyyy-MM-dd")+"T"+n.toFormat("HH:mm")),h.value=u,e((function(){"cell"===t.getType()&&(h.focus({preventScroll:!0}),h.style.height="100%",r.selectContents&&h.select())})),h.addEventListener("blur",(function(t){(t.relatedTarget||t.rangeParent||t.explicitOriginalTarget!==h)&&c()})),h.addEventListener("keydown",(function(t){switch(t.keyCode){case 13:c();break;case 27:o();break;case 35:case 36:t.stopPropagation();break;case 38:case 40:"editor"==s&&(t.stopImmediatePropagation(),t.stopPropagation())}})),h},select:function(t,e,i,o,r){return this.deprecationMsg("The select editor has been deprecated, please use the new list editor"),new T(this,t,e,i,o,r).input},list:function(t,e,i,o,r){return new T(this,t,e,i,o,r).input},autocomplete:function(t,e,i,o,r){return this.deprecationMsg("The autocomplete editor has been deprecated, please use the new list editor with the 'autocomplete' editorParam"),r.autocomplete=!0,new T(this,t,e,i,o,r).input},star:function(t,e,i,o,r){var n=this,a=t.getElement(),s=t.getValue(),l=a.getElementsByTagName("svg").length||5,u=a.getElementsByTagName("svg")[0]?a.getElementsByTagName("svg")[0].getAttribute("width"):14,h=[],c=document.createElement("div"),d=document.createElementNS("http://www.w3.org/2000/svg","svg");function p(t){h.forEach((function(e,i){i<t?("ie"==n.table.browser?e.setAttribute("class","tabulator-star-active"):e.classList.replace("tabulator-star-inactive","tabulator-star-active"),e.innerHTML='<polygon fill="#488CE9" stroke="#014AAE" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>'):("ie"==n.table.browser?e.setAttribute("class","tabulator-star-inactive"):e.classList.replace("tabulator-star-active","tabulator-star-inactive"),e.innerHTML='<polygon fill="#010155" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>')}))}function b(t){var e=document.createElement("span"),o=d.cloneNode(!0);h.push(o),e.addEventListener("mouseenter",(function(e){e.stopPropagation(),e.stopImmediatePropagation(),p(t)})),e.addEventListener("mousemove",(function(t){t.stopPropagation(),t.stopImmediatePropagation()})),e.addEventListener("click",(function(e){e.stopPropagation(),e.stopImmediatePropagation(),i(t),a.blur()})),e.appendChild(o),c.appendChild(e)}function g(t){s=t,p(t)}if(a.style.whiteSpace="nowrap",a.style.overflow="hidden",a.style.textOverflow="ellipsis",c.style.verticalAlign="middle",c.style.display="inline-block",c.style.padding="4px",d.setAttribute("width",u),d.setAttribute("height",u),d.setAttribute("viewBox","0 0 512 512"),d.setAttribute("xml:space","preserve"),d.style.padding="0 1px",r.elementAttributes&&"object"==typeof r.elementAttributes)for(let t in r.elementAttributes)"+"==t.charAt(0)?(t=t.slice(1),c.setAttribute(t,c.getAttribute(t)+r.elementAttributes["+"+t])):c.setAttribute(t,r.elementAttributes[t]);for(var m=1;m<=l;m++)b(m);return p(s=Math.min(parseInt(s),l)),c.addEventListener("mousemove",(function(t){p(0)})),c.addEventListener("click",(function(t){i(0)})),a.addEventListener("blur",(function(t){o()})),a.addEventListener("keydown",(function(t){switch(t.keyCode){case 39:g(s+1);break;case 37:g(s-1);break;case 13:i(s);break;case 27:o()}})),c},progress:function(t,e,i,o,r){var n,a,s=t.getElement(),l=void 0===r.max?s.getElementsByTagName("div")[0]&&s.getElementsByTagName("div")[0].getAttribute("max")||100:r.max,u=void 0===r.min?s.getElementsByTagName("div")[0]&&s.getElementsByTagName("div")[0].getAttribute("min")||0:r.min,h=(l-u)/100,c=t.getValue()||0,d=document.createElement("div"),p=document.createElement("div");function b(){var t=window.getComputedStyle(s,null),e=h*Math.round(p.offsetWidth/((s.clientWidth-parseInt(t.getPropertyValue("padding-left"))-parseInt(t.getPropertyValue("padding-right")))/100))+u;i(e),s.setAttribute("aria-valuenow",e),s.setAttribute("aria-label",c)}if(d.style.position="absolute",d.style.right="0",d.style.top="0",d.style.bottom="0",d.style.width="5px",d.classList.add("tabulator-progress-handle"),p.style.display="inline-block",p.style.position="relative",p.style.height="100%",p.style.backgroundColor="#488CE9",p.style.maxWidth="100%",p.style.minWidth="0%",r.elementAttributes&&"object"==typeof r.elementAttributes)for(let t in r.elementAttributes)"+"==t.charAt(0)?(t=t.slice(1),p.setAttribute(t,p.getAttribute(t)+r.elementAttributes["+"+t])):p.setAttribute(t,r.elementAttributes[t]);return s.style.padding="4px 4px",c=Math.min(parseFloat(c),l),c=Math.max(parseFloat(c),u),c=Math.round((c-u)/h),p.style.width=c+"%",s.setAttribute("aria-valuemin",u),s.setAttribute("aria-valuemax",l),p.appendChild(d),d.addEventListener("mousedown",(function(t){n=t.screenX,a=p.offsetWidth})),d.addEventListener("mouseover",(function(){d.style.cursor="ew-resize"})),s.addEventListener("mousemove",(function(t){n&&(p.style.width=a+t.screenX-n+"px")})),s.addEventListener("mouseup",(function(t){n&&(t.stopPropagation(),t.stopImmediatePropagation(),n=!1,a=!1,b())})),s.addEventListener("keydown",(function(t){switch(t.keyCode){case 39:t.preventDefault(),p.style.width=p.clientWidth+s.clientWidth/100+"px";break;case 37:t.preventDefault(),p.style.width=p.clientWidth-s.clientWidth/100+"px";break;case 9:case 13:b();break;case 27:o()}})),s.addEventListener("blur",(function(){o()})),p},tickCross:function(t,e,i,o,r){var n=t.getValue(),a=document.createElement("input"),s=r.tristate,l=void 0===r.indeterminateValue?null:r.indeterminateValue,u=!1,h=Object.keys(r).includes("trueValue"),c=Object.keys(r).includes("falseValue");if(a.setAttribute("type","checkbox"),a.style.marginTop="5px",a.style.boxSizing="border-box",r.elementAttributes&&"object"==typeof r.elementAttributes)for(let t in r.elementAttributes)"+"==t.charAt(0)?(t=t.slice(1),a.setAttribute(t,a.getAttribute(t)+r.elementAttributes["+"+t])):a.setAttribute(t,r.elementAttributes[t]);function d(t){var e=a.checked;return h&&e?e=r.trueValue:c&&!e&&(e=r.falseValue),s?t?u?l:e:a.checked&&!u?(a.checked=!1,a.indeterminate=!0,u=!0,l):(u=!1,e):e}return a.value=n,!s||void 0!==n&&n!==l&&""!==n||(u=!0,a.indeterminate=!0),"firefox"!=this.table.browser&&"safari"!=this.table.browser&&e((function(){"cell"===t.getType()&&a.focus({preventScroll:!0})})),a.checked=h?n===r.trueValue:!0===n||"true"===n||"True"===n||1===n,a.addEventListener("change",(function(t){i(d())})),a.addEventListener("blur",(function(t){i(d(!0))})),a.addEventListener("keydown",(function(t){13==t.keyCode&&i(d()),27==t.keyCode&&o()})),a}};class D extends l{constructor(t){super(t),this.currentCell=!1,this.mouseClick=!1,this.recursionBlock=!1,this.invalidEdit=!1,this.editedCells=[],this.editors=D.editors,this.registerColumnOption("editable"),this.registerColumnOption("editor"),this.registerColumnOption("editorParams"),this.registerColumnOption("cellEditing"),this.registerColumnOption("cellEdited"),this.registerColumnOption("cellEditCancelled"),this.registerTableOption("editTriggerEvent","focus"),this.registerTableFunction("getEditedCells",this.getEditedCells.bind(this)),this.registerTableFunction("clearCellEdited",this.clearCellEdited.bind(this)),this.registerTableFunction("navigatePrev",this.navigatePrev.bind(this)),this.registerTableFunction("navigateNext",this.navigateNext.bind(this)),this.registerTableFunction("navigateLeft",this.navigateLeft.bind(this)),this.registerTableFunction("navigateRight",this.navigateRight.bind(this)),this.registerTableFunction("navigateUp",this.navigateUp.bind(this)),this.registerTableFunction("navigateDown",this.navigateDown.bind(this)),this.registerComponentFunction("cell","isEdited",this.cellIsEdited.bind(this)),this.registerComponentFunction("cell","clearEdited",this.clearEdited.bind(this)),this.registerComponentFunction("cell","edit",this.editCell.bind(this)),this.registerComponentFunction("cell","cancelEdit",this.cellCancelEdit.bind(this)),this.registerComponentFunction("cell","navigatePrev",this.navigatePrev.bind(this)),this.registerComponentFunction("cell","navigateNext",this.navigateNext.bind(this)),this.registerComponentFunction("cell","navigateLeft",this.navigateLeft.bind(this)),this.registerComponentFunction("cell","navigateRight",this.navigateRight.bind(this)),this.registerComponentFunction("cell","navigateUp",this.navigateUp.bind(this)),this.registerComponentFunction("cell","navigateDown",this.navigateDown.bind(this))}initialize(){this.subscribe("cell-init",this.bindEditor.bind(this)),this.subscribe("cell-delete",this.clearEdited.bind(this)),this.subscribe("cell-value-changed",this.updateCellClass.bind(this)),this.subscribe("column-layout",this.initializeColumnCheck.bind(this)),this.subscribe("column-delete",this.columnDeleteCheck.bind(this)),this.subscribe("row-deleting",this.rowDeleteCheck.bind(this)),this.subscribe("row-layout",this.rowEditableCheck.bind(this)),this.subscribe("data-refreshing",this.cancelEdit.bind(this)),this.subscribe("clipboard-paste",this.pasteBlocker.bind(this)),this.subscribe("keybinding-nav-prev",this.navigatePrev.bind(this,void 0)),this.subscribe("keybinding-nav-next",this.keybindingNavigateNext.bind(this)),this.subscribe("keybinding-nav-up",this.navigateUp.bind(this,void 0)),this.subscribe("keybinding-nav-down",this.navigateDown.bind(this,void 0))}pasteBlocker(t){if(this.currentCell)return!0}keybindingNavigateNext(t){var e=this.currentCell,i=this.options("tabEndNewRow");e&&(this.navigateNext(e,t)||i&&(e.getElement().firstChild.blur(),this.invalidEdit||(i=!0===i?this.table.addRow({}):"function"==typeof i?this.table.addRow(i(e.row.getComponent())):this.table.addRow(Object.assign({},i))).then((()=>{setTimeout((()=>{e.getComponent().navigateNext()}))}))))}cellIsEdited(t){return!!t.modules.edit&&t.modules.edit.edited}cellCancelEdit(t){t===this.currentCell&&this.table.modules.edit.cancelEdit()}updateCellClass(t){this.allowEdit(t)?t.getElement().classList.add("tabulator-editable"):t.getElement().classList.remove("tabulator-editable")}clearCellEdited(t){t||(t=this.table.modules.edit.getEditedCells()),Array.isArray(t)||(t=[t]),t.forEach((t=>{this.table.modules.edit.clearEdited(t._getSelf())}))}navigatePrev(t=this.currentCell,e){var i,o;if(t){if(e&&e.preventDefault(),i=this.navigateLeft())return!0;if((o=this.table.rowManager.prevDisplayRow(t.row,!0))&&(i=this.findPrevEditableCell(o,o.cells.length)))return i.getComponent().edit(),!0}return!1}navigateNext(t=this.currentCell,e){var i,o;if(t){if(e&&e.preventDefault(),i=this.navigateRight())return!0;if((o=this.table.rowManager.nextDisplayRow(t.row,!0))&&(i=this.findNextEditableCell(o,-1)))return i.getComponent().edit(),!0}return!1}navigateLeft(t=this.currentCell,e){var i,o;return!!(t&&(e&&e.preventDefault(),i=t.getIndex(),o=this.findPrevEditableCell(t.row,i)))&&(o.getComponent().edit(),!0)}navigateRight(t=this.currentCell,e){var i,o;return!!(t&&(e&&e.preventDefault(),i=t.getIndex(),o=this.findNextEditableCell(t.row,i)))&&(o.getComponent().edit(),!0)}navigateUp(t=this.currentCell,e){var i,o;return!!(t&&(e&&e.preventDefault(),i=t.getIndex(),o=this.table.rowManager.prevDisplayRow(t.row,!0)))&&(o.cells[i].getComponent().edit(),!0)}navigateDown(t=this.currentCell,e){var i,o;return!!(t&&(e&&e.preventDefault(),i=t.getIndex(),o=this.table.rowManager.nextDisplayRow(t.row,!0)))&&(o.cells[i].getComponent().edit(),!0)}findNextEditableCell(t,e){var i=!1;if(e<t.cells.length-1)for(var o=e+1;o<t.cells.length;o++){let e=t.cells[o];if(e.column.modules.edit&&a.elVisible(e.getElement())){if(this.allowEdit(e)){i=e;break}}}return i}findPrevEditableCell(t,e){var i=!1;if(e>0)for(var o=e-1;o>=0;o--){let e=t.cells[o];if(e.column.modules.edit&&a.elVisible(e.getElement())){if(this.allowEdit(e)){i=e;break}}}return i}initializeColumnCheck(t){void 0!==t.definition.editor&&this.initializeColumn(t)}columnDeleteCheck(t){this.currentCell&&this.currentCell.column===t&&this.cancelEdit()}rowDeleteCheck(t){this.currentCell&&this.currentCell.row===t&&this.cancelEdit()}rowEditableCheck(t){t.getCells().forEach((t=>{t.column.modules.edit&&"function"==typeof t.column.modules.edit.check&&this.updateCellClass(t)}))}initializeColumn(t){var e={editor:!1,blocked:!1,check:t.definition.editable,params:t.definition.editorParams||{}};switch(typeof t.definition.editor){case"string":this.editors[t.definition.editor]&&(e.editor=this.editors[t.definition.editor]);break;case"function":e.editor=t.definition.editor;break;case"boolean":!0===t.definition.editor&&"function"!=typeof t.definition.formatter&&(this.editors[t.definition.formatter]?e.editor=this.editors[t.definition.formatter]:e.editor=this.editors.input)}e.editor&&(t.modules.edit=e)}getCurrentCell(){return!!this.currentCell&&this.currentCell.getComponent()}clearEditor(t){var e,i=this.currentCell;if(this.invalidEdit=!1,i){for(this.currentCell=!1,e=i.getElement(),this.dispatch("edit-editor-clear",i,t),e.classList.remove("tabulator-editing");e.firstChild;)e.removeChild(e.firstChild);i.row.getElement().classList.remove("tabulator-editing"),i.table.element.classList.remove("tabulator-editing")}}cancelEdit(){if(this.currentCell){var t=this.currentCell,e=this.currentCell.getComponent();this.clearEditor(!0),t.setValueActual(t.getValue()),t.cellRendered(),("textarea"==t.column.definition.editor||t.column.definition.variableHeight)&&t.row.normalizeHeight(!0),t.column.definition.cellEditCancelled&&t.column.definition.cellEditCancelled.call(this.table,e),this.dispatch("edit-cancelled",t),this.dispatchExternal("cellEditCancelled",e)}}bindEditor(t){if(t.column.modules.edit){var e=this,i=t.getElement(!0);this.updateCellClass(t),i.setAttribute("tabindex",0),i.addEventListener("mousedown",(function(t){2===t.button?t.preventDefault():e.mouseClick=!0})),"dblclick"===this.options("editTriggerEvent")&&i.addEventListener("dblclick",(function(o){i.classList.contains("tabulator-editing")||(i.focus({preventScroll:!0}),e.edit(t,o,!1))})),"focus"!==this.options("editTriggerEvent")&&"click"!==this.options("editTriggerEvent")||i.addEventListener("click",(function(o){i.classList.contains("tabulator-editing")||(i.focus({preventScroll:!0}),e.edit(t,o,!1))})),"focus"===this.options("editTriggerEvent")&&i.addEventListener("focus",(function(i){e.recursionBlock||e.edit(t,i,!1)}))}}focusCellNoEvent(t,e){this.recursionBlock=!0,e&&"ie"===this.table.browser||t.getElement().focus({preventScroll:!0}),this.recursionBlock=!1}editCell(t,e){this.focusCellNoEvent(t),this.edit(t,!1,e)}focusScrollAdjust(t){if("virtual"==this.table.rowManager.getRenderMode()){var e=this.table.rowManager.element.scrollTop,i=this.table.rowManager.element.clientHeight+this.table.rowManager.element.scrollTop,o=t.row.getElement();o.offsetTop<e?this.table.rowManager.element.scrollTop-=e-o.offsetTop:o.offsetTop+o.offsetHeight>i&&(this.table.rowManager.element.scrollTop+=o.offsetTop+o.offsetHeight-i);var r=this.table.rowManager.element.scrollLeft,n=this.table.rowManager.element.clientWidth+this.table.rowManager.element.scrollLeft,a=t.getElement();this.table.modExists("frozenColumns")&&(r+=parseInt(this.table.modules.frozenColumns.leftMargin||0),n-=parseInt(this.table.modules.frozenColumns.rightMargin||0)),"virtual"===this.table.options.renderHorizontal&&(r-=parseInt(this.table.columnManager.renderer.vDomPadLeft),n-=parseInt(this.table.columnManager.renderer.vDomPadLeft)),a.offsetLeft<r?this.table.rowManager.element.scrollLeft-=r-a.offsetLeft:a.offsetLeft+a.offsetWidth>n&&(this.table.rowManager.element.scrollLeft+=a.offsetLeft+a.offsetWidth-n)}}allowEdit(t){var e=!!t.column.modules.edit;if(t.column.modules.edit)switch(typeof t.column.modules.edit.check){case"function":t.row.initialized&&(e=t.column.modules.edit.check(t.getComponent()));break;case"string":e=!!t.row.data[t.column.modules.edit.check];break;case"boolean":e=t.column.modules.edit.check}return e}edit(t,e,i){var o,r,n,a=this,s=function(){},l=t.getElement(),u=!1;if(!this.currentCell){if(t.column.modules.edit.blocked)return this.mouseClick=!1,this.blur(l),!1;if(e&&e.stopPropagation(),this.allowEdit(t)||i){if(a.cancelEdit(),a.currentCell=t,this.focusScrollAdjust(t),r=t.getComponent(),this.mouseClick&&(this.mouseClick=!1,t.column.definition.cellClick&&t.column.definition.cellClick.call(this.table,e,r)),t.column.definition.cellEditing&&t.column.definition.cellEditing.call(this.table,r),this.dispatch("cell-editing",t),this.dispatchExternal("cellEditing",r),n="function"==typeof t.column.modules.edit.params?t.column.modules.edit.params(r):t.column.modules.edit.params,o=t.column.modules.edit.editor.call(a,r,(function(t){s=t}),(function(e){if(a.currentCell===t&&!u){var i=a.chain("edit-success",[t,e],!0,!0);return!0===i||"highlight"===a.table.options.validationMode?(u=!0,a.clearEditor(),t.modules.edit||(t.modules.edit={}),t.modules.edit.edited=!0,-1==a.editedCells.indexOf(t)&&a.editedCells.push(t),t.setValue(e,!0),!0===i):(u=!0,a.invalidEdit=!0,a.focusCellNoEvent(t,!0),s(),setTimeout((()=>{u=!1}),10),!1)}}),(function(){a.currentCell!==t||u||a.cancelEdit()}),n),!this.currentCell||!1===o)return this.blur(l),!1;if(!(o instanceof Node))return this.blur(l),!1;for(l.classList.add("tabulator-editing"),t.row.getElement().classList.add("tabulator-editing"),t.table.element.classList.add("tabulator-editing");l.firstChild;)l.removeChild(l.firstChild);l.appendChild(o),s();for(var h=l.children,c=0;c<h.length;c++)h[c].addEventListener("click",(function(t){t.stopPropagation()}));return!0}return this.mouseClick=!1,this.blur(l),!1}this.invalidEdit||this.currentCell===t||this.cancelEdit()}blur(t){this.confirm("edit-blur",[t])||t.blur()}getEditedCells(){var t=[];return this.editedCells.forEach((e=>{t.push(e.getComponent())})),t}clearEdited(t){var e;t.modules.edit&&t.modules.edit.edited&&(t.modules.edit.edited=!1,this.dispatch("edit-edited-clear",t)),(e=this.editedCells.indexOf(t))>-1&&this.editedCells.splice(e,1)}}D.moduleName="edit",D.editors=z;class L{constructor(t,e,i,o){this.type=t,this.columns=e,this.component=i||!1,this.indent=o||0}}class P{constructor(t,e,i,o,r){this.value=t,this.component=e||!1,this.width=i,this.height=o,this.depth=r}}class F extends l{constructor(t){super(t),this.config={},this.cloneTableStyle=!0,this.colVisProp="",this.registerTableOption("htmlOutputConfig",!1),this.registerColumnOption("htmlOutput"),this.registerColumnOption("titleHtmlOutput")}initialize(){this.registerTableFunction("getHtml",this.getHtml.bind(this))}generateExportList(t,e,i,o){var r,n;if(this.cloneTableStyle=e,this.config=t||{},this.colVisProp=o,"range"===i){var a=this.table.modules.selectRange.selectedColumns();r=!1!==this.config.columnHeaders?this.headersToExportRows(this.generateColumnGroupHeaders(a)):[],n=this.bodyToExportRows(this.rowLookup(i),this.table.modules.selectRange.selectedColumns(!0))}else r=!1!==this.config.columnHeaders?this.headersToExportRows(this.generateColumnGroupHeaders()):[],n=this.bodyToExportRows(this.rowLookup(i));return r.concat(n)}generateTable(t,e,i,o){var r=this.generateExportList(t,e,i,o);return this.generateTableElement(r)}rowLookup(t){var e=[];if("function"==typeof t)t.call(this.table).forEach((t=>{(t=this.table.rowManager.findRow(t))&&e.push(t)}));else switch(t){case!0:case"visible":e=this.table.rowManager.getVisibleRows(!1,!0);break;case"all":e=this.table.rowManager.rows;break;case"selected":e=this.table.modules.selectRow.selectedRows;break;case"range":e=this.table.modules.selectRange.selectedRows();break;default:e=this.table.options.pagination?this.table.rowManager.getDisplayRows(this.table.rowManager.displayRows.length-2):this.table.rowManager.getDisplayRows()}return Object.assign([],e)}generateColumnGroupHeaders(t){var e=[];return t||(t=!1!==this.config.columnGroups?this.table.columnManager.columns:this.table.columnManager.columnsByIndex),t.forEach((t=>{var i=this.processColumnGroup(t);i&&e.push(i)})),e}processColumnGroup(t){var e=t.columns,i=0,o={title:t.definition["title"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))]||t.definition.title,column:t,depth:1};if(e.length){if(o.subGroups=[],o.width=0,e.forEach((t=>{var e=this.processColumnGroup(t);e&&(o.width+=e.width,o.subGroups.push(e),e.depth>i&&(i=e.depth))})),o.depth+=i,!o.width)return!1}else{if(!this.columnVisCheck(t))return!1;o.width=1}return o}columnVisCheck(t){var e=t.definition[this.colVisProp];return"function"==typeof e&&(e=e.call(this.table,t.getComponent())),!1!==e&&(t.visible||!t.visible&&e)}headersToExportRows(t){var e=[],i=0,o=[];function r(t,o){var n=i-o;if(void 0===e[o]&&(e[o]=[]),t.height=t.subGroups?1:n-t.depth+1,e[o].push(t),t.height>1)for(let i=1;i<t.height;i++)void 0===e[o+i]&&(e[o+i]=[]),e[o+i].push(!1);if(t.width>1)for(let i=1;i<t.width;i++)e[o].push(!1);t.subGroups&&t.subGroups.forEach((function(t){r(t,o+1)}))}return t.forEach((function(t){t.depth>i&&(i=t.depth)})),t.forEach((function(t){r(t,0)})),e.forEach((t=>{var e=[];t.forEach((t=>{if(t){let i=void 0===t.title?"":t.title;e.push(new P(i,t.column.getComponent(),t.width,t.height,t.depth))}else e.push(null)})),o.push(new L("header",e))})),o}bodyToExportRows(t,e=[]){var i=[];return 0===e.length&&this.table.columnManager.columnsByIndex.forEach((t=>{this.columnVisCheck(t)&&e.push(t.getComponent())})),!1!==this.config.columnCalcs&&this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&t.unshift(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&t.push(this.table.modules.columnCalcs.botRow)),(t=t.filter((t=>{switch(t.type){case"group":return!1!==this.config.rowGroups;case"calc":return!1!==this.config.columnCalcs;case"row":return!(this.table.options.dataTree&&!1===this.config.dataTree&&t.modules.dataTree.parent)}return!0}))).forEach(((t,o)=>{var r=t.getData(this.colVisProp),n=[],a=0;switch(t.type){case"group":a=t.level,n.push(new P(t.key,t.getComponent(),e.length,1));break;case"calc":case"row":e.forEach((t=>{n.push(new P(t._column.getFieldValue(r),t,1,1))})),this.table.options.dataTree&&!1!==this.config.dataTree&&(a=t.modules.dataTree.index)}i.push(new L(t.type,n,t.getComponent(),a))})),i}generateTableElement(t){var e=document.createElement("table"),i=document.createElement("thead"),o=document.createElement("tbody"),r=this.lookupTableStyles(),n=this.table.options["rowFormatter"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))],a={};return a.rowFormatter=null!==n?n:this.table.options.rowFormatter,this.table.options.dataTree&&!1!==this.config.dataTree&&this.table.modExists("columnCalcs")&&(a.treeElementField=this.table.modules.dataTree.elementField),a.groupHeader=this.table.options["groupHeader"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))],a.groupHeader&&!Array.isArray(a.groupHeader)&&(a.groupHeader=[a.groupHeader]),e.classList.add("tabulator-print-table"),this.mapElementStyles(this.table.columnManager.getHeadersElement(),i,["border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),t.length,t.forEach(((t,e)=>{let n;switch(t.type){case"header":i.appendChild(this.generateHeaderElement(t,a,r));break;case"group":o.appendChild(this.generateGroupElement(t,a,r));break;case"calc":o.appendChild(this.generateCalcElement(t,a,r));break;case"row":n=this.generateRowElement(t,a,r),this.mapElementStyles(e%2&&r.evenRow?r.evenRow:r.oddRow,n,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),o.appendChild(n)}})),i.innerHTML&&e.appendChild(i),e.appendChild(o),this.mapElementStyles(this.table.element,e,["border-top","border-left","border-right","border-bottom"]),e}lookupTableStyles(){var t={};return this.cloneTableStyle&&window.getComputedStyle&&(t.oddRow=this.table.element.querySelector(".tabulator-row-odd:not(.tabulator-group):not(.tabulator-calcs)"),t.evenRow=this.table.element.querySelector(".tabulator-row-even:not(.tabulator-group):not(.tabulator-calcs)"),t.calcRow=this.table.element.querySelector(".tabulator-row.tabulator-calcs"),t.firstRow=this.table.element.querySelector(".tabulator-row:not(.tabulator-group):not(.tabulator-calcs)"),t.firstGroup=this.table.element.getElementsByClassName("tabulator-group")[0],t.firstRow&&(t.styleCells=t.firstRow.getElementsByClassName("tabulator-cell"),t.firstCell=t.styleCells[0],t.lastCell=t.styleCells[t.styleCells.length-1])),t}generateHeaderElement(t,e,i){var o=document.createElement("tr");return t.columns.forEach((t=>{if(t){var e=document.createElement("th"),i=t.component._column.definition.cssClass?t.component._column.definition.cssClass.split(" "):[];e.colSpan=t.width,e.rowSpan=t.height,e.innerHTML=t.value,this.cloneTableStyle&&(e.style.boxSizing="border-box"),i.forEach((function(t){e.classList.add(t)})),this.mapElementStyles(t.component.getElement(),e,["text-align","border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),this.mapElementStyles(t.component._column.contentElement,e,["padding-top","padding-left","padding-right","padding-bottom"]),t.component._column.visible?this.mapElementStyles(t.component.getElement(),e,["width"]):t.component._column.definition.width&&(e.style.width=t.component._column.definition.width+"px"),t.component._column.parent&&this.mapElementStyles(t.component._column.parent.groupElement,e,["border-top"]),o.appendChild(e)}})),o}generateGroupElement(t,e,i){var o=document.createElement("tr"),r=document.createElement("td"),n=t.columns[0];return o.classList.add("tabulator-print-table-row"),e.groupHeader&&e.groupHeader[t.indent]?n.value=e.groupHeader[t.indent](n.value,t.component._group.getRowCount(),t.component._group.getData(),t.component):!1!==e.groupHeader&&(n.value=t.component._group.generator(n.value,t.component._group.getRowCount(),t.component._group.getData(),t.component)),r.colSpan=n.width,r.innerHTML=n.value,o.classList.add("tabulator-print-table-group"),o.classList.add("tabulator-group-level-"+t.indent),n.component.isVisible()&&o.classList.add("tabulator-group-visible"),this.mapElementStyles(i.firstGroup,o,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),this.mapElementStyles(i.firstGroup,r,["padding-top","padding-left","padding-right","padding-bottom"]),o.appendChild(r),o}generateCalcElement(t,e,i){var o=this.generateRowElement(t,e,i);return o.classList.add("tabulator-print-table-calcs"),this.mapElementStyles(i.calcRow,o,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),o}generateRowElement(t,e,i){var o=document.createElement("tr");if(o.classList.add("tabulator-print-table-row"),t.columns.forEach(((r,n)=>{if(r){var a,s=document.createElement("td"),l=r.component._column,u=this.table,h=u.columnManager.findColumnIndex(l),c=r.value,d={modules:{},getValue:function(){return c},getField:function(){return l.definition.field},getElement:function(){return s},getType:function(){return"cell"},getColumn:function(){return l.getComponent()},getData:function(){return t.component.getData()},getRow:function(){return t.component},getTable:function(){return u},getComponent:function(){return d},column:l};if((l.definition.cssClass?l.definition.cssClass.split(" "):[]).forEach((function(t){s.classList.add(t)})),this.table.modExists("format")&&!1!==this.config.formatCells)c=this.table.modules.format.formatExportValue(d,this.colVisProp);else switch(typeof c){case"object":c=null!==c?JSON.stringify(c):"";break;case"undefined":c=""}c instanceof Node?s.appendChild(c):s.innerHTML=c,(a=i.styleCells&&i.styleCells[h]?i.styleCells[h]:i.firstCell)&&(this.mapElementStyles(a,s,["padding-top","padding-left","padding-right","padding-bottom","border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","text-align"]),l.definition.align&&(s.style.textAlign=l.definition.align)),this.table.options.dataTree&&!1!==this.config.dataTree&&(e.treeElementField&&e.treeElementField==l.field||!e.treeElementField&&0==n)&&(t.component._row.modules.dataTree.controlEl&&s.insertBefore(t.component._row.modules.dataTree.controlEl.cloneNode(!0),s.firstChild),t.component._row.modules.dataTree.branchEl&&s.insertBefore(t.component._row.modules.dataTree.branchEl.cloneNode(!0),s.firstChild)),o.appendChild(s),d.modules.format&&d.modules.format.renderedCallback&&d.modules.format.renderedCallback()}})),e.rowFormatter&&"row"===t.type&&!1!==this.config.formatCells){Object.assign(t.component).getElement=function(){return o},e.rowFormatter(t.component)}return o}generateHTMLTable(t){var e=document.createElement("div");return e.appendChild(this.generateTableElement(t)),e.innerHTML}getHtml(t,e,i,o){var r=this.generateExportList(i||this.table.options.htmlOutputConfig,e,t,o||"htmlOutput");return this.generateHTMLTable(r)}mapElementStyles(t,e,i){if(this.cloneTableStyle&&t&&e){var o={"background-color":"backgroundColor",color:"fontColor",width:"width","font-weight":"fontWeight","font-family":"fontFamily","font-size":"fontSize","text-align":"textAlign","border-top":"borderTop","border-left":"borderLeft","border-right":"borderRight","border-bottom":"borderBottom","padding-top":"paddingTop","padding-left":"paddingLeft","padding-right":"paddingRight","padding-bottom":"paddingBottom"};if(window.getComputedStyle){var r=window.getComputedStyle(t);i.forEach((function(t){e.style[o[t]]||(e.style[o[t]]=r.getPropertyValue(t))}))}}}}F.moduleName="export";var O={"=":function(t,e,i,o){return e==t},"<":function(t,e,i,o){return e<t},"<=":function(t,e,i,o){return e<=t},">":function(t,e,i,o){return e>t},">=":function(t,e,i,o){return e>=t},"!=":function(t,e,i,o){return e!=t},regex:function(t,e,i,o){return"string"==typeof t&&(t=new RegExp(t)),t.test(e)},like:function(t,e,i,o){return null==t?e===t:null!=e&&String(e).toLowerCase().indexOf(t.toLowerCase())>-1},keywords:function(t,e,i,o){var r=t.toLowerCase().split(void 0===o.separator?" ":o.separator),n=String(null==e?"":e).toLowerCase(),a=[];return r.forEach((t=>{n.includes(t)&&a.push(!0)})),o.matchAll?a.length===r.length:!!a.length},starts:function(t,e,i,o){return null==t?e===t:null!=e&&String(e).toLowerCase().startsWith(t.toLowerCase())},ends:function(t,e,i,o){return null==t?e===t:null!=e&&String(e).toLowerCase().endsWith(t.toLowerCase())},in:function(t,e,i,o){return!!Array.isArray(t)&&(!t.length||t.indexOf(e)>-1)}};class H extends l{constructor(t){super(t),this.filterList=[],this.headerFilters={},this.headerFilterColumns=[],this.prevHeaderFilterChangeCheck="",this.prevHeaderFilterChangeCheck="{}",this.changed=!1,this.tableInitialized=!1,this.registerTableOption("filterMode","local"),this.registerTableOption("initialFilter",!1),this.registerTableOption("initialHeaderFilter",!1),this.registerTableOption("headerFilterLiveFilterDelay",300),this.registerTableOption("placeholderHeaderFilter",!1),this.registerColumnOption("headerFilter"),this.registerColumnOption("headerFilterPlaceholder"),this.registerColumnOption("headerFilterParams"),this.registerColumnOption("headerFilterEmptyCheck"),this.registerColumnOption("headerFilterFunc"),this.registerColumnOption("headerFilterFuncParams"),this.registerColumnOption("headerFilterLiveFilter"),this.registerTableFunction("searchRows",this.searchRows.bind(this)),this.registerTableFunction("searchData",this.searchData.bind(this)),this.registerTableFunction("setFilter",this.userSetFilter.bind(this)),this.registerTableFunction("refreshFilter",this.userRefreshFilter.bind(this)),this.registerTableFunction("addFilter",this.userAddFilter.bind(this)),this.registerTableFunction("getFilters",this.getFilters.bind(this)),this.registerTableFunction("setHeaderFilterFocus",this.userSetHeaderFilterFocus.bind(this)),this.registerTableFunction("getHeaderFilterValue",this.userGetHeaderFilterValue.bind(this)),this.registerTableFunction("setHeaderFilterValue",this.userSetHeaderFilterValue.bind(this)),this.registerTableFunction("getHeaderFilters",this.getHeaderFilters.bind(this)),this.registerTableFunction("removeFilter",this.userRemoveFilter.bind(this)),this.registerTableFunction("clearFilter",this.userClearFilter.bind(this)),this.registerTableFunction("clearHeaderFilter",this.userClearHeaderFilter.bind(this)),this.registerComponentFunction("column","headerFilterFocus",this.setHeaderFilterFocus.bind(this)),this.registerComponentFunction("column","reloadHeaderFilter",this.reloadHeaderFilter.bind(this)),this.registerComponentFunction("column","getHeaderFilterValue",this.getHeaderFilterValue.bind(this)),this.registerComponentFunction("column","setHeaderFilterValue",this.setHeaderFilterValue.bind(this))}initialize(){this.subscribe("column-init",this.initializeColumnHeaderFilter.bind(this)),this.subscribe("column-width-fit-before",this.hideHeaderFilterElements.bind(this)),this.subscribe("column-width-fit-after",this.showHeaderFilterElements.bind(this)),this.subscribe("table-built",this.tableBuilt.bind(this)),this.subscribe("placeholder",this.generatePlaceholder.bind(this)),"remote"===this.table.options.filterMode&&this.subscribe("data-params",this.remoteFilterParams.bind(this)),this.registerDataHandler(this.filter.bind(this),10)}tableBuilt(){this.table.options.initialFilter&&this.setFilter(this.table.options.initialFilter),this.table.options.initialHeaderFilter&&this.table.options.initialHeaderFilter.forEach((t=>{var e=this.table.columnManager.findColumn(t.field);if(!e)return!1;this.setHeaderFilterValue(e,t.value)})),this.tableInitialized=!0}remoteFilterParams(t,e,i,o){return o.filter=this.getFilters(!0,!0),o}generatePlaceholder(t){if(this.table.options.placeholderHeaderFilter&&Object.keys(this.headerFilters).length)return this.table.options.placeholderHeaderFilter}userSetFilter(t,e,i,o){this.setFilter(t,e,i,o),this.refreshFilter()}userRefreshFilter(){this.refreshFilter()}userAddFilter(t,e,i,o){this.addFilter(t,e,i,o),this.refreshFilter()}userSetHeaderFilterFocus(t){var e=this.table.columnManager.findColumn(t);if(!e)return!1;this.setHeaderFilterFocus(e)}userGetHeaderFilterValue(t){var e=this.table.columnManager.findColumn(t);if(e)return this.getHeaderFilterValue(e)}userSetHeaderFilterValue(t,e){var i=this.table.columnManager.findColumn(t);if(!i)return!1;this.setHeaderFilterValue(i,e)}userRemoveFilter(t,e,i){this.removeFilter(t,e,i),this.refreshFilter()}userClearFilter(t){this.clearFilter(t),this.refreshFilter()}userClearHeaderFilter(){this.clearHeaderFilter(),this.refreshFilter()}searchRows(t,e,i){return this.search("rows",t,e,i)}searchData(t,e,i){return this.search("data",t,e,i)}initializeColumnHeaderFilter(t){t.definition.headerFilter&&this.initializeColumn(t)}initializeColumn(t,e){var i=this,o=t.getField();t.modules.filter={success:function(e){var r,n="input"==t.modules.filter.tagType&&"text"==t.modules.filter.attrType||"textarea"==t.modules.filter.tagType?"partial":"match",a="",s="";if(void 0===t.modules.filter.prevSuccess||t.modules.filter.prevSuccess!==e){if(t.modules.filter.prevSuccess=e,t.modules.filter.emptyFunc(e))delete i.headerFilters[o];else{switch(t.modules.filter.value=e,typeof t.definition.headerFilterFunc){case"string":H.filters[t.definition.headerFilterFunc]&&(a=t.definition.headerFilterFunc,r=function(i){var o=t.definition.headerFilterFuncParams||{},r=t.getFieldValue(i);return o="function"==typeof o?o(e,r,i):o,H.filters[t.definition.headerFilterFunc](e,r,i,o)});break;case"function":a=r=function(i){var o=t.definition.headerFilterFuncParams||{},r=t.getFieldValue(i);return o="function"==typeof o?o(e,r,i):o,t.definition.headerFilterFunc(e,r,i,o)}}if(!r)if("partial"===n)r=function(i){var o=t.getFieldValue(i);return null!=o&&String(o).toLowerCase().indexOf(String(e).toLowerCase())>-1},a="like";else r=function(i){return t.getFieldValue(i)==e},a="=";i.headerFilters[o]={value:e,func:r,type:a}}t.modules.filter.value=e,s=JSON.stringify(i.headerFilters),i.prevHeaderFilterChangeCheck!==s&&(i.prevHeaderFilterChangeCheck=s,i.trackChanges(),i.refreshFilter())}return!0},attrType:!1,tagType:!1,emptyFunc:!1},this.generateHeaderFilterElement(t)}generateHeaderFilterElement(t,e,i){var o,r,n,a,s,l,u,h,c=this,d=t.modules.filter.success,p=t.getField();if(t.modules.filter.value=e,t.modules.filter.headerElement&&t.modules.filter.headerElement.parentNode&&t.contentElement.removeChild(t.modules.filter.headerElement.parentNode),p){switch(t.modules.filter.emptyFunc=t.definition.headerFilterEmptyCheck||function(t){return!t&&0!==t},(o=document.createElement("div")).classList.add("tabulator-header-filter"),typeof t.definition.headerFilter){case"string":c.table.modules.edit.editors[t.definition.headerFilter]&&(r=c.table.modules.edit.editors[t.definition.headerFilter],"tick"!==t.definition.headerFilter&&"tickCross"!==t.definition.headerFilter||t.definition.headerFilterEmptyCheck||(t.modules.filter.emptyFunc=function(t){return!0!==t&&!1!==t}));break;case"function":r=t.definition.headerFilter;break;case"boolean":t.modules.edit&&t.modules.edit.editor?r=t.modules.edit.editor:t.definition.formatter&&c.table.modules.edit.editors[t.definition.formatter]?(r=c.table.modules.edit.editors[t.definition.formatter],"tick"!==t.definition.formatter&&"tickCross"!==t.definition.formatter||t.definition.headerFilterEmptyCheck||(t.modules.filter.emptyFunc=function(t){return!0!==t&&!1!==t})):r=c.table.modules.edit.editors.input}if(r){if(a={getValue:function(){return void 0!==e?e:""},getField:function(){return t.definition.field},getElement:function(){return o},getColumn:function(){return t.getComponent()},getTable:()=>this.table,getType:()=>"header",getRow:function(){return{normalizeHeight:function(){}}}},u="function"==typeof(u=t.definition.headerFilterParams||{})?u.call(c.table,a):u,n=r.call(this.table.modules.edit,a,(function(t){h=t}),d,(function(){}),u),!n)return;if(!(n instanceof Node))return;c.langBind("headerFilters|columns|"+t.definition.field,(function(e){n.setAttribute("placeholder",void 0!==e&&e?e:t.definition.headerFilterPlaceholder||c.langText("headerFilters|default"))})),n.addEventListener("click",(function(t){t.stopPropagation(),n.focus()})),n.addEventListener("focus",(t=>{var e=this.table.columnManager.contentsElement.scrollLeft;e!==this.table.rowManager.element.scrollLeft&&(this.table.rowManager.scrollHorizontal(e),this.table.columnManager.scrollHorizontal(e))})),s=!1,l=function(t){s&&clearTimeout(s),s=setTimeout((function(){d(n.value)}),c.table.options.headerFilterLiveFilterDelay)},t.modules.filter.headerElement=n,t.modules.filter.attrType=n.hasAttribute("type")?n.getAttribute("type").toLowerCase():"",t.modules.filter.tagType=n.tagName.toLowerCase(),!1!==t.definition.headerFilterLiveFilter&&("autocomplete"!==t.definition.headerFilter&&"tickCross"!==t.definition.headerFilter&&("autocomplete"!==t.definition.editor&&"tickCross"!==t.definition.editor||!0!==t.definition.headerFilter)&&(n.addEventListener("keyup",l),n.addEventListener("search",l),"number"==t.modules.filter.attrType&&n.addEventListener("change",(function(t){d(n.value)})),"text"==t.modules.filter.attrType&&"ie"!==this.table.browser&&n.setAttribute("type","search")),"input"!=t.modules.filter.tagType&&"select"!=t.modules.filter.tagType&&"textarea"!=t.modules.filter.tagType||n.addEventListener("mousedown",(function(t){t.stopPropagation()}))),o.appendChild(n),t.contentElement.appendChild(o),i||c.headerFilterColumns.push(t),h&&h()}}}hideHeaderFilterElements(){this.headerFilterColumns.forEach((function(t){t.modules.filter&&t.modules.filter.headerElement&&(t.modules.filter.headerElement.style.display="none")}))}showHeaderFilterElements(){this.headerFilterColumns.forEach((function(t){t.modules.filter&&t.modules.filter.headerElement&&(t.modules.filter.headerElement.style.display="")}))}setHeaderFilterFocus(t){t.modules.filter&&t.modules.filter.headerElement&&t.modules.filter.headerElement.focus()}getHeaderFilterValue(t){if(t.modules.filter&&t.modules.filter.headerElement)return t.modules.filter.value}setHeaderFilterValue(t,e){t&&t.modules.filter&&t.modules.filter.headerElement&&(this.generateHeaderFilterElement(t,e,!0),t.modules.filter.success(e))}reloadHeaderFilter(t){t&&t.modules.filter&&t.modules.filter.headerElement&&this.generateHeaderFilterElement(t,t.modules.filter.value,!0)}refreshFilter(){this.tableInitialized&&("remote"===this.table.options.filterMode?this.reloadData(null,!1,!1):this.refreshData(!0))}trackChanges(){this.changed=!0,this.dispatch("filter-changed")}hasChanged(){var t=this.changed;return this.changed=!1,t}setFilter(t,e,i,o){this.filterList=[],Array.isArray(t)||(t=[{field:t,type:e,value:i,params:o}]),this.addFilter(t)}addFilter(t,e,i,o){var r=!1;Array.isArray(t)||(t=[{field:t,type:e,value:i,params:o}]),t.forEach((t=>{(t=this.findFilter(t))&&(this.filterList.push(t),r=!0)})),r&&this.trackChanges()}findFilter(t){var e;if(Array.isArray(t))return this.findSubFilters(t);var i=!1;return"function"==typeof t.field?i=function(e){return t.field(e,t.type||{})}:H.filters[t.type]&&(i=(e=this.table.columnManager.getColumnByField(t.field))?function(i){return H.filters[t.type](t.value,e.getFieldValue(i),i,t.params||{})}:function(e){return H.filters[t.type](t.value,e[t.field],e,t.params||{})}),t.func=i,!!t.func&&t}findSubFilters(t){var e=[];return t.forEach((t=>{(t=this.findFilter(t))&&e.push(t)})),!!e.length&&e}getFilters(t,e){var i=[];return t&&(i=this.getHeaderFilters()),e&&i.forEach((function(t){"function"==typeof t.type&&(t.type="function")})),i=i.concat(this.filtersToArray(this.filterList,e))}filtersToArray(t,e){var i=[];return t.forEach((t=>{var o;Array.isArray(t)?i.push(this.filtersToArray(t,e)):(o={field:t.field,type:t.type,value:t.value},e&&"function"==typeof o.type&&(o.type="function"),i.push(o))})),i}getHeaderFilters(){var t=[];for(var e in this.headerFilters)t.push({field:e,type:this.headerFilters[e].type,value:this.headerFilters[e].value});return t}removeFilter(t,e,i){Array.isArray(t)||(t=[{field:t,type:e,value:i}]),t.forEach((t=>{var e=-1;(e="object"==typeof t.field?this.filterList.findIndex((e=>t===e)):this.filterList.findIndex((e=>t.field===e.field&&t.type===e.type&&t.value===e.value)))>-1&&this.filterList.splice(e,1)})),this.trackChanges()}clearFilter(t){this.filterList=[],t&&this.clearHeaderFilter(),this.trackChanges()}clearHeaderFilter(){this.headerFilters={},this.prevHeaderFilterChangeCheck="{}",this.headerFilterColumns.forEach((t=>{void 0!==t.modules.filter.value&&delete t.modules.filter.value,t.modules.filter.prevSuccess=void 0,this.reloadHeaderFilter(t)})),this.trackChanges()}search(t,e,i,o){var r=[],n=[];return Array.isArray(e)||(e=[{field:e,type:i,value:o}]),e.forEach((t=>{(t=this.findFilter(t))&&n.push(t)})),this.table.rowManager.rows.forEach((e=>{var i=!0;n.forEach((t=>{this.filterRecurse(t,e.getData())||(i=!1)})),i&&r.push("data"===t?e.getData("data"):e.getComponent())})),r}filter(t,e){var i=[],o=[];return this.subscribedExternal("dataFiltering")&&this.dispatchExternal("dataFiltering",this.getFilters(!0)),"remote"!==this.table.options.filterMode&&(this.filterList.length||Object.keys(this.headerFilters).length)?t.forEach((t=>{this.filterRow(t)&&i.push(t)})):i=t.slice(0),this.subscribedExternal("dataFiltered")&&(i.forEach((t=>{o.push(t.getComponent())})),this.dispatchExternal("dataFiltered",this.getFilters(!0),o)),i}filterRow(t,e){var i=!0,o=t.getData();for(var r in this.filterList.forEach((t=>{this.filterRecurse(t,o)||(i=!1)})),this.headerFilters)this.headerFilters[r].func(o)||(i=!1);return i}filterRecurse(t,e){var i=!1;return Array.isArray(t)?t.forEach((t=>{this.filterRecurse(t,e)&&(i=!0)})):i=t.func(e),i}}H.moduleName="filter",H.filters=O;var I={plaintext:function(t,e,i){return this.emptyToSpace(this.sanitizeHTML(t.getValue()))},html:function(t,e,i){return t.getValue()},textarea:function(t,e,i){return t.getElement().style.whiteSpace="pre-wrap",this.emptyToSpace(this.sanitizeHTML(t.getValue()))},money:function(t,e,i){var o,r,n,a,s,l=parseFloat(t.getValue()),u="",h=e.decimal||".",c=e.thousand||",",d=e.negativeSign||"-",p=e.symbol||"",b=!!e.symbolAfter,g=void 0!==e.precision?e.precision:2;if(isNaN(l))return this.emptyToSpace(this.sanitizeHTML(t.getValue()));if(l<0&&(l=Math.abs(l),u=d),o=!1!==g?l.toFixed(g):l,r=(o=String(o).split("."))[0],n=o.length>1?h+o[1]:"",!1!==e.thousand)for(a=/(\d+)(\d{3})/;a.test(r);)r=r.replace(a,"$1"+c+"$2");return s=r+n,!0===u?(s="("+s+")",b?s+p:p+s):b?u+s+p:u+p+s},link:function(t,e,i){var o,r=t.getValue(),n=e.urlPrefix||"",s=e.download,l=r,u=document.createElement("a");if(e.labelField&&(o=t.getData(),l=function t(e,i){var o=i[e.shift()];return e.length&&"object"==typeof o?t(e,o):o}(e.labelField.split(this.table.options.nestedFieldSeparator),o)),e.label)switch(typeof e.label){case"string":l=e.label;break;case"function":l=e.label(t)}if(l){if(e.urlField&&(o=t.getData(),r=a.retrieveNestedData(this.table.options.nestedFieldSeparator,e.urlField,o)),e.url)switch(typeof e.url){case"string":r=e.url;break;case"function":r=e.url(t)}return u.setAttribute("href",n+r),e.target&&u.setAttribute("target",e.target),e.download&&(s="function"==typeof s?s(t):!0===s?"":s,u.setAttribute("download",s)),u.innerHTML=this.emptyToSpace(this.sanitizeHTML(l)),u}return"&nbsp;"},image:function(t,e,i){var o=document.createElement("img"),r=t.getValue();switch(e.urlPrefix&&(r=e.urlPrefix+t.getValue()),e.urlSuffix&&(r+=e.urlSuffix),o.setAttribute("src",r),typeof e.height){case"number":o.style.height=e.height+"px";break;case"string":o.style.height=e.height}switch(typeof e.width){case"number":o.style.width=e.width+"px";break;case"string":o.style.width=e.width}return o.addEventListener("load",(function(){t.getRow().normalizeHeight()})),o},tickCross:function(t,e,i){var o=t.getValue(),r=t.getElement(),n=e.allowEmpty,a=e.allowTruthy,s=Object.keys(e).includes("trueValue"),l=void 0!==e.tickElement?e.tickElement:'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>',u=void 0!==e.crossElement?e.crossElement:'<svg enable-background="new 0 0 24 24" height="14" width="14"  viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>';return s&&o===e.trueValue||!s&&(a&&o||!0===o||"true"===o||"True"===o||1===o||"1"===o)?(r.setAttribute("aria-checked",!0),l||""):!n||"null"!==o&&""!==o&&null!=o?(r.setAttribute("aria-checked",!1),u||""):(r.setAttribute("aria-checked","mixed"),"")},datetime:function(t,e,i){var o,r=window.DateTime||luxon.DateTime,n=e.inputFormat||"yyyy-MM-dd HH:mm:ss",a=e.outputFormat||"dd/MM/yyyy HH:mm:ss",s=void 0!==e.invalidPlaceholder?e.invalidPlaceholder:"",l=t.getValue();if(void 0!==r)return(o=r.isDateTime(l)?l:"iso"===n?r.fromISO(String(l)):r.fromFormat(String(l),n)).isValid?(e.timezone&&(o=o.setZone(e.timezone)),o.toFormat(a)):!0!==s&&l?"function"==typeof s?s(l):s:l},datetimediff:function(t,e,i){var o,r=window.DateTime||luxon.DateTime,n=e.inputFormat||"yyyy-MM-dd HH:mm:ss",a=void 0!==e.invalidPlaceholder?e.invalidPlaceholder:"",s=void 0!==e.suffix&&e.suffix,l=void 0!==e.unit?e.unit:"days",u=void 0!==e.humanize&&e.humanize,h=void 0!==e.date?e.date:r.now(),c=t.getValue();if(void 0!==r)return(o=r.isDateTime(c)?c:"iso"===n?r.fromISO(String(c)):r.fromFormat(String(c),n)).isValid?u?o.diff(h,l).toHuman()+(s?" "+s:""):parseInt(o.diff(h,l)[l])+(s?" "+s:""):!0===a?c:"function"==typeof a?a(c):a},lookup:function(t,e,i){var o=t.getValue();return void 0===e[o]?o:e[o]},star:function(t,e,i){var o=t.getValue(),r=t.getElement(),n=e&&e.stars?e.stars:5,a=document.createElement("span"),s=document.createElementNS("http://www.w3.org/2000/svg","svg");a.style.verticalAlign="middle",s.setAttribute("width","14"),s.setAttribute("height","14"),s.setAttribute("viewBox","0 0 512 512"),s.setAttribute("xml:space","preserve"),s.style.padding="0 1px",o=o&&!isNaN(o)?parseInt(o):0,o=Math.max(0,Math.min(o,n));for(var l=1;l<=n;l++){var u=s.cloneNode(!0);u.innerHTML=l<=o?'<polygon fill="#FFEA00" stroke="#C1AB60" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>':'<polygon fill="#D2D2D2" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>',a.appendChild(u)}return r.style.whiteSpace="nowrap",r.style.overflow="hidden",r.style.textOverflow="ellipsis",r.setAttribute("aria-label",o),a},traffic:function(t,e,i){var o,r,n=this.sanitizeHTML(t.getValue())||0,a=document.createElement("span"),s=e&&e.max?e.max:100,l=e&&e.min?e.min:0,u=e&&void 0!==e.color?e.color:["red","orange","green"],h="#666666";if(!isNaN(n)&&void 0!==t.getValue()){switch(a.classList.add("tabulator-traffic-light"),r=parseFloat(n)<=s?parseFloat(n):s,r=parseFloat(r)>=l?parseFloat(r):l,o=(s-l)/100,r=Math.round((r-l)/o),typeof u){case"string":h=u;break;case"function":h=u(n);break;case"object":if(Array.isArray(u)){var c=100/u.length,d=Math.floor(r/c);d=Math.min(d,u.length-1),h=u[d=Math.max(d,0)];break}}return a.style.backgroundColor=h,a}},progress:function(t,e={},i){var o,r,n,a,s,l=this.sanitizeHTML(t.getValue())||0,u=t.getElement(),h=e.max?e.max:100,c=e.min?e.min:0,d=e.legendAlign?e.legendAlign:"center";switch(r=parseFloat(l)<=h?parseFloat(l):h,r=parseFloat(r)>=c?parseFloat(r):c,o=(h-c)/100,r=Math.round((r-c)/o),typeof e.color){case"string":n=e.color;break;case"function":n=e.color(l);break;case"object":if(Array.isArray(e.color)){let t=100/e.color.length,i=Math.floor(r/t);i=Math.min(i,e.color.length-1),i=Math.max(i,0),n=e.color[i];break}default:n="#2DC214"}switch(typeof e.legend){case"string":a=e.legend;break;case"function":a=e.legend(l);break;case"boolean":a=l;break;default:a=!1}switch(typeof e.legendColor){case"string":s=e.legendColor;break;case"function":s=e.legendColor(l);break;case"object":if(Array.isArray(e.legendColor)){let t=100/e.legendColor.length,i=Math.floor(r/t);i=Math.min(i,e.legendColor.length-1),i=Math.max(i,0),s=e.legendColor[i]}break;default:s="#000"}u.style.minWidth="30px",u.style.position="relative",u.setAttribute("aria-label",r);var p=document.createElement("div");p.style.display="inline-block",p.style.width=r+"%",p.style.backgroundColor=n,p.style.height="100%",p.setAttribute("data-max",h),p.setAttribute("data-min",c);var b=document.createElement("div");if(b.style.position="relative",b.style.width="100%",b.style.height="100%",a){var g=document.createElement("div");g.style.position="absolute",g.style.top=0,g.style.left=0,g.style.textAlign=d,g.style.width="100%",g.style.color=s,g.innerHTML=a}return i((function(){if(!(t instanceof v)){var e=document.createElement("div");e.style.position="absolute",e.style.top="4px",e.style.bottom="4px",e.style.left="4px",e.style.right="4px",u.appendChild(e),u=e}u.appendChild(b),b.appendChild(p),a&&b.appendChild(g)})),""},color:function(t,e,i){return t.getElement().style.backgroundColor=this.sanitizeHTML(t.getValue()),""},buttonTick:function(t,e,i){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>'},buttonCross:function(t,e,i){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>'},rownum:function(t,e,i){var o=document.createElement("span"),r=t.getRow(),n=t.getTable();return r.watchPosition((t=>{e.relativeToPage&&(t+=n.modules.page.getPageSize()*(n.modules.page.getPage()-1)),o.innerText=t})),o},handle:function(t,e,i){return t.getElement().classList.add("tabulator-row-handle"),"<div class='tabulator-row-handle-box'><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div></div>"},responsiveCollapse:function(t,e,i){var o=document.createElement("div"),r=t.getRow()._row.modules.responsiveLayout;function n(t){var e=r.element;r.open=t,e&&(r.open?(o.classList.add("open"),e.style.display=""):(o.classList.remove("open"),e.style.display="none"))}return o.classList.add("tabulator-responsive-collapse-toggle"),o.innerHTML='<svg class=\'tabulator-responsive-collapse-toggle-open\' viewbox="0 0 24 24">\n  <line x1="7" y1="12" x2="17" y2="12" fill="none" stroke-width="3" stroke-linecap="round" />\n  <line y1="7" x1="12" y2="17" x2="12" fill="none" stroke-width="3" stroke-linecap="round" />\n</svg>\n\n<svg class=\'tabulator-responsive-collapse-toggle-close\' viewbox="0 0 24 24">\n  <line x1="7" y1="12" x2="17" y2="12"  fill="none" stroke-width="3" stroke-linecap="round" />\n</svg>',t.getElement().classList.add("tabulator-row-handle"),o.addEventListener("click",(function(e){e.stopImmediatePropagation(),n(!r.open),t.getTable().rowManager.adjustTableSize()})),n(r.open),o},rowSelection:function(t,e,i){var o=document.createElement("input"),r=!1;if(o.type="checkbox",o.setAttribute("aria-label","Select Row"),this.table.modExists("selectRow",!0))if(o.addEventListener("click",(t=>{t.stopPropagation()})),"function"==typeof t.getRow){var n=t.getRow();n instanceof A?(o.addEventListener("change",(t=>{"click"===this.table.options.selectableRowsRangeMode&&r?r=!1:n.toggleSelect()})),"click"===this.table.options.selectableRowsRangeMode&&o.addEventListener("click",(t=>{r=!0,this.table.modules.selectRow.handleComplexRowClick(n._row,t)})),o.checked=n.isSelected&&n.isSelected(),this.table.modules.selectRow.registerRowSelectCheckbox(n,o)):o=""}else o.addEventListener("change",(t=>{this.table.modules.selectRow.selectedRows.length?this.table.deselectRow():this.table.selectRow(e.rowRange)})),this.table.modules.selectRow.registerHeaderSelectCheckbox(o);return o}};class N extends l{constructor(t){super(t),this.registerColumnOption("formatter"),this.registerColumnOption("formatterParams"),this.registerColumnOption("formatterPrint"),this.registerColumnOption("formatterPrintParams"),this.registerColumnOption("formatterClipboard"),this.registerColumnOption("formatterClipboardParams"),this.registerColumnOption("formatterHtmlOutput"),this.registerColumnOption("formatterHtmlOutputParams"),this.registerColumnOption("titleFormatter"),this.registerColumnOption("titleFormatterParams")}initialize(){this.subscribe("cell-format",this.formatValue.bind(this)),this.subscribe("cell-rendered",this.cellRendered.bind(this)),this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("column-format",this.formatHeader.bind(this))}initializeColumn(t){t.modules.format=this.lookupFormatter(t,""),void 0!==t.definition.formatterPrint&&(t.modules.format.print=this.lookupFormatter(t,"Print")),void 0!==t.definition.formatterClipboard&&(t.modules.format.clipboard=this.lookupFormatter(t,"Clipboard")),void 0!==t.definition.formatterHtmlOutput&&(t.modules.format.htmlOutput=this.lookupFormatter(t,"HtmlOutput"))}lookupFormatter(t,e){var i={params:t.definition["formatter"+e+"Params"]||{}},o=t.definition["formatter"+e];switch(typeof o){case"string":N.formatters[o]?i.formatter=N.formatters[o]:i.formatter=N.formatters.plaintext;break;case"function":i.formatter=o;break;default:i.formatter=N.formatters.plaintext}return i}cellRendered(t){t.modules.format&&t.modules.format.renderedCallback&&!t.modules.format.rendered&&(t.modules.format.renderedCallback(),t.modules.format.rendered=!0)}formatHeader(t,e,i){var o,r,n,a;return t.definition.titleFormatter?(o=this.getFormatter(t.definition.titleFormatter),n=e=>{t.titleFormatterRendered=e},a={getValue:function(){return e},getElement:function(){return i},getType:function(){return"header"},getColumn:function(){return t.getComponent()},getTable:()=>this.table},r="function"==typeof(r=t.definition.titleFormatterParams||{})?r():r,o.call(this,a,r,n)):e}formatValue(t){var e=t.getComponent(),i="function"==typeof t.column.modules.format.params?t.column.modules.format.params(e):t.column.modules.format.params;return t.column.modules.format.formatter.call(this,e,i,(function(e){t.modules.format||(t.modules.format={}),t.modules.format.renderedCallback=e,t.modules.format.rendered=!1}))}formatExportValue(t,e){var i,o=t.column.modules.format[e];if(o){function r(e){t.modules.format||(t.modules.format={}),t.modules.format.renderedCallback=e,t.modules.format.rendered=!1}return i="function"==typeof o.params?o.params(t.getComponent()):o.params,o.formatter.call(this,t.getComponent(),i,r)}return this.formatValue(t)}sanitizeHTML(t){if(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(t).replace(/[&<>"'`=/]/g,(function(t){return e[t]}))}return t}emptyToSpace(t){return null==t||""===t?"&nbsp;":t}getFormatter(t){switch(typeof t){case"string":t=N.formatters[t]?N.formatters[t]:N.formatters.plaintext;break;case"function":break;default:t=N.formatters.plaintext}return t}}N.moduleName="format",N.formatters=I;class V extends l{constructor(t){super(t),this.leftColumns=[],this.rightColumns=[],this.initializationMode="left",this.active=!1,this.blocked=!0,this.registerColumnOption("frozen")}reset(){this.initializationMode="left",this.leftColumns=[],this.rightColumns=[],this.active=!1}initialize(){this.subscribe("cell-layout",this.layoutCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-width",this.layout.bind(this)),this.subscribe("row-layout-after",this.layoutRow.bind(this)),this.subscribe("table-layout",this.layout.bind(this)),this.subscribe("columns-loading",this.reset.bind(this)),this.subscribe("column-add",this.reinitializeColumns.bind(this)),this.subscribe("column-deleted",this.reinitializeColumns.bind(this)),this.subscribe("column-hide",this.reinitializeColumns.bind(this)),this.subscribe("column-show",this.reinitializeColumns.bind(this)),this.subscribe("columns-loaded",this.reinitializeColumns.bind(this)),this.subscribe("table-redraw",this.layout.bind(this)),this.subscribe("layout-refreshing",this.blockLayout.bind(this)),this.subscribe("layout-refreshed",this.unblockLayout.bind(this)),this.subscribe("scrollbar-vertical",this.adjustForScrollbar.bind(this))}blockLayout(){this.blocked=!0}unblockLayout(){this.blocked=!1}layoutCell(t){this.layoutElement(t.element,t.column)}reinitializeColumns(){this.reset(),this.table.columnManager.columnsByIndex.forEach((t=>{this.initializeColumn(t)})),this.layout()}initializeColumn(t){var e={margin:0,edge:!1};t.isGroup||(this.frozenCheck(t)?(e.position=this.initializationMode,"left"==this.initializationMode?this.leftColumns.push(t):this.rightColumns.unshift(t),this.active=!0,t.modules.frozen=e):this.initializationMode="right")}frozenCheck(t){return t.parent.isGroup&&t.definition.frozen,t.parent.isGroup?this.frozenCheck(t.parent):t.definition.frozen}layoutCalcRows(){this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&this.table.modules.columnCalcs.topRow&&this.layoutRow(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&this.table.modules.columnCalcs.botRow&&this.layoutRow(this.table.modules.columnCalcs.botRow),this.table.modExists("groupRows")&&this.layoutGroupCalcs(this.table.modules.groupRows.getGroups()))}layoutGroupCalcs(t){t.forEach((t=>{t.calcs.top&&this.layoutRow(t.calcs.top),t.calcs.bottom&&this.layoutRow(t.calcs.bottom),t.groupList&&t.groupList.length&&this.layoutGroupCalcs(t.groupList)}))}layoutColumnPosition(t){var e=[],i=0,o=0;this.leftColumns.forEach(((o,r)=>{if(o.modules.frozen.marginValue=i,o.modules.frozen.margin=o.modules.frozen.marginValue+"px",o.visible&&(i+=o.getWidth()),r==this.leftColumns.length-1?o.modules.frozen.edge=!0:o.modules.frozen.edge=!1,o.parent.isGroup){var n=this.getColGroupParentElement(o);e.includes(n)||(this.layoutElement(n,o),e.push(n)),n.classList.toggle("tabulator-frozen-left",o.modules.frozen.edge&&"left"===o.modules.frozen.position),n.classList.toggle("tabulator-frozen-right",o.modules.frozen.edge&&"right"===o.modules.frozen.position)}else this.layoutElement(o.getElement(),o);t&&o.cells.forEach((t=>{this.layoutElement(t.getElement(!0),o)}))})),this.rightColumns.forEach(((e,i)=>{e.modules.frozen.marginValue=o,e.modules.frozen.margin=e.modules.frozen.marginValue+"px",e.visible&&(o+=e.getWidth()),i==this.rightColumns.length-1?e.modules.frozen.edge=!0:e.modules.frozen.edge=!1,e.parent.isGroup?this.layoutElement(this.getColGroupParentElement(e),e):this.layoutElement(e.getElement(),e),t&&e.cells.forEach((t=>{this.layoutElement(t.getElement(!0),e)}))}))}getColGroupParentElement(t){return t.parent.isGroup?this.getColGroupParentElement(t.parent):t.getElement()}layout(){this.active&&!this.blocked&&(this.layoutColumnPosition(),this.reinitializeRows(),this.layoutCalcRows())}reinitializeRows(){var t=this.table.rowManager.getVisibleRows(!0);this.table.rowManager.getRows().filter((e=>!t.includes(e))).forEach((t=>{t.deinitialize()})),t.forEach((t=>{"row"===t.type&&this.layoutRow(t)}))}layoutRow(t){"fitDataFill"===this.table.options.layout&&this.rightColumns.length&&(this.table.rowManager.getTableElement().style.minWidth="calc(100% - "+this.rightMargin+")"),this.leftColumns.forEach((e=>{var i=t.getCell(e);i&&this.layoutElement(i.getElement(!0),e)})),this.rightColumns.forEach((e=>{var i=t.getCell(e);i&&this.layoutElement(i.getElement(!0),e)}))}layoutElement(t,e){var i;e.modules.frozen&&t&&(t.style.position="sticky",i=this.table.rtl?"left"===e.modules.frozen.position?"right":"left":e.modules.frozen.position,t.style[i]=e.modules.frozen.margin,t.classList.add("tabulator-frozen"),t.classList.toggle("tabulator-frozen-left",e.modules.frozen.edge&&"left"===e.modules.frozen.position),t.classList.toggle("tabulator-frozen-right",e.modules.frozen.edge&&"right"===e.modules.frozen.position))}adjustForScrollbar(t){this.rightColumns.length&&(this.table.columnManager.getContentsElement().style.width="calc(100% - "+t+"px)")}_calcSpace(t,e){var i=0;for(let o=0;o<e;o++)t[o].visible&&(i+=t[o].getWidth());return i}}V.moduleName="frozenColumns";class W extends l{constructor(t){super(t),this.topElement=document.createElement("div"),this.rows=[],this.registerComponentFunction("row","freeze",this.freezeRow.bind(this)),this.registerComponentFunction("row","unfreeze",this.unfreezeRow.bind(this)),this.registerComponentFunction("row","isFrozen",this.isRowFrozen.bind(this)),this.registerTableOption("frozenRowsField","id"),this.registerTableOption("frozenRows",!1)}initialize(){var t=document.createDocumentFragment();this.rows=[],this.topElement.classList.add("tabulator-frozen-rows-holder"),t.appendChild(document.createElement("br")),t.appendChild(this.topElement),this.table.columnManager.getContentsElement().insertBefore(t,this.table.columnManager.headersElement.nextSibling),this.subscribe("row-deleting",this.detachRow.bind(this)),this.subscribe("rows-visible",this.visibleRows.bind(this)),this.registerDisplayHandler(this.getRows.bind(this),10),this.table.options.frozenRows&&(this.subscribe("data-processed",this.initializeRows.bind(this)),this.subscribe("row-added",this.initializeRow.bind(this)),this.subscribe("table-redrawing",this.resizeHolderWidth.bind(this)),this.subscribe("column-resized",this.resizeHolderWidth.bind(this)),this.subscribe("column-show",this.resizeHolderWidth.bind(this)),this.subscribe("column-hide",this.resizeHolderWidth.bind(this))),this.resizeHolderWidth()}resizeHolderWidth(){this.topElement.style.minWidth=this.table.columnManager.headersElement.offsetWidth+"px"}initializeRows(){this.table.rowManager.getRows().forEach((t=>{this.initializeRow(t)}))}initializeRow(t){var e=this.table.options.frozenRows,i=typeof e;"number"===i?t.getPosition()&&t.getPosition()+this.rows.length<=e&&this.freezeRow(t):"function"===i?e.call(this.table,t.getComponent())&&this.freezeRow(t):Array.isArray(e)&&e.includes(t.data[this.options("frozenRowsField")])&&this.freezeRow(t)}isRowFrozen(t){return this.rows.indexOf(t)>-1}isFrozen(){return!!this.rows.length}visibleRows(t,e){return this.rows.forEach((t=>{e.push(t)})),e}getRows(t){var e=t.slice(0);return this.rows.forEach((function(t){var i=e.indexOf(t);i>-1&&e.splice(i,1)})),e}freezeRow(t){t.modules.frozen||(t.modules.frozen=!0,this.topElement.appendChild(t.getElement()),t.initialize(),t.normalizeHeight(),this.rows.push(t),this.refreshData(!1,"display"),this.table.rowManager.adjustTableSize(),this.styleRows())}unfreezeRow(t){t.modules.frozen&&(t.modules.frozen=!1,this.detachRow(t),this.table.rowManager.adjustTableSize(),this.refreshData(!1,"display"),this.rows.length&&this.styleRows())}detachRow(t){var e=this.rows.indexOf(t);if(e>-1){var i=t.getElement();i.parentNode&&i.parentNode.removeChild(i),this.rows.splice(e,1)}}styleRows(t){this.rows.forEach(((t,e)=>{this.table.rowManager.styleRow(t,e)}))}}W.moduleName="frozenRows";class j{constructor(t){return this._group=t,this.type="GroupComponent",new Proxy(this,{get:function(t,e,i){return void 0!==t[e]?t[e]:t._group.groupManager.table.componentFunctionBinder.handle("group",t._group,e)}})}getKey(){return this._group.key}getField(){return this._group.field}getElement(){return this._group.element}getRows(){return this._group.getRows(!0)}getSubGroups(){return this._group.getSubGroups(!0)}getParentGroup(){return!!this._group.parent&&this._group.parent.getComponent()}isVisible(){return this._group.visible}show(){this._group.show()}hide(){this._group.hide()}toggle(){this._group.toggleVisibility()}scrollTo(t,e){return this._group.groupManager.table.rowManager.scrollToRow(this._group,t,e)}_getSelf(){return this._group}getTable(){return this._group.groupManager.table}}class G{constructor(t,e,i,o,r,n,a){this.groupManager=t,this.parent=e,this.key=o,this.level=i,this.field=r,this.hasSubGroups=i<t.groupIDLookups.length-1,this.addRow=this.hasSubGroups?this._addRowToGroup:this._addRow,this.type="group",this.old=a,this.rows=[],this.groups=[],this.groupList=[],this.generator=n,this.element=!1,this.elementContents=!1,this.height=0,this.outerHeight=0,this.initialized=!1,this.calcs={},this.initialized=!1,this.modules={},this.arrowElement=!1,this.visible=a?a.visible:void 0!==t.startOpen[i]?t.startOpen[i]:t.startOpen[0],this.component=null,this.createElements(),this.addBindings(),this.createValueGroups()}wipe(t){t||(this.groupList.length?this.groupList.forEach((function(t){t.wipe()})):this.rows.forEach((t=>{t.modules&&delete t.modules.group}))),this.element=!1,this.arrowElement=!1,this.elementContents=!1}createElements(){var t=document.createElement("div");t.classList.add("tabulator-arrow"),this.element=document.createElement("div"),this.element.classList.add("tabulator-row"),this.element.classList.add("tabulator-group"),this.element.classList.add("tabulator-group-level-"+this.level),this.element.setAttribute("role","rowgroup"),this.arrowElement=document.createElement("div"),this.arrowElement.classList.add("tabulator-group-toggle"),this.arrowElement.appendChild(t),!1!==this.groupManager.table.options.movableRows&&this.groupManager.table.modExists("moveRow")&&this.groupManager.table.modules.moveRow.initializeGroupHeader(this)}createValueGroups(){var t=this.level+1;this.groupManager.allowedValues&&this.groupManager.allowedValues[t]&&this.groupManager.allowedValues[t].forEach((e=>{this._createGroup(e,t)}))}addBindings(){this.groupManager.table.options.groupToggleElement&&("arrow"==this.groupManager.table.options.groupToggleElement?this.arrowElement:this.element).addEventListener("click",(t=>{"arrow"===this.groupManager.table.options.groupToggleElement&&(t.stopPropagation(),t.stopImmediatePropagation()),setTimeout((()=>{this.toggleVisibility()}))}))}_createGroup(t,e){var i=e+"_"+t,o=new G(this.groupManager,this,e,t,this.groupManager.groupIDLookups[e].field,this.groupManager.headerGenerator[e]||this.groupManager.headerGenerator[0],!!this.old&&this.old.groups[i]);this.groups[i]=o,this.groupList.push(o)}_addRowToGroup(t){var e=this.level+1;if(this.hasSubGroups){var i=this.groupManager.groupIDLookups[e].func(t.getData()),o=e+"_"+i;this.groupManager.allowedValues&&this.groupManager.allowedValues[e]?this.groups[o]&&this.groups[o].addRow(t):(this.groups[o]||this._createGroup(i,e),this.groups[o].addRow(t))}}_addRow(t){this.rows.push(t),t.modules.group=this}insertRow(t,e,i){var o=this.conformRowData({});t.updateData(o);var r=this.rows.indexOf(e);r>-1?i?this.rows.splice(r+1,0,t):this.rows.splice(r,0,t):i?this.rows.push(t):this.rows.unshift(t),t.modules.group=this,this.groupManager.table.modExists("columnCalcs")&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modules.columnCalcs.recalcGroup(this),this.groupManager.updateGroupRows(!0)}scrollHeader(t){this.arrowElement&&(this.arrowElement.style.marginLeft=t,this.groupList.forEach((function(e){e.scrollHeader(t)})))}getRowIndex(t){}conformRowData(t){return this.field&&(t[this.field]=this.key),this.parent&&(t=this.parent.conformRowData(t)),t}removeRow(t){var e=this.rows.indexOf(t),i=t.getElement();e>-1&&this.rows.splice(e,1),this.groupManager.table.options.groupValues||this.rows.length?(i.parentNode&&i.parentNode.removeChild(i),this.groupManager.blockRedraw||(this.generateGroupHeaderContents(),this.groupManager.table.modExists("columnCalcs")&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modules.columnCalcs.recalcGroup(this))):(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this),this.groupManager.updateGroupRows(!0))}removeGroup(t){var e,i=t.level+"_"+t.key;this.groups[i]&&(delete this.groups[i],(e=this.groupList.indexOf(t))>-1&&this.groupList.splice(e,1),this.groupList.length||(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this)))}getHeadersAndRows(){var t=[];return t.push(this),this._visSet(),this.calcs.top&&(this.calcs.top.detachElement(),this.calcs.top.deleteCells()),this.calcs.bottom&&(this.calcs.bottom.detachElement(),this.calcs.bottom.deleteCells()),this.visible?this.groupList.length?this.groupList.forEach((function(e){t=t.concat(e.getHeadersAndRows())})):("table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&(this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),t.push(this.calcs.top)),t=t.concat(this.rows),"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),t.push(this.calcs.bottom))):this.groupList.length||"table"==this.groupManager.table.options.columnCalcs||this.groupManager.table.modExists("columnCalcs")&&(this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),t.push(this.calcs.top)),this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),t.push(this.calcs.bottom))),t}getData(t,e){var i=[];return this._visSet(),(!t||t&&this.visible)&&this.rows.forEach((t=>{i.push(t.getData(e||"data"))})),i}getRowCount(){var t=0;return this.groupList.length?this.groupList.forEach((e=>{t+=e.getRowCount()})):t=this.rows.length,t}toggleVisibility(){this.visible?this.hide():this.show()}hide(){this.visible=!1,"basic"!=this.groupManager.table.rowManager.getRenderMode()||this.groupManager.table.options.pagination||(this.element.classList.remove("tabulator-group-visible"),this.groupList.length?this.groupList.forEach((t=>{t.getHeadersAndRows().forEach((t=>{t.detachElement()}))})):this.rows.forEach((t=>{var e=t.getElement();e.parentNode.removeChild(e)}))),this.groupManager.updateGroupRows(!0),this.groupManager.table.externalEvents.dispatch("groupVisibilityChanged",this.getComponent(),!1)}show(){if(this.visible=!0,"basic"!=this.groupManager.table.rowManager.getRenderMode()||this.groupManager.table.options.pagination)this.groupManager.updateGroupRows(!0);else{this.element.classList.add("tabulator-group-visible");var t=this.generateElement();this.groupList.length?this.groupList.forEach((e=>{e.getHeadersAndRows().forEach((e=>{var i=e.getElement();t.parentNode.insertBefore(i,t.nextSibling),e.initialize(),t=i}))})):this.rows.forEach((e=>{var i=e.getElement();t.parentNode.insertBefore(i,t.nextSibling),e.initialize(),t=i})),this.groupManager.updateGroupRows(!0)}this.groupManager.table.externalEvents.dispatch("groupVisibilityChanged",this.getComponent(),!0)}_visSet(){var t=[];"function"==typeof this.visible&&(this.rows.forEach((function(e){t.push(e.getData())})),this.visible=this.visible(this.key,this.getRowCount(),t,this.getComponent()))}getRowGroup(t){var e=!1;return this.groupList.length?this.groupList.forEach((function(i){var o=i.getRowGroup(t);o&&(e=o)})):this.rows.find((function(e){return e===t}))&&(e=this),e}getSubGroups(t){var e=[];return this.groupList.forEach((function(i){e.push(t?i.getComponent():i)})),e}getRows(t,e){var i=[];return e&&this.groupList.length?this.groupList.forEach((o=>{i=i.concat(o.getRows(t,e))})):this.rows.forEach((function(e){i.push(t?e.getComponent():e)})),i}generateGroupHeaderContents(){var t=[];for(this.getRows(!1,!0).forEach((function(e){t.push(e.getData())})),this.elementContents=this.generator(this.key,this.getRowCount(),t,this.getComponent());this.element.firstChild;)this.element.removeChild(this.element.firstChild);"string"==typeof this.elementContents?this.element.innerHTML=this.elementContents:this.element.appendChild(this.elementContents),this.element.insertBefore(this.arrowElement,this.element.firstChild)}getPath(t=[]){return t.unshift(this.key),this.parent&&this.parent.getPath(t),t}getElement(){return this.elementContents?this.element:this.generateElement()}generateElement(){this.addBindings=!1,this._visSet(),this.visible?this.element.classList.add("tabulator-group-visible"):this.element.classList.remove("tabulator-group-visible");for(var t=0;t<this.element.childNodes.length;++t)this.element.childNodes[t].parentNode.removeChild(this.element.childNodes[t]);return this.generateGroupHeaderContents(),this.element}detachElement(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}normalizeHeight(){this.setHeight(this.element.clientHeight)}initialize(t){this.initialized&&!t||(this.normalizeHeight(),this.initialized=!0)}reinitialize(){this.initialized=!1,this.height=0,a.elVisible(this.element)&&this.initialize(!0)}setHeight(t){this.height!=t&&(this.height=t,this.outerHeight=this.element.offsetHeight)}getHeight(){return this.outerHeight}getGroup(){return this}reinitializeHeight(){}calcHeight(){}setCellHeight(){}clearCellHeight(){}deinitializeHeight(){}rendered(){}getComponent(){return this.component||(this.component=new j(this)),this.component}}class U extends l{constructor(t){super(t),this.groupIDLookups=!1,this.startOpen=[function(){return!1}],this.headerGenerator=[function(){return""}],this.groupList=[],this.allowedValues=!1,this.groups={},this.displayHandler=this.getRows.bind(this),this.blockRedraw=!1,this.registerTableOption("groupBy",!1),this.registerTableOption("groupStartOpen",!0),this.registerTableOption("groupValues",!1),this.registerTableOption("groupUpdateOnCellEdit",!1),this.registerTableOption("groupHeader",!1),this.registerTableOption("groupHeaderPrint",null),this.registerTableOption("groupHeaderClipboard",null),this.registerTableOption("groupHeaderHtmlOutput",null),this.registerTableOption("groupHeaderDownload",null),this.registerTableOption("groupToggleElement","arrow"),this.registerTableOption("groupClosedShowCalcs",!1),this.registerTableFunction("setGroupBy",this.setGroupBy.bind(this)),this.registerTableFunction("setGroupValues",this.setGroupValues.bind(this)),this.registerTableFunction("setGroupStartOpen",this.setGroupStartOpen.bind(this)),this.registerTableFunction("setGroupHeader",this.setGroupHeader.bind(this)),this.registerTableFunction("getGroups",this.userGetGroups.bind(this)),this.registerTableFunction("getGroupedData",this.userGetGroupedData.bind(this)),this.registerComponentFunction("row","getGroup",this.rowGetGroup.bind(this))}initialize(){this.subscribe("table-destroy",this._blockRedrawing.bind(this)),this.subscribe("rows-wipe",this._blockRedrawing.bind(this)),this.subscribe("rows-wiped",this._restore_redrawing.bind(this)),this.table.options.groupBy&&(this.table.options.groupUpdateOnCellEdit&&(this.subscribe("cell-value-updated",this.cellUpdated.bind(this)),this.subscribe("row-data-changed",this.reassignRowToGroup.bind(this),0)),this.subscribe("table-built",this.configureGroupSetup.bind(this)),this.subscribe("row-deleting",this.rowDeleting.bind(this)),this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("scroll-horizontal",this.scrollHeaders.bind(this)),this.subscribe("rows-wipe",this.wipe.bind(this)),this.subscribe("rows-added",this.rowsUpdated.bind(this)),this.subscribe("row-moving",this.rowMoving.bind(this)),this.subscribe("row-adding-index",this.rowAddingIndex.bind(this)),this.subscribe("rows-sample",this.rowSample.bind(this)),this.subscribe("render-virtual-fill",this.virtualRenderFill.bind(this)),this.registerDisplayHandler(this.displayHandler,20),this.initialized=!0)}_blockRedrawing(){this.blockRedraw=!0}_restore_redrawing(){this.blockRedraw=!1}configureGroupSetup(){if(this.table.options.groupBy){var t=this.table.options.groupBy,e=this.table.options.groupStartOpen,i=this.table.options.groupHeader;if(this.allowedValues=this.table.options.groupValues,Array.isArray(t)&&Array.isArray(i)&&(t.length,i.length),this.headerGenerator=[function(){return""}],this.startOpen=[function(){return!1}],this.langBind("groups|item",((t,e)=>{this.headerGenerator[0]=(i,o,r)=>(void 0===i?"":i)+"<span>("+o+" "+(1===o?t:e.groups.items)+")</span>"})),this.groupIDLookups=[],t)this.table.modExists("columnCalcs")&&"table"!=this.table.options.columnCalcs&&"both"!=this.table.options.columnCalcs&&this.table.modules.columnCalcs.removeCalcs();else if(this.table.modExists("columnCalcs")&&"group"!=this.table.options.columnCalcs)this.table.columnManager.getRealColumns().forEach((t=>{t.definition.topCalc&&this.table.modules.columnCalcs.initializeTopRow(),t.definition.bottomCalc&&this.table.modules.columnCalcs.initializeBottomRow()}));Array.isArray(t)||(t=[t]),t.forEach(((t,e)=>{var i,o;i="function"==typeof t?t:(o=this.table.columnManager.getColumnByField(t))?function(t){return o.getFieldValue(t)}:function(e){return e[t]},this.groupIDLookups.push({field:"function"!=typeof t&&t,func:i,values:!!this.allowedValues&&this.allowedValues[e]})})),e&&(Array.isArray(e)||(e=[e]),e.forEach((t=>{})),this.startOpen=e),i&&(this.headerGenerator=Array.isArray(i)?i:[i])}else this.groupList=[],this.groups={}}rowSample(t,e){if(this.table.options.groupBy){var i=this.getGroups(!1)[0];e.push(i.getRows(!1)[0])}return e}virtualRenderFill(){var t=this.table.rowManager.tableElement,e=this.table.rowManager.getVisibleRows();if(!this.table.options.groupBy)return e;e=e.filter((t=>"group"!==t.type)),t.style.minWidth=e.length?"":this.table.columnManager.getWidth()+"px"}rowAddingIndex(t,e,i){if(this.table.options.groupBy){this.assignRowToGroup(t);var o=t.modules.group.rows;return o.length>1&&(!e||e&&-1==o.indexOf(e)?i?o[0]!==t&&(e=o[0],this.table.rowManager.moveRowInArray(t.modules.group.rows,t,e,!i)):o[o.length-1]!==t&&(e=o[o.length-1],this.table.rowManager.moveRowInArray(t.modules.group.rows,t,e,!i)):this.table.rowManager.moveRowInArray(t.modules.group.rows,t,e,!i)),e}}trackChanges(){this.dispatch("group-changed")}setGroupBy(t){this.table.options.groupBy=t,this.initialized||this.initialize(),this.configureGroupSetup(),!t&&this.table.modExists("columnCalcs")&&!0===this.table.options.columnCalcs&&this.table.modules.columnCalcs.reinitializeCalcs(),this.refreshData(),this.trackChanges()}setGroupValues(t){this.table.options.groupValues=t,this.configureGroupSetup(),this.refreshData(),this.trackChanges()}setGroupStartOpen(t){this.table.options.groupStartOpen=t,this.configureGroupSetup(),this.table.options.groupBy&&(this.refreshData(),this.trackChanges())}setGroupHeader(t){this.table.options.groupHeader=t,this.configureGroupSetup(),this.table.options.groupBy&&(this.refreshData(),this.trackChanges())}userGetGroups(t){return this.getGroups(!0)}userGetGroupedData(){return this.table.options.groupBy?this.getGroupedData():this.getData()}rowGetGroup(t){return!!t.modules.group&&t.modules.group.getComponent()}rowMoving(t,e,i){if(this.table.options.groupBy){!i&&e instanceof G&&(e=this.table.rowManager.prevDisplayRow(t)||e);var o=e instanceof G?e:e.modules.group,r=t instanceof G?t:t.modules.group;o===r?this.table.rowManager.moveRowInArray(o.rows,t,e,i):(r&&r.removeRow(t),o.insertRow(t,e,i))}}rowDeleting(t){this.table.options.groupBy&&t.modules.group&&t.modules.group.removeRow(t)}rowsUpdated(t){this.table.options.groupBy&&this.updateGroupRows(!0)}cellUpdated(t){this.table.options.groupBy&&this.reassignRowToGroup(t.row)}getRows(t){return this.table.options.groupBy&&this.groupIDLookups.length?(this.dispatchExternal("dataGrouping"),this.generateGroups(t),this.subscribedExternal("dataGrouped")&&this.dispatchExternal("dataGrouped",this.getGroups(!0)),this.updateGroupRows()):t.slice(0)}getGroups(t){var e=[];return this.groupList.forEach((function(i){e.push(t?i.getComponent():i)})),e}getChildGroups(t){var e=[];return t||(t=this),t.groupList.forEach((t=>{t.groupList.length?e=e.concat(this.getChildGroups(t)):e.push(t)})),e}wipe(){this.table.options.groupBy&&(this.groupList.forEach((function(t){t.wipe()})),this.groupList=[],this.groups={})}pullGroupListData(t){var e=[];return t.forEach((t=>{var i={level:0,rowCount:0,headerContent:""},o=[];t.hasSubGroups?(o=this.pullGroupListData(t.groupList),i.level=t.level,i.rowCount=o.length-t.groupList.length,i.headerContent=t.generator(t.key,i.rowCount,t.rows,t),e.push(i),e=e.concat(o)):(i.level=t.level,i.headerContent=t.generator(t.key,t.rows.length,t.rows,t),i.rowCount=t.getRows().length,e.push(i),t.getRows().forEach((t=>{e.push(t.getData("data"))})))})),e}getGroupedData(){return this.pullGroupListData(this.groupList)}getRowGroup(t){var e=!1;return this.options("dataTree")&&(t=this.table.modules.dataTree.getTreeParentRoot(t)),this.groupList.forEach((i=>{var o=i.getRowGroup(t);o&&(e=o)})),e}countGroups(){return this.groupList.length}generateGroups(t){var e=this.groups;this.groups={},this.groupList=[],this.allowedValues&&this.allowedValues[0]?(this.allowedValues[0].forEach((t=>{this.createGroup(t,0,e)})),t.forEach((t=>{this.assignRowToExistingGroup(t,e)}))):t.forEach((t=>{this.assignRowToGroup(t,e)})),Object.values(e).forEach((t=>{t.wipe(!0)}))}createGroup(t,e,i){var o,r=e+"_"+t;i=i||[],o=new G(this,!1,e,t,this.groupIDLookups[0].field,this.headerGenerator[0],i[r]),this.groups[r]=o,this.groupList.push(o)}assignRowToExistingGroup(t,e){var i="0_"+this.groupIDLookups[0].func(t.getData());this.groups[i]&&this.groups[i].addRow(t)}assignRowToGroup(t,e){var i=this.groupIDLookups[0].func(t.getData()),o=!this.groups["0_"+i];return o&&this.createGroup(i,0,e),this.groups["0_"+i].addRow(t),!o}reassignRowToGroup(t){if("row"===t.type){var e,i=t.modules.group,o=i.getPath(),r=this.getExpectedPath(t);e=o.length==r.length&&o.every(((t,e)=>t===r[e])),e||(i.removeRow(t),this.assignRowToGroup(t,this.groups),this.refreshData(!0))}}getExpectedPath(t){var e=[],i=t.getData();return this.groupIDLookups.forEach((t=>{e.push(t.func(i))})),e}updateGroupRows(t){var e=[];return this.blockRedraw||(this.groupList.forEach((t=>{e=e.concat(t.getHeadersAndRows())})),t&&this.refreshData(!0)),e}scrollHeaders(t){this.table.options.groupBy&&("virtual"===this.table.options.renderHorizontal&&(t-=this.table.columnManager.renderer.vDomPadLeft),t+="px",this.groupList.forEach((e=>{e.scrollHeader(t)})))}removeGroup(t){var e,i=t.level+"_"+t.key;this.groups[i]&&(delete this.groups[i],(e=this.groupList.indexOf(t))>-1&&this.groupList.splice(e,1))}checkBasicModeGroupHeaderWidth(){var t=this.table.rowManager.tableElement,e=!0;this.table.rowManager.getDisplayRows().forEach(((i,o)=>{this.table.rowManager.styleRow(i,o),t.appendChild(i.getElement()),i.initialize(!0),"group"!==i.type&&(e=!1)})),t.style.minWidth=e?this.table.columnManager.getWidth()+"px":""}}U.moduleName="groupRows";class q extends l{constructor(t){super(t),this.history=[],this.index=-1,this.registerTableOption("history",!1)}initialize(){this.table.options.history&&(this.subscribe("cell-value-updated",this.cellUpdated.bind(this)),this.subscribe("cell-delete",this.clearComponentHistory.bind(this)),this.subscribe("row-delete",this.rowDeleted.bind(this)),this.subscribe("rows-wipe",this.clear.bind(this)),this.subscribe("row-added",this.rowAdded.bind(this)),this.subscribe("row-move",this.rowMoved.bind(this))),this.registerTableFunction("undo",this.undo.bind(this)),this.registerTableFunction("redo",this.redo.bind(this)),this.registerTableFunction("getHistoryUndoSize",this.getHistoryUndoSize.bind(this)),this.registerTableFunction("getHistoryRedoSize",this.getHistoryRedoSize.bind(this)),this.registerTableFunction("clearHistory",this.clear.bind(this))}rowMoved(t,e,i){this.action("rowMove",t,{posFrom:t.getPosition(),posTo:e.getPosition(),to:e,after:i})}rowAdded(t,e,i,o){this.action("rowAdd",t,{data:e,pos:i,index:o})}rowDeleted(t){var e,i;this.table.options.groupBy?(e=(i=t.getComponent().getGroup()._getSelf().rows).indexOf(t))&&(e=i[e-1]):(e=t.table.rowManager.getRowIndex(t))&&(e=t.table.rowManager.rows[e-1]),this.action("rowDelete",t,{data:t.getData(),pos:!e,index:e})}cellUpdated(t){this.action("cellEdit",t,{oldValue:t.oldValue,newValue:t.value})}clear(){this.history=[],this.index=-1}action(t,e,i){this.history=this.history.slice(0,this.index+1),this.history.push({type:t,component:e,data:i}),this.index++}getHistoryUndoSize(){return this.index+1}getHistoryRedoSize(){return this.history.length-(this.index+1)}clearComponentHistory(t){var e=this.history.findIndex((function(e){return e.component===t}));e>-1&&(this.history.splice(e,1),e<=this.index&&this.index--,this.clearComponentHistory(t))}undo(){if(this.index>-1){let t=this.history[this.index];return q.undoers[t.type].call(this,t),this.index--,this.dispatchExternal("historyUndo",t.type,t.component.getComponent(),t.data),!0}return!1}redo(){if(this.history.length-1>this.index){this.index++;let t=this.history[this.index];return q.redoers[t.type].call(this,t),this.dispatchExternal("historyRedo",t.type,t.component.getComponent(),t.data),!0}return!1}_rebindRow(t,e){this.history.forEach((function(i){if(i.component instanceof E)i.component===t&&(i.component=e);else if(i.component instanceof w&&i.component.row===t){var o=i.component.column.getField();o&&(i.component=e.getCell(o))}}))}}q.moduleName="history",q.undoers={cellEdit:function(t){t.component.setValueProcessData(t.data.oldValue),t.component.cellRendered()},rowAdd:function(t){t.component.deleteActual(),this.table.rowManager.checkPlaceholder()},rowDelete:function(t){var e=this.table.rowManager.addRowActual(t.data.data,t.data.pos,t.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(t.component,e),this.table.rowManager.checkPlaceholder()},rowMove:function(t){var e=t.data.posFrom-t.data.posTo>0;this.table.rowManager.moveRowActual(t.component,this.table.rowManager.getRowFromPosition(t.data.posFrom),e),this.table.rowManager.regenerateRowPositions(),this.table.rowManager.reRenderInPosition()}},q.redoers={cellEdit:function(t){t.component.setValueProcessData(t.data.newValue),t.component.cellRendered()},rowAdd:function(t){var e=this.table.rowManager.addRowActual(t.data.data,t.data.pos,t.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(t.component,e),this.table.rowManager.checkPlaceholder()},rowDelete:function(t){t.component.deleteActual(),this.table.rowManager.checkPlaceholder()},rowMove:function(t){this.table.rowManager.moveRowActual(t.component,this.table.rowManager.getRowFromPosition(t.data.posTo),t.data.after),this.table.rowManager.regenerateRowPositions(),this.table.rowManager.reRenderInPosition()}};class $ extends l{constructor(t){super(t),this.fieldIndex=[],this.hasIndex=!1}initialize(){this.tableElementCheck()}tableElementCheck(){this.table.originalElement&&"TABLE"===this.table.originalElement.tagName&&this.table.originalElement.childNodes.length&&this.parseTable()}parseTable(){var t=this.table.originalElement,e=this.table.options,i=t.getElementsByTagName("th"),o=t.getElementsByTagName("tbody")[0],r=[];this.hasIndex=!1,this.dispatchExternal("htmlImporting"),o=o?o.getElementsByTagName("tr"):[],this._extractOptions(t,e),i.length?this._extractHeaders(i,o):this._generateBlankHeaders(i,o);for(var n=0;n<o.length;n++){var a=o[n].getElementsByTagName("td"),s={};this.hasIndex||(s[e.index]=n);for(var l=0;l<a.length;l++){var u=a[l];void 0!==this.fieldIndex[l]&&(s[this.fieldIndex[l]]=u.innerHTML)}r.push(s)}e.data=r,this.dispatchExternal("htmlImported")}_extractOptions(t,e,i){var o=t.attributes,r=i?Object.keys(i):Object.keys(e),n={};for(var a in r.forEach((t=>{n[t.toLowerCase()]=t})),o){var s,l=o[a];l&&"object"==typeof l&&l.name&&0===l.name.indexOf("tabulator-")&&(s=l.name.replace("tabulator-",""),void 0!==n[s]&&(e[n[s]]=this._attribValue(l.value)))}}_attribValue(t){return"true"===t||"false"!==t&&t}_findCol(t){return this.table.options.columns.find((e=>e.title===t))||!1}_extractHeaders(t,e){for(var i=0;i<t.length;i++){var o,r=t[i],n=!1,a=this._findCol(r.textContent);a?n=!0:a={title:r.textContent.trim()},a.field||(a.field=r.textContent.trim().toLowerCase().replaceAll(" ","_")),(o=r.getAttribute("width"))&&!a.width&&(a.width=o),this._extractOptions(r,a,this.table.columnManager.optionsList.registeredDefaults),this.fieldIndex[i]=a.field,a.field==this.table.options.index&&(this.hasIndex=!0),n||this.table.options.columns.push(a)}}_generateBlankHeaders(t,e){for(var i=0;i<t.length;i++){var o=t[i],r={title:"",field:"col"+i};this.fieldIndex[i]=r.field;var n=o.getAttribute("width");n&&(r.width=n),this.table.options.columns.push(r)}}}$.moduleName="htmlTableImport";var Y={csv:function(t){var e=[],i=0,o=0,r=!1;for(let n=0;n<t.length;n++){let a=t[n],s=t[n+1];e[i]||(e[i]=[]),e[i][o]||(e[i][o]=""),'"'==a&&r&&'"'==s?(e[i][o]+=a,n++):'"'!=a?","!=a||r?"\r"!=a||"\n"!=s||r?"\r"!=a&&"\n"!=a||r?e[i][o]+=a:(o=0,i++):(o=0,i++,n++):o++:r=!r}return e},json:function(t){try{return JSON.parse(t)}catch(t){return Promise.reject()}},array:function(t){return t}};class X extends l{constructor(t){super(t),this.registerTableOption("importFormat"),this.registerTableOption("importReader","text")}initialize(){this.registerTableFunction("import",this.importFromFile.bind(this)),this.table.options.importFormat&&(this.subscribe("data-loading",this.loadDataCheck.bind(this),10),this.subscribe("data-load",this.loadData.bind(this),10))}loadDataCheck(t){return this.table.options.importFormat&&("string"==typeof t||Array.isArray(t)&&t.length&&Array.isArray(t))}loadData(t,e,i,o,r){return this.importData(this.lookupImporter(),t).then(this.structureData.bind(this)).catch((t=>Promise.reject(t)))}lookupImporter(t){return t||(t=this.table.options.importFormat),"string"==typeof t?X.importers[t]:t}importFromFile(t,e){var i=this.lookupImporter(t);if(i)return this.pickFile(e).then(this.importData.bind(this,i)).then(this.structureData.bind(this)).then(this.setData.bind(this)).catch((t=>Promise.reject(t)))}pickFile(t){return new Promise(((e,i)=>{var o=document.createElement("input");o.type="file",o.accept=t,o.addEventListener("change",(t=>{var r=o.files[0],n=new FileReader;switch(this.table.options.importReader){case"buffer":n.readAsArrayBuffer(r);break;case"binary":n.readAsBinaryString(r);break;case"url":n.readAsDataURL(r);break;default:n.readAsText(r)}n.onload=t=>{e(n.result)},n.onerror=t=>{i()}})),o.click()}))}importData(t,e){var i=t.call(this.table,e);return i instanceof Promise?i:i?Promise.resolve(i):Promise.reject()}structureData(t){return Array.isArray(t)&&t.length&&Array.isArray(t[0])?this.table.options.autoColumns?this.structureArrayToObject(t):this.structureArrayToColumns(t):t}structureArrayToObject(t){var e=t.shift();return t.map((t=>{var i={};return e.forEach(((e,o)=>{i[e]=t[o]})),i}))}structureArrayToColumns(t){var e=[],i=this.table.getColumns();return i[0]&&t[0][0]&&i[0].getDefinition().title===t[0][0]&&t.shift(),t.forEach((t=>{var o={};t.forEach(((t,e)=>{var r=i[e];r&&(o[r.getField()]=t)})),e.push(o)})),e}setData(t){return this.table.setData(t)}}X.moduleName="import",X.importers=Y;class K extends l{constructor(t){super(t),this.eventMap={rowClick:"row-click",rowDblClick:"row-dblclick",rowContext:"row-contextmenu",rowMouseEnter:"row-mouseenter",rowMouseLeave:"row-mouseleave",rowMouseOver:"row-mouseover",rowMouseOut:"row-mouseout",rowMouseMove:"row-mousemove",rowMouseDown:"row-mousedown",rowMouseUp:"row-mouseup",rowTap:"row",rowDblTap:"row",rowTapHold:"row",cellClick:"cell-click",cellDblClick:"cell-dblclick",cellContext:"cell-contextmenu",cellMouseEnter:"cell-mouseenter",cellMouseLeave:"cell-mouseleave",cellMouseOver:"cell-mouseover",cellMouseOut:"cell-mouseout",cellMouseMove:"cell-mousemove",cellMouseDown:"cell-mousedown",cellMouseUp:"cell-mouseup",cellTap:"cell",cellDblTap:"cell",cellTapHold:"cell",headerClick:"column-click",headerDblClick:"column-dblclick",headerContext:"column-contextmenu",headerMouseEnter:"column-mouseenter",headerMouseLeave:"column-mouseleave",headerMouseOver:"column-mouseover",headerMouseOut:"column-mouseout",headerMouseMove:"column-mousemove",headerMouseDown:"column-mousedown",headerMouseUp:"column-mouseup",headerTap:"column",headerDblTap:"column",headerTapHold:"column",groupClick:"group-click",groupDblClick:"group-dblclick",groupContext:"group-contextmenu",groupMouseEnter:"group-mouseenter",groupMouseLeave:"group-mouseleave",groupMouseOver:"group-mouseover",groupMouseOut:"group-mouseout",groupMouseMove:"group-mousemove",groupMouseDown:"group-mousedown",groupMouseUp:"group-mouseup",groupTap:"group",groupDblTap:"group",groupTapHold:"group"},this.subscribers={},this.touchSubscribers={},this.columnSubscribers={},this.touchWatchers={row:{tap:null,tapDbl:null,tapHold:null},cell:{tap:null,tapDbl:null,tapHold:null},column:{tap:null,tapDbl:null,tapHold:null},group:{tap:null,tapDbl:null,tapHold:null}},this.registerColumnOption("headerClick"),this.registerColumnOption("headerDblClick"),this.registerColumnOption("headerContext"),this.registerColumnOption("headerMouseEnter"),this.registerColumnOption("headerMouseLeave"),this.registerColumnOption("headerMouseOver"),this.registerColumnOption("headerMouseOut"),this.registerColumnOption("headerMouseMove"),this.registerColumnOption("headerMouseDown"),this.registerColumnOption("headerMouseUp"),this.registerColumnOption("headerTap"),this.registerColumnOption("headerDblTap"),this.registerColumnOption("headerTapHold"),this.registerColumnOption("cellClick"),this.registerColumnOption("cellDblClick"),this.registerColumnOption("cellContext"),this.registerColumnOption("cellMouseEnter"),this.registerColumnOption("cellMouseLeave"),this.registerColumnOption("cellMouseOver"),this.registerColumnOption("cellMouseOut"),this.registerColumnOption("cellMouseMove"),this.registerColumnOption("cellMouseDown"),this.registerColumnOption("cellMouseUp"),this.registerColumnOption("cellTap"),this.registerColumnOption("cellDblTap"),this.registerColumnOption("cellTapHold")}initialize(){this.initializeExternalEvents(),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("cell-dblclick",this.cellContentsSelectionFixer.bind(this)),this.subscribe("scroll-horizontal",this.clearTouchWatchers.bind(this)),this.subscribe("scroll-vertical",this.clearTouchWatchers.bind(this))}clearTouchWatchers(){Object.values(this.touchWatchers).forEach((t=>{for(let e in t)t[e]=null}))}cellContentsSelectionFixer(t,e){var i;if(!this.table.modExists("edit")||this.table.modules.edit.currentCell!==e){t.preventDefault();try{document.selection?((i=document.body.createTextRange()).moveToElementText(e.getElement()),i.select()):window.getSelection&&((i=document.createRange()).selectNode(e.getElement()),window.getSelection().removeAllRanges(),window.getSelection().addRange(i))}catch(t){}}}initializeExternalEvents(){for(let t in this.eventMap)this.subscriptionChangeExternal(t,this.subscriptionChanged.bind(this,t))}subscriptionChanged(t,e){e?this.subscribers[t]||(this.eventMap[t].includes("-")?(this.subscribers[t]=this.handle.bind(this,t),this.subscribe(this.eventMap[t],this.subscribers[t])):this.subscribeTouchEvents(t)):this.eventMap[t].includes("-")?!this.subscribers[t]||this.columnSubscribers[t]||this.subscribedExternal(t)||(this.unsubscribe(this.eventMap[t],this.subscribers[t]),delete this.subscribers[t]):this.unsubscribeTouchEvents(t)}subscribeTouchEvents(t){var e=this.eventMap[t];this.touchSubscribers[e+"-touchstart"]||(this.touchSubscribers[e+"-touchstart"]=this.handleTouch.bind(this,e,"start"),this.touchSubscribers[e+"-touchend"]=this.handleTouch.bind(this,e,"end"),this.subscribe(e+"-touchstart",this.touchSubscribers[e+"-touchstart"]),this.subscribe(e+"-touchend",this.touchSubscribers[e+"-touchend"])),this.subscribers[t]=!0}unsubscribeTouchEvents(t){var e=!0,i=this.eventMap[t];if(this.subscribers[t]&&!this.subscribedExternal(t)){delete this.subscribers[t];for(let t in this.eventMap)this.eventMap[t]===i&&this.subscribers[t]&&(e=!1);e&&(this.unsubscribe(i+"-touchstart",this.touchSubscribers[i+"-touchstart"]),this.unsubscribe(i+"-touchend",this.touchSubscribers[i+"-touchend"]),delete this.touchSubscribers[i+"-touchstart"],delete this.touchSubscribers[i+"-touchend"])}}initializeColumn(t){var e=t.definition;for(let i in this.eventMap)e[i]&&(this.subscriptionChanged(i,!0),this.columnSubscribers[i]||(this.columnSubscribers[i]=[]),this.columnSubscribers[i].push(t))}handle(t,e,i){this.dispatchEvent(t,e,i)}handleTouch(t,e,i,o){var r=this.touchWatchers[t];switch("column"===t&&(t="header"),e){case"start":r.tap=!0,clearTimeout(r.tapHold),r.tapHold=setTimeout((()=>{clearTimeout(r.tapHold),r.tapHold=null,r.tap=null,clearTimeout(r.tapDbl),r.tapDbl=null,this.dispatchEvent(t+"TapHold",i,o)}),1e3);break;case"end":r.tap&&(r.tap=null,this.dispatchEvent(t+"Tap",i,o)),r.tapDbl?(clearTimeout(r.tapDbl),r.tapDbl=null,this.dispatchEvent(t+"DblTap",i,o)):r.tapDbl=setTimeout((()=>{clearTimeout(r.tapDbl),r.tapDbl=null}),300),clearTimeout(r.tapHold),r.tapHold=null}}dispatchEvent(t,e,i){var o,r=i.getComponent();this.columnSubscribers[t]&&(i instanceof w?o=i.column.definition[t]:i instanceof x&&(o=i.definition[t]),o&&o(e,r)),this.dispatchExternal(t,e,r)}}K.moduleName="interaction";class Q extends l{constructor(t){super(t),this.watchKeys=null,this.pressedKeys=null,this.keyupBinding=!1,this.keydownBinding=!1,this.registerTableOption("keybindings",{}),this.registerTableOption("tabEndNewRow",!1)}initialize(){var t=this.table.options.keybindings,e={};this.watchKeys={},this.pressedKeys=[],!1!==t&&(Object.assign(e,Q.bindings),Object.assign(e,t),this.mapBindings(e),this.bindEvents()),this.subscribe("table-destroy",this.clearBindings.bind(this))}mapBindings(t){for(let e in t)Q.actions[e]&&t[e]&&("object"!=typeof t[e]&&(t[e]=[t[e]]),t[e].forEach((t=>{(Array.isArray(t)?t:[t]).forEach((t=>{this.mapBinding(e,t)}))})))}mapBinding(t,e){var i={action:Q.actions[t],keys:[],ctrl:!1,shift:!1,meta:!1};e.toString().toLowerCase().split(" ").join("").split("+").forEach((t=>{switch(t){case"ctrl":i.ctrl=!0;break;case"shift":i.shift=!0;break;case"meta":i.meta=!0;break;default:t=isNaN(t)?t.toUpperCase().charCodeAt(0):parseInt(t),i.keys.push(t),this.watchKeys[t]||(this.watchKeys[t]=[]),this.watchKeys[t].push(i)}}))}bindEvents(){var t=this;this.keyupBinding=function(e){var i=e.keyCode,o=t.watchKeys[i];o&&(t.pressedKeys.push(i),o.forEach((function(i){t.checkBinding(e,i)})))},this.keydownBinding=function(e){var i=e.keyCode;if(t.watchKeys[i]){var o=t.pressedKeys.indexOf(i);o>-1&&t.pressedKeys.splice(o,1)}},this.table.element.addEventListener("keydown",this.keyupBinding),this.table.element.addEventListener("keyup",this.keydownBinding)}clearBindings(){this.keyupBinding&&this.table.element.removeEventListener("keydown",this.keyupBinding),this.keydownBinding&&this.table.element.removeEventListener("keyup",this.keydownBinding)}checkBinding(t,e){var i=!0;return t.ctrlKey==e.ctrl&&t.shiftKey==e.shift&&t.metaKey==e.meta&&(e.keys.forEach((t=>{-1==this.pressedKeys.indexOf(t)&&(i=!1)})),i&&e.action.call(this,t),!0)}}Q.moduleName="keybindings",Q.bindings={navPrev:"shift + 9",navNext:9,navUp:38,navDown:40,navLeft:37,navRight:39,scrollPageUp:33,scrollPageDown:34,scrollToStart:36,scrollToEnd:35,undo:["ctrl + 90","meta + 90"],redo:["ctrl + 89","meta + 89"],copyToClipboard:["ctrl + 67","meta + 67"],rangeJumpUp:["ctrl + 38","meta + 38"],rangeJumpDown:["ctrl + 40","meta + 40"],rangeJumpLeft:["ctrl + 37","meta + 37"],rangeJumpRight:["ctrl + 39","meta + 39"],rangeExpandUp:"shift + 38",rangeExpandDown:"shift + 40",rangeExpandLeft:"shift + 37",rangeExpandRight:"shift + 39",rangeExpandJumpUp:["ctrl + shift + 38","meta + shift + 38"],rangeExpandJumpDown:["ctrl + shift + 40","meta + shift + 40"],rangeExpandJumpLeft:["ctrl + shift + 37","meta + shift + 37"],rangeExpandJumpRight:["ctrl + shift + 39","meta + shift + 39"]},Q.actions={keyBlock:function(t){t.stopPropagation(),t.preventDefault()},scrollPageUp:function(t){var e=this.table.rowManager,i=e.scrollTop-e.element.clientHeight;t.preventDefault(),e.displayRowsCount&&(i>=0?e.element.scrollTop=i:e.scrollToRow(e.getDisplayRows()[0])),this.table.element.focus()},scrollPageDown:function(t){var e=this.table.rowManager,i=e.scrollTop+e.element.clientHeight,o=e.element.scrollHeight;t.preventDefault(),e.displayRowsCount&&(i<=o?e.element.scrollTop=i:e.scrollToRow(e.getDisplayRows()[e.displayRowsCount-1])),this.table.element.focus()},scrollToStart:function(t){var e=this.table.rowManager;t.preventDefault(),e.displayRowsCount&&e.scrollToRow(e.getDisplayRows()[0]),this.table.element.focus()},scrollToEnd:function(t){var e=this.table.rowManager;t.preventDefault(),e.displayRowsCount&&e.scrollToRow(e.getDisplayRows()[e.displayRowsCount-1]),this.table.element.focus()},navPrev:function(t){this.dispatch("keybinding-nav-prev",t)},navNext:function(t){this.dispatch("keybinding-nav-next",t)},navLeft:function(t){this.dispatch("keybinding-nav-left",t)},navRight:function(t){this.dispatch("keybinding-nav-right",t)},navUp:function(t){this.dispatch("keybinding-nav-up",t)},navDown:function(t){this.dispatch("keybinding-nav-down",t)},rangeJumpLeft:function(t){this.dispatch("keybinding-nav-range",t,"left",!0,!1)},rangeJumpRight:function(t){this.dispatch("keybinding-nav-range",t,"right",!0,!1)},rangeJumpUp:function(t){this.dispatch("keybinding-nav-range",t,"up",!0,!1)},rangeJumpDown:function(t){this.dispatch("keybinding-nav-range",t,"down",!0,!1)},rangeExpandLeft:function(t){this.dispatch("keybinding-nav-range",t,"left",!1,!0)},rangeExpandRight:function(t){this.dispatch("keybinding-nav-range",t,"right",!1,!0)},rangeExpandUp:function(t){this.dispatch("keybinding-nav-range",t,"up",!1,!0)},rangeExpandDown:function(t){this.dispatch("keybinding-nav-range",t,"down",!1,!0)},rangeExpandJumpLeft:function(t){this.dispatch("keybinding-nav-range",t,"left",!0,!0)},rangeExpandJumpRight:function(t){this.dispatch("keybinding-nav-range",t,"right",!0,!0)},rangeExpandJumpUp:function(t){this.dispatch("keybinding-nav-range",t,"up",!0,!0)},rangeExpandJumpDown:function(t){this.dispatch("keybinding-nav-range",t,"down",!0,!0)},undo:function(t){this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(this.table.modules.edit.currentCell||(t.preventDefault(),this.table.modules.history.undo()))},redo:function(t){this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(this.table.modules.edit.currentCell||(t.preventDefault(),this.table.modules.history.redo()))},copyToClipboard:function(t){this.table.modules.edit.currentCell||this.table.modExists("clipboard",!0)&&this.table.modules.clipboard.copy(!1,!0)}};class J extends l{constructor(t){super(t),this.menuContainer=null,this.nestedMenuBlock=!1,this.currentComponent=null,this.rootPopup=null,this.columnSubscribers={},this.registerTableOption("menuContainer",void 0),this.registerTableOption("rowContextMenu",!1),this.registerTableOption("rowClickMenu",!1),this.registerTableOption("rowDblClickMenu",!1),this.registerTableOption("groupContextMenu",!1),this.registerTableOption("groupClickMenu",!1),this.registerTableOption("groupDblClickMenu",!1),this.registerColumnOption("headerContextMenu"),this.registerColumnOption("headerClickMenu"),this.registerColumnOption("headerDblClickMenu"),this.registerColumnOption("headerMenu"),this.registerColumnOption("headerMenuIcon"),this.registerColumnOption("contextMenu"),this.registerColumnOption("clickMenu"),this.registerColumnOption("dblClickMenu")}initialize(){this.deprecatedOptionsCheck(),this.initializeRowWatchers(),this.initializeGroupWatchers(),this.subscribe("column-init",this.initializeColumn.bind(this))}deprecatedOptionsCheck(){this.deprecationCheck("menuContainer","popupContainer")||(this.table.options.popupContainer=this.table.options.menuContainer)}initializeRowWatchers(){this.table.options.rowContextMenu&&(this.subscribe("row-contextmenu",this.loadMenuEvent.bind(this,this.table.options.rowContextMenu)),this.table.on("rowTapHold",this.loadMenuEvent.bind(this,this.table.options.rowContextMenu))),this.table.options.rowClickMenu&&this.subscribe("row-click",this.loadMenuEvent.bind(this,this.table.options.rowClickMenu)),this.table.options.rowDblClickMenu&&this.subscribe("row-dblclick",this.loadMenuEvent.bind(this,this.table.options.rowDblClickMenu))}initializeGroupWatchers(){this.table.options.groupContextMenu&&(this.subscribe("group-contextmenu",this.loadMenuEvent.bind(this,this.table.options.groupContextMenu)),this.table.on("groupTapHold",this.loadMenuEvent.bind(this,this.table.options.groupContextMenu))),this.table.options.groupClickMenu&&this.subscribe("group-click",this.loadMenuEvent.bind(this,this.table.options.groupClickMenu)),this.table.options.groupDblClickMenu&&this.subscribe("group-dblclick",this.loadMenuEvent.bind(this,this.table.options.groupDblClickMenu))}initializeColumn(t){var e=t.definition;e.headerContextMenu&&!this.columnSubscribers.headerContextMenu&&(this.columnSubscribers.headerContextMenu=this.loadMenuTableColumnEvent.bind(this,"headerContextMenu"),this.subscribe("column-contextmenu",this.columnSubscribers.headerContextMenu),this.table.on("headerTapHold",this.loadMenuTableColumnEvent.bind(this,"headerContextMenu"))),e.headerClickMenu&&!this.columnSubscribers.headerClickMenu&&(this.columnSubscribers.headerClickMenu=this.loadMenuTableColumnEvent.bind(this,"headerClickMenu"),this.subscribe("column-click",this.columnSubscribers.headerClickMenu)),e.headerDblClickMenu&&!this.columnSubscribers.headerDblClickMenu&&(this.columnSubscribers.headerDblClickMenu=this.loadMenuTableColumnEvent.bind(this,"headerDblClickMenu"),this.subscribe("column-dblclick",this.columnSubscribers.headerDblClickMenu)),e.headerMenu&&this.initializeColumnHeaderMenu(t),e.contextMenu&&!this.columnSubscribers.contextMenu&&(this.columnSubscribers.contextMenu=this.loadMenuTableCellEvent.bind(this,"contextMenu"),this.subscribe("cell-contextmenu",this.columnSubscribers.contextMenu),this.table.on("cellTapHold",this.loadMenuTableCellEvent.bind(this,"contextMenu"))),e.clickMenu&&!this.columnSubscribers.clickMenu&&(this.columnSubscribers.clickMenu=this.loadMenuTableCellEvent.bind(this,"clickMenu"),this.subscribe("cell-click",this.columnSubscribers.clickMenu)),e.dblClickMenu&&!this.columnSubscribers.dblClickMenu&&(this.columnSubscribers.dblClickMenu=this.loadMenuTableCellEvent.bind(this,"dblClickMenu"),this.subscribe("cell-dblclick",this.columnSubscribers.dblClickMenu))}initializeColumnHeaderMenu(t){var e,i=t.definition.headerMenuIcon;(e=document.createElement("span")).classList.add("tabulator-header-popup-button"),i?("function"==typeof i&&(i=i(t.getComponent())),i instanceof HTMLElement?e.appendChild(i):e.innerHTML=i):e.innerHTML="&vellip;",e.addEventListener("click",(e=>{e.stopPropagation(),e.preventDefault(),this.loadMenuEvent(t.definition.headerMenu,e,t)})),t.titleElement.insertBefore(e,t.titleElement.firstChild)}loadMenuTableCellEvent(t,e,i){i._cell&&(i=i._cell),i.column.definition[t]&&this.loadMenuEvent(i.column.definition[t],e,i)}loadMenuTableColumnEvent(t,e,i){i._column&&(i=i._column),i.definition[t]&&this.loadMenuEvent(i.definition[t],e,i)}loadMenuEvent(t,e,i){i._group?i=i._group:i._row&&(i=i._row),t="function"==typeof t?t.call(this.table,e,i.getComponent()):t,this.loadMenu(e,i,t)}loadMenu(t,e,i,o,r){var n,a=!(t instanceof MouseEvent),s=document.createElement("div");if(s.classList.add("tabulator-menu"),a||t.preventDefault(),i&&i.length){if(o)n=r.child(s);else{if(this.nestedMenuBlock){if(this.rootPopup)return}else this.nestedMenuBlock=setTimeout((()=>{this.nestedMenuBlock=!1}),100);this.rootPopup&&this.rootPopup.hide(),this.rootPopup=n=this.popup(s)}i.forEach((t=>{var i=document.createElement("div"),o=t.label,r=t.disabled;t.separator?i.classList.add("tabulator-menu-separator"):(i.classList.add("tabulator-menu-item"),"function"==typeof o&&(o=o.call(this.table,e.getComponent())),o instanceof Node?i.appendChild(o):i.innerHTML=o,"function"==typeof r&&(r=r.call(this.table,e.getComponent())),r?(i.classList.add("tabulator-menu-item-disabled"),i.addEventListener("click",(t=>{t.stopPropagation()}))):t.menu&&t.menu.length?i.addEventListener("click",(o=>{o.stopPropagation(),this.loadMenu(o,e,t.menu,i,n)})):t.action&&i.addEventListener("click",(i=>{t.action(i,e.getComponent())})),t.menu&&t.menu.length&&i.classList.add("tabulator-menu-item-submenu")),s.appendChild(i)})),s.addEventListener("click",(t=>{this.rootPopup&&this.rootPopup.hide()})),n.show(o||t),n===this.rootPopup&&(this.rootPopup.hideOnBlur((()=>{this.rootPopup=null,this.currentComponent&&(this.dispatch("menu-closed",i,n),this.dispatchExternal("menuClosed",this.currentComponent.getComponent()),this.currentComponent=null)})),this.currentComponent=e,this.dispatch("menu-opened",i,n),this.dispatchExternal("menuOpened",e.getComponent()))}}}J.moduleName="menu";class Z extends l{constructor(t){super(t),this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=250,this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.startX=0,this.autoScrollMargin=40,this.autoScrollStep=5,this.autoScrollTimeout=!1,this.touchMove=!1,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.registerTableOption("movableColumns",!1)}createPlaceholderElement(){var t=document.createElement("div");return t.classList.add("tabulator-col"),t.classList.add("tabulator-col-placeholder"),t}initialize(){this.table.options.movableColumns&&(this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("alert-show",this.abortMove.bind(this)))}abortMove(){clearTimeout(this.checkTimeout)}initializeColumn(t){var e,i=this,o={};t.modules.frozen||t.isGroup||(e=t.getElement(),o.mousemove=function(o){t.parent===i.moving.parent&&((i.touchMove?o.touches[0].pageX:o.pageX)-a.elOffset(e).left+i.table.columnManager.contentsElement.scrollLeft>t.getWidth()/2?i.toCol===t&&i.toColAfter||(e.parentNode.insertBefore(i.placeholderElement,e.nextSibling),i.moveColumn(t,!0)):(i.toCol!==t||i.toColAfter)&&(e.parentNode.insertBefore(i.placeholderElement,e),i.moveColumn(t,!1)))}.bind(i),e.addEventListener("mousedown",(function(e){i.touchMove=!1,1===e.which&&(i.checkTimeout=setTimeout((function(){i.startMove(e,t)}),i.checkPeriod))})),e.addEventListener("mouseup",(function(t){1===t.which&&i.checkTimeout&&clearTimeout(i.checkTimeout)})),i.bindTouchEvents(t)),t.modules.moveColumn=o}bindTouchEvents(t){var e,i,o,r,n,a,s=t.getElement(),l=!1;s.addEventListener("touchstart",(s=>{this.checkTimeout=setTimeout((()=>{this.touchMove=!0,e=t.nextColumn(),o=e?e.getWidth()/2:0,i=t.prevColumn(),r=i?i.getWidth()/2:0,n=0,a=0,l=!1,this.startMove(s,t)}),this.checkPeriod)}),{passive:!0}),s.addEventListener("touchmove",(s=>{var u,h;this.moving&&(this.moveHover(s),l||(l=s.touches[0].pageX),(u=s.touches[0].pageX-l)>0?e&&u-n>o&&(h=e)!==t&&(l=s.touches[0].pageX,h.getElement().parentNode.insertBefore(this.placeholderElement,h.getElement().nextSibling),this.moveColumn(h,!0)):i&&-u-a>r&&(h=i)!==t&&(l=s.touches[0].pageX,h.getElement().parentNode.insertBefore(this.placeholderElement,h.getElement()),this.moveColumn(h,!1)),h&&(e=h.nextColumn(),n=o,o=e?e.getWidth()/2:0,i=h.prevColumn(),a=r,r=i?i.getWidth()/2:0))}),{passive:!0}),s.addEventListener("touchend",(t=>{this.checkTimeout&&clearTimeout(this.checkTimeout),this.moving&&this.endMove(t)}))}startMove(t,e){var i=e.getElement(),o=this.table.columnManager.getContentsElement(),r=this.table.columnManager.getHeadersElement();this.moving=e,this.startX=(this.touchMove?t.touches[0].pageX:t.pageX)-a.elOffset(i).left,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=e.getWidth()+"px",this.placeholderElement.style.height=e.getHeight()+"px",i.parentNode.insertBefore(this.placeholderElement,i),i.parentNode.removeChild(i),this.hoverElement=i.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),o.appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.bottom=o.clientHeight-r.offsetHeight+"px",this.touchMove||(this._bindMouseMove(),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove)),this.moveHover(t)}_bindMouseMove(){this.table.columnManager.columnsByIndex.forEach((function(t){t.modules.moveColumn.mousemove&&t.getElement().addEventListener("mousemove",t.modules.moveColumn.mousemove)}))}_unbindMouseMove(){this.table.columnManager.columnsByIndex.forEach((function(t){t.modules.moveColumn.mousemove&&t.getElement().removeEventListener("mousemove",t.modules.moveColumn.mousemove)}))}moveColumn(t,e){var i=this.moving.getCells();this.toCol=t,this.toColAfter=e,e?t.getCells().forEach((function(t,e){var o=t.getElement(!0);o.parentNode&&i[e]&&o.parentNode.insertBefore(i[e].getElement(),o.nextSibling)})):t.getCells().forEach((function(t,e){var o=t.getElement(!0);o.parentNode&&i[e]&&o.parentNode.insertBefore(i[e].getElement(),o)}))}endMove(t){(1===t.which||this.touchMove)&&(this._unbindMouseMove(),this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toCol&&this.table.columnManager.moveColumnActual(this.moving,this.toCol,this.toColAfter),this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.touchMove||(document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove)))}moveHover(t){var e,i=this.table.columnManager.getContentsElement(),o=i.scrollLeft,r=(this.touchMove?t.touches[0].pageX:t.pageX)-a.elOffset(i).left+o;this.hoverElement.style.left=r-this.startX+"px",r-o<this.autoScrollMargin&&(this.autoScrollTimeout||(this.autoScrollTimeout=setTimeout((()=>{e=Math.max(0,o-5),this.table.rowManager.getElement().scrollLeft=e,this.autoScrollTimeout=!1}),1))),o+i.clientWidth-r<this.autoScrollMargin&&(this.autoScrollTimeout||(this.autoScrollTimeout=setTimeout((()=>{e=Math.min(i.clientWidth,o+5),this.table.rowManager.getElement().scrollLeft=e,this.autoScrollTimeout=!1}),1)))}}Z.moduleName="moveColumn";class tt extends l{constructor(t){super(t),this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=150,this.moving=!1,this.toRow=!1,this.toRowAfter=!1,this.hasHandle=!1,this.startY=0,this.startX=0,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.tableRowDropEvent=!1,this.touchMove=!1,this.connection=!1,this.connectionSelectorsTables=!1,this.connectionSelectorsElements=!1,this.connectionElements=[],this.connections=[],this.connectedTable=!1,this.connectedRow=!1,this.registerTableOption("movableRows",!1),this.registerTableOption("movableRowsConnectedTables",!1),this.registerTableOption("movableRowsConnectedElements",!1),this.registerTableOption("movableRowsSender",!1),this.registerTableOption("movableRowsReceiver","insert"),this.registerColumnOption("rowHandle")}createPlaceholderElement(){var t=document.createElement("div");return t.classList.add("tabulator-row"),t.classList.add("tabulator-row-placeholder"),t}initialize(){this.table.options.movableRows&&(this.connectionSelectorsTables=this.table.options.movableRowsConnectedTables,this.connectionSelectorsElements=this.table.options.movableRowsConnectedElements,this.connection=this.connectionSelectorsTables||this.connectionSelectorsElements,this.subscribe("cell-init",this.initializeCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("row-init",this.initializeRow.bind(this)))}initializeGroupHeader(t){var e=this,i={};i.mouseup=function(i){e.tableRowDrop(i,t)}.bind(e),i.mousemove=function(i){var o;i.pageY-a.elOffset(t.element).top+e.table.rowManager.element.scrollTop>t.getHeight()/2?e.toRow===t&&e.toRowAfter||((o=t.getElement()).parentNode.insertBefore(e.placeholderElement,o.nextSibling),e.moveRow(t,!0)):(e.toRow!==t||e.toRowAfter)&&(o=t.getElement()).previousSibling&&(o.parentNode.insertBefore(e.placeholderElement,o),e.moveRow(t,!1))}.bind(e),t.modules.moveRow=i}initializeRow(t){var e,i=this,o={};o.mouseup=function(e){i.tableRowDrop(e,t)}.bind(i),o.mousemove=function(e){var o=t.getElement();e.pageY-a.elOffset(o).top+i.table.rowManager.element.scrollTop>t.getHeight()/2?i.toRow===t&&i.toRowAfter||(o.parentNode.insertBefore(i.placeholderElement,o.nextSibling),i.moveRow(t,!0)):(i.toRow!==t||i.toRowAfter)&&(o.parentNode.insertBefore(i.placeholderElement,o),i.moveRow(t,!1))}.bind(i),this.hasHandle||((e=t.getElement()).addEventListener("mousedown",(function(e){1===e.which&&(i.checkTimeout=setTimeout((function(){i.startMove(e,t)}),i.checkPeriod))})),e.addEventListener("mouseup",(function(t){1===t.which&&i.checkTimeout&&clearTimeout(i.checkTimeout)})),this.bindTouchEvents(t,t.getElement())),t.modules.moveRow=o}initializeColumn(t){t.definition.rowHandle&&!1!==this.table.options.movableRows&&(this.hasHandle=!0)}initializeCell(t){if(t.column.definition.rowHandle&&!1!==this.table.options.movableRows){var e=this,i=t.getElement(!0);i.addEventListener("mousedown",(function(i){1===i.which&&(e.checkTimeout=setTimeout((function(){e.startMove(i,t.row)}),e.checkPeriod))})),i.addEventListener("mouseup",(function(t){1===t.which&&e.checkTimeout&&clearTimeout(e.checkTimeout)})),this.bindTouchEvents(t.row,i)}}bindTouchEvents(t,e){var i,o,r,n,a,s,l=!1;e.addEventListener("touchstart",(e=>{this.checkTimeout=setTimeout((()=>{this.touchMove=!0,i=t.nextRow(),r=i?i.getHeight()/2:0,o=t.prevRow(),n=o?o.getHeight()/2:0,a=0,s=0,l=!1,this.startMove(e,t)}),this.checkPeriod)}),{passive:!0}),this.moving,this.toRow,this.toRowAfter,e.addEventListener("touchmove",(e=>{var u,h;this.moving&&(e.preventDefault(),this.moveHover(e),l||(l=e.touches[0].pageY),(u=e.touches[0].pageY-l)>0?i&&u-a>r&&(h=i)!==t&&(l=e.touches[0].pageY,h.getElement().parentNode.insertBefore(this.placeholderElement,h.getElement().nextSibling),this.moveRow(h,!0)):o&&-u-s>n&&(h=o)!==t&&(l=e.touches[0].pageY,h.getElement().parentNode.insertBefore(this.placeholderElement,h.getElement()),this.moveRow(h,!1)),h&&(i=h.nextRow(),a=r,r=i?i.getHeight()/2:0,o=h.prevRow(),s=n,n=o?o.getHeight()/2:0))})),e.addEventListener("touchend",(t=>{this.checkTimeout&&clearTimeout(this.checkTimeout),this.moving&&(this.endMove(t),this.touchMove=!1)}))}_bindMouseMove(){this.table.rowManager.getDisplayRows().forEach((t=>{("row"===t.type||"group"===t.type)&&t.modules.moveRow&&t.modules.moveRow.mousemove&&t.getElement().addEventListener("mousemove",t.modules.moveRow.mousemove)}))}_unbindMouseMove(){this.table.rowManager.getDisplayRows().forEach((t=>{("row"===t.type||"group"===t.type)&&t.modules.moveRow&&t.modules.moveRow.mousemove&&t.getElement().removeEventListener("mousemove",t.modules.moveRow.mousemove)}))}startMove(t,e){var i=e.getElement();this.setStartPosition(t,e),this.moving=e,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=e.getWidth()+"px",this.placeholderElement.style.height=e.getHeight()+"px",this.connection?(this.table.element.classList.add("tabulator-movingrow-sending"),this.connectToTables(e)):(i.parentNode.insertBefore(this.placeholderElement,i),i.parentNode.removeChild(i)),this.hoverElement=i.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),this.connection?(document.body.appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this.hoverElement.style.width=this.table.element.clientWidth+"px",this.hoverElement.style.whiteSpace="nowrap",this.hoverElement.style.overflow="hidden",this.hoverElement.style.pointerEvents="none"):(this.table.rowManager.getTableElement().appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this._bindMouseMove()),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove),this.dispatchExternal("rowMoving",e.getComponent()),this.moveHover(t)}setStartPosition(t,e){var i,o,r=this.touchMove?t.touches[0].pageX:t.pageX,n=this.touchMove?t.touches[0].pageY:t.pageY;i=e.getElement(),this.connection?(o=i.getBoundingClientRect(),this.startX=o.left-r+window.pageXOffset,this.startY=o.top-n+window.pageYOffset):this.startY=n-i.getBoundingClientRect().top}endMove(t){t&&1!==t.which&&!this.touchMove||(this._unbindMouseMove(),this.connection||(this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement)),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toRow?this.table.rowManager.moveRow(this.moving,this.toRow,this.toRowAfter):this.dispatchExternal("rowMoveCancelled",this.moving.getComponent()),this.moving=!1,this.toRow=!1,this.toRowAfter=!1,document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove),this.connection&&(this.table.element.classList.remove("tabulator-movingrow-sending"),this.disconnectFromTables()))}moveRow(t,e){this.toRow=t,this.toRowAfter=e}moveHover(t){this.connection?this.moveHoverConnections.call(this,t):this.moveHoverTable.call(this,t)}moveHoverTable(t){var e=this.table.rowManager.getElement(),i=e.scrollTop,o=(this.touchMove?t.touches[0].pageY:t.pageY)-e.getBoundingClientRect().top+i;this.hoverElement.style.top=Math.min(o-this.startY,this.table.rowManager.element.scrollHeight-this.hoverElement.offsetHeight)+"px"}moveHoverConnections(t){this.hoverElement.style.left=this.startX+(this.touchMove?t.touches[0].pageX:t.pageX)+"px",this.hoverElement.style.top=this.startY+(this.touchMove?t.touches[0].pageY:t.pageY)+"px"}elementRowDrop(t,e,i){this.dispatchExternal("movableRowsElementDrop",t,e,!!i&&i.getComponent())}connectToTables(t){var e;this.connectionSelectorsTables&&(e=this.commsConnections(this.connectionSelectorsTables),this.dispatchExternal("movableRowsSendingStart",e),this.commsSend(this.connectionSelectorsTables,"moveRow","connect",{row:t})),this.connectionSelectorsElements&&(this.connectionElements=[],Array.isArray(this.connectionSelectorsElements)||(this.connectionSelectorsElements=[this.connectionSelectorsElements]),this.connectionSelectorsElements.forEach((t=>{"string"==typeof t?this.connectionElements=this.connectionElements.concat(Array.prototype.slice.call(document.querySelectorAll(t))):this.connectionElements.push(t)})),this.connectionElements.forEach((t=>{var e=e=>{this.elementRowDrop(e,t,this.moving)};t.addEventListener("mouseup",e),t.tabulatorElementDropEvent=e,t.classList.add("tabulator-movingrow-receiving")})))}disconnectFromTables(){var t;this.connectionSelectorsTables&&(t=this.commsConnections(this.connectionSelectorsTables),this.dispatchExternal("movableRowsSendingStop",t),this.commsSend(this.connectionSelectorsTables,"moveRow","disconnect")),this.connectionElements.forEach((t=>{t.classList.remove("tabulator-movingrow-receiving"),t.removeEventListener("mouseup",t.tabulatorElementDropEvent),delete t.tabulatorElementDropEvent}))}connect(t,e){return!this.connectedTable&&(this.connectedTable=t,this.connectedRow=e,this.table.element.classList.add("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach((t=>{"row"===t.type&&t.modules.moveRow&&t.modules.moveRow.mouseup&&t.getElement().addEventListener("mouseup",t.modules.moveRow.mouseup)})),this.tableRowDropEvent=this.tableRowDrop.bind(this),this.table.element.addEventListener("mouseup",this.tableRowDropEvent),this.dispatchExternal("movableRowsReceivingStart",e,t),!0)}disconnect(t){t===this.connectedTable&&(this.connectedTable=!1,this.connectedRow=!1,this.table.element.classList.remove("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach((t=>{"row"===t.type&&t.modules.moveRow&&t.modules.moveRow.mouseup&&t.getElement().removeEventListener("mouseup",t.modules.moveRow.mouseup)})),this.table.element.removeEventListener("mouseup",this.tableRowDropEvent),this.dispatchExternal("movableRowsReceivingStop",t))}dropComplete(t,e,i){var o=!1;if(i){switch(typeof this.table.options.movableRowsSender){case"string":o=this.senders[this.table.options.movableRowsSender];break;case"function":o=this.table.options.movableRowsSender}o?o.call(this,this.moving?this.moving.getComponent():void 0,e?e.getComponent():void 0,t):this.table.options.movableRowsSender,this.dispatchExternal("movableRowsSent",this.moving.getComponent(),e?e.getComponent():void 0,t)}else this.dispatchExternal("movableRowsSentFailed",this.moving.getComponent(),e?e.getComponent():void 0,t);this.endMove()}tableRowDrop(t,e){var i=!1,o=!1;switch(t.stopImmediatePropagation(),typeof this.table.options.movableRowsReceiver){case"string":i=this.receivers[this.table.options.movableRowsReceiver];break;case"function":i=this.table.options.movableRowsReceiver}i&&(o=i.call(this,this.connectedRow.getComponent(),e?e.getComponent():void 0,this.connectedTable)),o?this.dispatchExternal("movableRowsReceived",this.connectedRow.getComponent(),e?e.getComponent():void 0,this.connectedTable):this.dispatchExternal("movableRowsReceivedFailed",this.connectedRow.getComponent(),e?e.getComponent():void 0,this.connectedTable),this.commsSend(this.connectedTable,"moveRow","dropcomplete",{row:e,success:o})}commsReceived(t,e,i){switch(e){case"connect":return this.connect(t,i.row);case"disconnect":return this.disconnect(t);case"dropcomplete":return this.dropComplete(t,i.row,i.success)}}}tt.prototype.receivers={insert:function(t,e,i){return this.table.addRow(t.getData(),void 0,e),!0},add:function(t,e,i){return this.table.addRow(t.getData()),!0},update:function(t,e,i){return!!e&&(e.update(t.getData()),!0)},replace:function(t,e,i){return!!e&&(this.table.addRow(t.getData(),void 0,e),e.delete(),!0)}},tt.prototype.senders={delete:function(t,e,i){t.delete()}},tt.moduleName="moveRow";class et extends l{constructor(t){super(t),this.allowedTypes=["","data","edit","clipboard"],this.enabled=!0,this.registerColumnOption("mutator"),this.registerColumnOption("mutatorParams"),this.registerColumnOption("mutatorData"),this.registerColumnOption("mutatorDataParams"),this.registerColumnOption("mutatorEdit"),this.registerColumnOption("mutatorEditParams"),this.registerColumnOption("mutatorClipboard"),this.registerColumnOption("mutatorClipboardParams"),this.registerColumnOption("mutateLink")}initialize(){this.subscribe("cell-value-changing",this.transformCell.bind(this)),this.subscribe("cell-value-changed",this.mutateLink.bind(this)),this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("row-data-init-before",this.rowDataChanged.bind(this)),this.subscribe("row-data-changing",this.rowDataChanged.bind(this))}rowDataChanged(t,e,i){return this.transformRow(e,"data",i)}initializeColumn(t){var e=!1,i={};this.allowedTypes.forEach((o=>{var r,n="mutator"+(o.charAt(0).toUpperCase()+o.slice(1));t.definition[n]&&(r=this.lookupMutator(t.definition[n]))&&(e=!0,i[n]={mutator:r,params:t.definition[n+"Params"]||{}})})),e&&(t.modules.mutate=i)}lookupMutator(t){var e=!1;switch(typeof t){case"string":et.mutators[t]&&(e=et.mutators[t]);break;case"function":e=t}return e}transformRow(t,e,i){var o,r="mutator"+(e.charAt(0).toUpperCase()+e.slice(1));return this.enabled&&this.table.columnManager.traverse((n=>{var a,s,l;n.modules.mutate&&(a=n.modules.mutate[r]||n.modules.mutate.mutator||!1)&&(o=n.getFieldValue(void 0!==i?i:t),("data"==e&&!i||void 0!==o)&&(l=n.getComponent(),s="function"==typeof a.params?a.params(o,t,e,l):a.params,n.setFieldValue(t,a.mutator(o,t,e,s,l))))})),t}transformCell(t,e){if(t.column.modules.mutate){var i=t.column.modules.mutate.mutatorEdit||t.column.modules.mutate.mutator||!1,o={};if(i)return o=Object.assign(o,t.row.getData()),t.column.setFieldValue(o,e),i.mutator(e,o,"edit",i.params,t.getComponent())}return e}mutateLink(t){var e=t.column.definition.mutateLink;e&&(Array.isArray(e)||(e=[e]),e.forEach((e=>{var i=t.row.getCell(e);i&&i.setValue(i.getValue(),!0,!0)})))}enable(){this.enabled=!0}disable(){this.enabled=!1}}et.moduleName="mutator",et.mutators={};var it={rows:function(t,e,i,o,r){var n=document.createElement("span"),a=document.createElement("span"),s=document.createElement("span"),l=document.createElement("span"),u=document.createElement("span"),h=document.createElement("span");return this.table.modules.localize.langBind("pagination|counter|showing",(t=>{a.innerHTML=t})),this.table.modules.localize.langBind("pagination|counter|of",(t=>{l.innerHTML=t})),this.table.modules.localize.langBind("pagination|counter|rows",(t=>{h.innerHTML=t})),o?(s.innerHTML=" "+e+"-"+Math.min(e+t-1,o)+" ",u.innerHTML=" "+o+" ",n.appendChild(a),n.appendChild(s),n.appendChild(l),n.appendChild(u),n.appendChild(h)):(s.innerHTML=" 0 ",n.appendChild(a),n.appendChild(s),n.appendChild(h)),n},pages:function(t,e,i,o,r){var n=document.createElement("span"),a=document.createElement("span"),s=document.createElement("span"),l=document.createElement("span"),u=document.createElement("span"),h=document.createElement("span");return this.table.modules.localize.langBind("pagination|counter|showing",(t=>{a.innerHTML=t})),s.innerHTML=" "+i+" ",this.table.modules.localize.langBind("pagination|counter|of",(t=>{l.innerHTML=t})),u.innerHTML=" "+r+" ",this.table.modules.localize.langBind("pagination|counter|pages",(t=>{h.innerHTML=t})),n.appendChild(a),n.appendChild(s),n.appendChild(l),n.appendChild(u),n.appendChild(h),n}};class ot extends l{constructor(t){super(t),this.mode="local",this.progressiveLoad=!1,this.element=null,this.pageCounterElement=null,this.pageCounter=null,this.size=0,this.page=1,this.count=5,this.max=1,this.remoteRowCountEstimate=null,this.initialLoad=!0,this.dataChanging=!1,this.pageSizes=[],this.registerTableOption("pagination",!1),this.registerTableOption("paginationMode","local"),this.registerTableOption("paginationSize",!1),this.registerTableOption("paginationInitialPage",1),this.registerTableOption("paginationCounter",!1),this.registerTableOption("paginationCounterElement",!1),this.registerTableOption("paginationButtonCount",5),this.registerTableOption("paginationSizeSelector",!1),this.registerTableOption("paginationElement",!1),this.registerTableOption("paginationAddRow","page"),this.registerTableOption("progressiveLoad",!1),this.registerTableOption("progressiveLoadDelay",0),this.registerTableOption("progressiveLoadScrollMargin",0),this.registerTableFunction("setMaxPage",this.setMaxPage.bind(this)),this.registerTableFunction("setPage",this.setPage.bind(this)),this.registerTableFunction("setPageToRow",this.userSetPageToRow.bind(this)),this.registerTableFunction("setPageSize",this.userSetPageSize.bind(this)),this.registerTableFunction("getPageSize",this.getPageSize.bind(this)),this.registerTableFunction("previousPage",this.previousPage.bind(this)),this.registerTableFunction("nextPage",this.nextPage.bind(this)),this.registerTableFunction("getPage",this.getPage.bind(this)),this.registerTableFunction("getPageMax",this.getPageMax.bind(this)),this.registerComponentFunction("row","pageTo",this.setPageToRow.bind(this))}initialize(){this.table.options.pagination?(this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("row-added",this.rowsUpdated.bind(this)),this.subscribe("data-processed",this.initialLoadComplete.bind(this)),this.subscribe("table-built",this.calculatePageSizes.bind(this)),this.subscribe("footer-redraw",this.footerRedraw.bind(this)),"page"==this.table.options.paginationAddRow&&this.subscribe("row-adding-position",this.rowAddingPosition.bind(this)),"remote"===this.table.options.paginationMode&&(this.subscribe("data-params",this.remotePageParams.bind(this)),this.subscribe("data-loaded",this._parseRemoteData.bind(this))),this.table.options.progressiveLoad,this.registerDisplayHandler(this.restOnRenderBefore.bind(this),40),this.registerDisplayHandler(this.getRows.bind(this),50),this.createElements(),this.initializePageCounter(),this.initializePaginator()):this.table.options.progressiveLoad&&(this.subscribe("data-params",this.remotePageParams.bind(this)),this.subscribe("data-loaded",this._parseRemoteData.bind(this)),this.subscribe("table-built",this.calculatePageSizes.bind(this)),this.subscribe("data-processed",this.initialLoadComplete.bind(this)),this.initializeProgressive(this.table.options.progressiveLoad),"scroll"===this.table.options.progressiveLoad&&this.subscribe("scroll-vertical",this.scrollVertical.bind(this)))}rowAddingPosition(t,e){var i,o=this.table.rowManager,r=o.getDisplayRows();return e?r.length?i=r[0]:o.activeRows.length&&(i=o.activeRows[o.activeRows.length-1],e=!1):r.length&&(i=r[r.length-1],e=!(r.length<this.size)),{index:i,top:e}}calculatePageSizes(){var t,e;this.table.options.paginationSize?this.size=this.table.options.paginationSize:((t=document.createElement("div")).classList.add("tabulator-row"),t.style.visibility="hidden",(e=document.createElement("div")).classList.add("tabulator-cell"),e.innerHTML="Page Row Test",t.appendChild(e),this.table.rowManager.getTableElement().appendChild(t),this.size=Math.floor(this.table.rowManager.getElement().clientHeight/t.offsetHeight),this.table.rowManager.getTableElement().removeChild(t)),this.dispatchExternal("pageSizeChanged",this.size),this.generatePageSizeSelectList()}initialLoadComplete(){this.initialLoad=!1}remotePageParams(t,e,i,o){return this.initialLoad||(this.progressiveLoad&&!i||!this.progressiveLoad&&!this.dataChanging)&&this.reset(!0),o.page=this.page,this.size&&(o.size=this.size),o}userSetPageToRow(t){return this.table.options.pagination&&(t=this.table.rowManager.findRow(t))?this.setPageToRow(t):Promise.reject()}userSetPageSize(t){return!!this.table.options.pagination&&(this.setPageSize(t),this.setPage(1))}scrollVertical(t,e){var i;e||this.table.dataLoader.loading||(i=this.table.rowManager.getElement()).scrollHeight-i.clientHeight-t<(this.table.options.progressiveLoadScrollMargin||2*i.clientHeight)&&this.nextPage().catch((()=>{}))}restOnRenderBefore(t,e){return e||"local"===this.mode&&this.reset(),t}rowsUpdated(){this.refreshData(!0,"all")}createElements(){var t;this.element=document.createElement("span"),this.element.classList.add("tabulator-paginator"),this.pagesElement=document.createElement("span"),this.pagesElement.classList.add("tabulator-pages"),(t=document.createElement("button")).classList.add("tabulator-page"),t.setAttribute("type","button"),t.setAttribute("role","button"),t.setAttribute("aria-label",""),t.setAttribute("title",""),this.firstBut=t.cloneNode(!0),this.firstBut.setAttribute("data-page","first"),this.prevBut=t.cloneNode(!0),this.prevBut.setAttribute("data-page","prev"),this.nextBut=t.cloneNode(!0),this.nextBut.setAttribute("data-page","next"),this.lastBut=t.cloneNode(!0),this.lastBut.setAttribute("data-page","last"),this.table.options.paginationSizeSelector&&(this.pageSizeSelect=document.createElement("select"),this.pageSizeSelect.classList.add("tabulator-page-size"))}generatePageSizeSelectList(){var t=[];if(this.pageSizeSelect){if(Array.isArray(this.table.options.paginationSizeSelector))t=this.table.options.paginationSizeSelector,this.pageSizes=t,-1==this.pageSizes.indexOf(this.size)&&t.unshift(this.size);else if(-1==this.pageSizes.indexOf(this.size)){t=[];for(let e=1;e<5;e++)t.push(this.size*e);this.pageSizes=t}else t=this.pageSizes;for(;this.pageSizeSelect.firstChild;)this.pageSizeSelect.removeChild(this.pageSizeSelect.firstChild);t.forEach((t=>{var e=document.createElement("option");e.value=t,!0===t?this.langBind("pagination|all",(function(t){e.innerHTML=t})):e.innerHTML=t,this.pageSizeSelect.appendChild(e)})),this.pageSizeSelect.value=this.size}}initializePageCounter(){var t=this.table.options.paginationCounter,e=null;t&&(e="function"==typeof t?t:ot.pageCounters[t])&&(this.pageCounter=e,this.pageCounterElement=document.createElement("span"),this.pageCounterElement.classList.add("tabulator-page-counter"))}initializePaginator(t){var e,i;t||(this.langBind("pagination|first",(t=>{this.firstBut.innerHTML=t})),this.langBind("pagination|first_title",(t=>{this.firstBut.setAttribute("aria-label",t),this.firstBut.setAttribute("title",t)})),this.langBind("pagination|prev",(t=>{this.prevBut.innerHTML=t})),this.langBind("pagination|prev_title",(t=>{this.prevBut.setAttribute("aria-label",t),this.prevBut.setAttribute("title",t)})),this.langBind("pagination|next",(t=>{this.nextBut.innerHTML=t})),this.langBind("pagination|next_title",(t=>{this.nextBut.setAttribute("aria-label",t),this.nextBut.setAttribute("title",t)})),this.langBind("pagination|last",(t=>{this.lastBut.innerHTML=t})),this.langBind("pagination|last_title",(t=>{this.lastBut.setAttribute("aria-label",t),this.lastBut.setAttribute("title",t)})),this.firstBut.addEventListener("click",(()=>{this.setPage(1)})),this.prevBut.addEventListener("click",(()=>{this.previousPage()})),this.nextBut.addEventListener("click",(()=>{this.nextPage()})),this.lastBut.addEventListener("click",(()=>{this.setPage(this.max)})),this.table.options.paginationElement&&(this.element=this.table.options.paginationElement),this.pageSizeSelect&&(e=document.createElement("label"),this.langBind("pagination|page_size",(t=>{this.pageSizeSelect.setAttribute("aria-label",t),this.pageSizeSelect.setAttribute("title",t),e.innerHTML=t})),this.element.appendChild(e),this.element.appendChild(this.pageSizeSelect),this.pageSizeSelect.addEventListener("change",(t=>{this.setPageSize("true"==this.pageSizeSelect.value||this.pageSizeSelect.value),this.setPage(1)}))),this.element.appendChild(this.firstBut),this.element.appendChild(this.prevBut),this.element.appendChild(this.pagesElement),this.element.appendChild(this.nextBut),this.element.appendChild(this.lastBut),this.table.options.paginationElement||(this.table.options.paginationCounter&&(this.table.options.paginationCounterElement?this.table.options.paginationCounterElement instanceof HTMLElement?this.table.options.paginationCounterElement.appendChild(this.pageCounterElement):"string"==typeof this.table.options.paginationCounterElement&&(i=document.querySelector(this.table.options.paginationCounterElement))&&i.appendChild(this.pageCounterElement):this.footerAppend(this.pageCounterElement)),this.footerAppend(this.element)),this.page=this.table.options.paginationInitialPage,this.count=this.table.options.paginationButtonCount),this.mode=this.table.options.paginationMode}initializeProgressive(t){this.initializePaginator(!0),this.mode="progressive_"+t,this.progressiveLoad=!0}trackChanges(){this.dispatch("page-changed")}setMaxRows(t){this.max=t?!0===this.size?1:Math.ceil(t/this.size):1,this.page>this.max&&(this.page=this.max)}reset(t){this.initialLoad||("local"==this.mode||t)&&(this.page=1,this.trackChanges())}setMaxPage(t){t=parseInt(t),this.max=t||1,this.page>this.max&&(this.page=this.max,this.trigger())}setPage(t){switch(t){case"first":return this.setPage(1);case"prev":return this.previousPage();case"next":return this.nextPage();case"last":return this.setPage(this.max)}return(t=parseInt(t))>0&&t<=this.max||"local"!==this.mode?(this.page=t,this.trackChanges(),this.trigger()):Promise.reject()}setPageToRow(t){var e=this.displayRows(-1).indexOf(t);if(e>-1){var i=!0===this.size?1:Math.ceil((e+1)/this.size);return this.setPage(i)}return Promise.reject()}setPageSize(t){!0!==t&&(t=parseInt(t)),t>0&&(this.size=t,this.dispatchExternal("pageSizeChanged",t)),this.pageSizeSelect&&this.generatePageSizeSelectList(),this.trackChanges()}_setPageCounter(t,e,i){var o;if(this.pageCounter)switch("remote"===this.mode&&(e=this.size,i=(this.page-1)*this.size+1,t=this.remoteRowCountEstimate),typeof(o=this.pageCounter.call(this,e,i,this.page,t,this.max))){case"object":if(o instanceof Node){for(;this.pageCounterElement.firstChild;)this.pageCounterElement.removeChild(this.pageCounterElement.firstChild);this.pageCounterElement.appendChild(o)}else this.pageCounterElement.innerHTML="";break;case"undefined":this.pageCounterElement.innerHTML="";break;default:this.pageCounterElement.innerHTML=o}}_setPageButtons(){let t=Math.floor((this.count-1)/2),e=Math.ceil((this.count-1)/2),i=this.max-this.page+t+1<this.count?this.max-this.count+1:Math.max(this.page-t,1),o=this.page<=e?Math.min(this.count,this.max):Math.min(this.page+e,this.max);for(;this.pagesElement.firstChild;)this.pagesElement.removeChild(this.pagesElement.firstChild);1==this.page?(this.firstBut.disabled=!0,this.prevBut.disabled=!0):(this.firstBut.disabled=!1,this.prevBut.disabled=!1),this.page==this.max?(this.lastBut.disabled=!0,this.nextBut.disabled=!0):(this.lastBut.disabled=!1,this.nextBut.disabled=!1);for(let t=i;t<=o;t++)t>0&&t<=this.max&&this.pagesElement.appendChild(this._generatePageButton(t));this.footerRedraw()}_generatePageButton(t){var e=document.createElement("button");return e.classList.add("tabulator-page"),t==this.page&&e.classList.add("active"),e.setAttribute("type","button"),e.setAttribute("role","button"),this.langBind("pagination|page_title",(i=>{e.setAttribute("aria-label",i+" "+t),e.setAttribute("title",i+" "+t)})),e.setAttribute("data-page",t),e.textContent=t,e.addEventListener("click",(e=>{this.setPage(t)})),e}previousPage(){return this.page>1?(this.page--,this.trackChanges(),this.trigger()):Promise.reject()}nextPage(){return this.page<this.max?(this.page++,this.trackChanges(),this.trigger()):(this.progressiveLoad,Promise.reject())}getPage(){return this.page}getPageMax(){return this.max}getPageSize(t){return this.size}getMode(){return this.mode}getRows(t){var e,i,o,r,n=0,a=t.filter((t=>"row"===t.type));if("local"==this.mode){e=[],this.setMaxRows(t.length),!0===this.size?(i=0,o=t.length):o=(i=this.size*(this.page-1))+parseInt(this.size),this._setPageButtons();for(let a=i;a<o;a++){let i=t[a];i&&(e.push(i),"row"===i.type&&(r||(r=i),n++))}return this._setPageCounter(a.length,n,r?a.indexOf(r)+1:0),e}return this._setPageButtons(),this._setPageCounter(a.length),t.slice(0)}trigger(){var t;switch(this.mode){case"local":return t=this.table.rowManager.scrollLeft,this.refreshData(),this.table.rowManager.scrollHorizontal(t),this.dispatchExternal("pageLoaded",this.getPage()),Promise.resolve();case"remote":return this.dataChanging=!0,this.reloadData(null).finally((()=>{this.dataChanging=!1}));case"progressive_load":case"progressive_scroll":return this.reloadData(null,!0);default:return Promise.reject()}}_parseRemoteData(t){var e;if(t.last_page,t.data){if(this.max=parseInt(t.last_page)||1,this.remoteRowCountEstimate=void 0!==t.last_row?t.last_row:t.last_page*this.size-(this.page==t.last_page?this.size-t.data.length:0),this.progressiveLoad){switch(this.mode){case"progressive_load":1==this.page?this.table.rowManager.setData(t.data,!1,1==this.page):this.table.rowManager.addRows(t.data),this.page<this.max&&setTimeout((()=>{this.nextPage()}),this.table.options.progressiveLoadDelay);break;case"progressive_scroll":t=1===this.page?t.data:this.table.rowManager.getData().concat(t.data),this.table.rowManager.setData(t,1!==this.page,1==this.page),e=this.table.options.progressiveLoadScrollMargin||2*this.table.rowManager.element.clientHeight,this.table.rowManager.element.scrollHeight<=this.table.rowManager.element.clientHeight+e&&this.page<this.max&&setTimeout((()=>{this.nextPage()}))}return!1}this.dispatchExternal("pageLoaded",this.getPage())}return t.data}footerRedraw(){var t=this.table.footerManager.containerElement;Math.ceil(t.clientWidth)-t.scrollWidth<0?this.pagesElement.style.display="none":(this.pagesElement.style.display="",Math.ceil(t.clientWidth)-t.scrollWidth<0&&(this.pagesElement.style.display="none"))}}ot.moduleName="page",ot.pageCounters=it;var rt={local:function(t,e){var i=localStorage.getItem(t+"-"+e);return!!i&&JSON.parse(i)},cookie:function(t,e){var i,o,r=document.cookie,n=t+"-"+e,a=r.indexOf(n+"=");return a>-1&&((i=(r=r.slice(a)).indexOf(";"))>-1&&(r=r.slice(0,i)),o=r.replace(n+"=","")),!!o&&JSON.parse(o)}},nt={local:function(t,e,i){localStorage.setItem(t+"-"+e,JSON.stringify(i))},cookie:function(t,e,i){var o=new Date;o.setDate(o.getDate()+1e4),document.cookie=t+"-"+e+"="+JSON.stringify(i)+"; expires="+o.toUTCString()}};class at extends l{constructor(t){super(t),this.mode="",this.id="",this.defWatcherBlock=!1,this.config={},this.readFunc=!1,this.writeFunc=!1,this.registerTableOption("persistence",!1),this.registerTableOption("persistenceID",""),this.registerTableOption("persistenceMode",!0),this.registerTableOption("persistenceReaderFunc",!1),this.registerTableOption("persistenceWriterFunc",!1)}localStorageTest(){var t="_tabulator_test";try{return window.localStorage.setItem(t,t),window.localStorage.removeItem(t),!0}catch(t){return!1}}initialize(){if(this.table.options.persistence){var t,e=this.table.options.persistenceMode,i=this.table.options.persistenceID;this.mode=!0!==e?e:this.localStorageTest()?"local":"cookie",this.table.options.persistenceReaderFunc?"function"==typeof this.table.options.persistenceReaderFunc?this.readFunc=this.table.options.persistenceReaderFunc:at.readers[this.table.options.persistenceReaderFunc]&&(this.readFunc=at.readers[this.table.options.persistenceReaderFunc]):at.readers[this.mode]&&(this.readFunc=at.readers[this.mode]),this.table.options.persistenceWriterFunc?"function"==typeof this.table.options.persistenceWriterFunc?this.writeFunc=this.table.options.persistenceWriterFunc:at.writers[this.table.options.persistenceWriterFunc]&&(this.writeFunc=at.writers[this.table.options.persistenceWriterFunc]):at.writers[this.mode]&&(this.writeFunc=at.writers[this.mode]),this.id="tabulator-"+(i||this.table.element.getAttribute("id")||""),this.config={sort:!0===this.table.options.persistence||this.table.options.persistence.sort,filter:!0===this.table.options.persistence||this.table.options.persistence.filter,headerFilter:!0===this.table.options.persistence||this.table.options.persistence.headerFilter,group:!0===this.table.options.persistence||this.table.options.persistence.group,page:!0===this.table.options.persistence||this.table.options.persistence.page,columns:!0===this.table.options.persistence?["title","width","visible"]:this.table.options.persistence.columns},this.config.page&&(t=this.retrieveData("page"))&&(void 0===t.paginationSize||!0!==this.config.page&&!this.config.page.size||(this.table.options.paginationSize=t.paginationSize),void 0===t.paginationInitialPage||!0!==this.config.page&&!this.config.page.page||(this.table.options.paginationInitialPage=t.paginationInitialPage)),this.config.group&&(t=this.retrieveData("group"))&&(void 0===t.groupBy||!0!==this.config.group&&!this.config.group.groupBy||(this.table.options.groupBy=t.groupBy),void 0===t.groupStartOpen||!0!==this.config.group&&!this.config.group.groupStartOpen||(this.table.options.groupStartOpen=t.groupStartOpen),void 0===t.groupHeader||!0!==this.config.group&&!this.config.group.groupHeader||(this.table.options.groupHeader=t.groupHeader)),this.config.columns&&(this.table.options.columns=this.load("columns",this.table.options.columns),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-show",this.save.bind(this,"columns")),this.subscribe("column-hide",this.save.bind(this,"columns")),this.subscribe("column-moved",this.save.bind(this,"columns"))),this.subscribe("table-built",this.tableBuilt.bind(this),0),this.subscribe("table-redraw",this.tableRedraw.bind(this)),this.subscribe("filter-changed",this.eventSave.bind(this,"filter")),this.subscribe("filter-changed",this.eventSave.bind(this,"headerFilter")),this.subscribe("sort-changed",this.eventSave.bind(this,"sort")),this.subscribe("group-changed",this.eventSave.bind(this,"group")),this.subscribe("page-changed",this.eventSave.bind(this,"page")),this.subscribe("column-resized",this.eventSave.bind(this,"columns")),this.subscribe("column-width",this.eventSave.bind(this,"columns")),this.subscribe("layout-refreshed",this.eventSave.bind(this,"columns"))}this.registerTableFunction("getColumnLayout",this.getColumnLayout.bind(this)),this.registerTableFunction("setColumnLayout",this.setColumnLayout.bind(this))}eventSave(t){this.config[t]&&this.save(t)}tableBuilt(){var t,e,i;this.config.sort&&!1==!(t=this.load("sort"))&&(this.table.options.initialSort=t),this.config.filter&&!1==!(e=this.load("filter"))&&(this.table.options.initialFilter=e),this.config.headerFilter&&!1==!(i=this.load("headerFilter"))&&(this.table.options.initialHeaderFilter=i)}tableRedraw(t){t&&this.config.columns&&this.save("columns")}getColumnLayout(){return this.parseColumns(this.table.columnManager.getColumns())}setColumnLayout(t){return this.table.columnManager.setColumns(this.mergeDefinition(this.table.options.columns,t,!0)),!0}initializeColumn(t){var e;this.config.columns&&(this.defWatcherBlock=!0,e=t.getDefinition(),(!0===this.config.columns?Object.keys(e):this.config.columns).forEach((t=>{var i=Object.getOwnPropertyDescriptor(e,t),o=e[t];i&&Object.defineProperty(e,t,{set:t=>{o=t,this.defWatcherBlock||this.save("columns"),i.set&&i.set(t)},get:()=>(i.get&&i.get(),o)})})),this.defWatcherBlock=!1)}load(t,e){var i=this.retrieveData(t);return e&&(i=i?this.mergeDefinition(e,i):e),i}retrieveData(t){return!!this.readFunc&&this.readFunc(this.id,t)}mergeDefinition(t,e,i){var o=[];return(e=e||[]).forEach(((e,r)=>{var n,a=this._findColumn(t,e);a&&(i?n=Object.keys(e):!0===this.config.columns||null==this.config.columns?(n=Object.keys(a)).push("width"):n=this.config.columns,n.forEach((t=>{"columns"!==t&&void 0!==e[t]&&(a[t]=e[t])})),a.columns&&(a.columns=this.mergeDefinition(a.columns,e.columns)),o.push(a))})),t.forEach(((t,i)=>{this._findColumn(e,t)||(o.length>i?o.splice(i,0,t):o.push(t))})),o}_findColumn(t,e){var i=e.columns?"group":e.field?"field":"object";return t.find((function(t){switch(i){case"group":return t.title===e.title&&t.columns.length===e.columns.length;case"field":return t.field===e.field;case"object":return t===e}}))}save(t){var e={};switch(t){case"columns":e=this.parseColumns(this.table.columnManager.getColumns());break;case"filter":e=this.table.modules.filter.getFilters();break;case"headerFilter":e=this.table.modules.filter.getHeaderFilters();break;case"sort":e=this.validateSorters(this.table.modules.sort.getSort());break;case"group":e=this.getGroupConfig();break;case"page":e=this.getPageConfig()}this.writeFunc&&this.writeFunc(this.id,t,e)}validateSorters(t){return t.forEach((function(t){t.column=t.field,delete t.field})),t}getGroupConfig(){var t={};return this.config.group&&((!0===this.config.group||this.config.group.groupBy)&&(t.groupBy=this.table.options.groupBy),(!0===this.config.group||this.config.group.groupStartOpen)&&(t.groupStartOpen=this.table.options.groupStartOpen),(!0===this.config.group||this.config.group.groupHeader)&&(t.groupHeader=this.table.options.groupHeader)),t}getPageConfig(){var t={};return this.config.page&&((!0===this.config.page||this.config.page.size)&&(t.paginationSize=this.table.modules.page.getPageSize()),(!0===this.config.page||this.config.page.page)&&(t.paginationInitialPage=this.table.modules.page.getPage())),t}parseColumns(t){var e=[],i=["headerContextMenu","headerMenu","contextMenu","clickMenu"];return t.forEach((t=>{var o,r={},n=t.getDefinition();t.isGroup?(r.title=n.title,r.columns=this.parseColumns(t.getColumns())):(r.field=t.getField(),!0===this.config.columns||null==this.config.columns?((o=Object.keys(n)).push("width"),o.push("visible")):o=this.config.columns,o.forEach((e=>{switch(e){case"width":r.width=t.getWidth();break;case"visible":r.visible=t.visible;break;default:"function"!=typeof n[e]&&-1===i.indexOf(e)&&(r[e]=n[e])}}))),e.push(r)})),e}}at.moduleName="persistence",at.moduleInitOrder=-10,at.readers=rt,at.writers=nt;class st extends l{constructor(t){super(t),this.columnSubscribers={},this.registerTableOption("rowContextPopup",!1),this.registerTableOption("rowClickPopup",!1),this.registerTableOption("rowDblClickPopup",!1),this.registerTableOption("groupContextPopup",!1),this.registerTableOption("groupClickPopup",!1),this.registerTableOption("groupDblClickPopup",!1),this.registerColumnOption("headerContextPopup"),this.registerColumnOption("headerClickPopup"),this.registerColumnOption("headerDblClickPopup"),this.registerColumnOption("headerPopup"),this.registerColumnOption("headerPopupIcon"),this.registerColumnOption("contextPopup"),this.registerColumnOption("clickPopup"),this.registerColumnOption("dblClickPopup"),this.registerComponentFunction("cell","popup",this._componentPopupCall.bind(this)),this.registerComponentFunction("column","popup",this._componentPopupCall.bind(this)),this.registerComponentFunction("row","popup",this._componentPopupCall.bind(this)),this.registerComponentFunction("group","popup",this._componentPopupCall.bind(this))}initialize(){this.initializeRowWatchers(),this.initializeGroupWatchers(),this.subscribe("column-init",this.initializeColumn.bind(this))}_componentPopupCall(t,e,i){this.loadPopupEvent(e,null,t,i)}initializeRowWatchers(){this.table.options.rowContextPopup&&(this.subscribe("row-contextmenu",this.loadPopupEvent.bind(this,this.table.options.rowContextPopup)),this.table.on("rowTapHold",this.loadPopupEvent.bind(this,this.table.options.rowContextPopup))),this.table.options.rowClickPopup&&this.subscribe("row-click",this.loadPopupEvent.bind(this,this.table.options.rowClickPopup)),this.table.options.rowDblClickPopup&&this.subscribe("row-dblclick",this.loadPopupEvent.bind(this,this.table.options.rowDblClickPopup))}initializeGroupWatchers(){this.table.options.groupContextPopup&&(this.subscribe("group-contextmenu",this.loadPopupEvent.bind(this,this.table.options.groupContextPopup)),this.table.on("groupTapHold",this.loadPopupEvent.bind(this,this.table.options.groupContextPopup))),this.table.options.groupClickPopup&&this.subscribe("group-click",this.loadPopupEvent.bind(this,this.table.options.groupClickPopup)),this.table.options.groupDblClickPopup&&this.subscribe("group-dblclick",this.loadPopupEvent.bind(this,this.table.options.groupDblClickPopup))}initializeColumn(t){var e=t.definition;e.headerContextPopup&&!this.columnSubscribers.headerContextPopup&&(this.columnSubscribers.headerContextPopup=this.loadPopupTableColumnEvent.bind(this,"headerContextPopup"),this.subscribe("column-contextmenu",this.columnSubscribers.headerContextPopup),this.table.on("headerTapHold",this.loadPopupTableColumnEvent.bind(this,"headerContextPopup"))),e.headerClickPopup&&!this.columnSubscribers.headerClickPopup&&(this.columnSubscribers.headerClickPopup=this.loadPopupTableColumnEvent.bind(this,"headerClickPopup"),this.subscribe("column-click",this.columnSubscribers.headerClickPopup)),e.headerDblClickPopup&&!this.columnSubscribers.headerDblClickPopup&&(this.columnSubscribers.headerDblClickPopup=this.loadPopupTableColumnEvent.bind(this,"headerDblClickPopup"),this.subscribe("column-dblclick",this.columnSubscribers.headerDblClickPopup)),e.headerPopup&&this.initializeColumnHeaderPopup(t),e.contextPopup&&!this.columnSubscribers.contextPopup&&(this.columnSubscribers.contextPopup=this.loadPopupTableCellEvent.bind(this,"contextPopup"),this.subscribe("cell-contextmenu",this.columnSubscribers.contextPopup),this.table.on("cellTapHold",this.loadPopupTableCellEvent.bind(this,"contextPopup"))),e.clickPopup&&!this.columnSubscribers.clickPopup&&(this.columnSubscribers.clickPopup=this.loadPopupTableCellEvent.bind(this,"clickPopup"),this.subscribe("cell-click",this.columnSubscribers.clickPopup)),e.dblClickPopup&&!this.columnSubscribers.dblClickPopup&&(this.columnSubscribers.dblClickPopup=this.loadPopupTableCellEvent.bind(this,"dblClickPopup"),this.subscribe("cell-click",this.columnSubscribers.dblClickPopup))}initializeColumnHeaderPopup(t){var e,i=t.definition.headerPopupIcon;(e=document.createElement("span")).classList.add("tabulator-header-popup-button"),i?("function"==typeof i&&(i=i(t.getComponent())),i instanceof HTMLElement?e.appendChild(i):e.innerHTML=i):e.innerHTML="&vellip;",e.addEventListener("click",(e=>{e.stopPropagation(),e.preventDefault(),this.loadPopupEvent(t.definition.headerPopup,e,t)})),t.titleElement.insertBefore(e,t.titleElement.firstChild)}loadPopupTableCellEvent(t,e,i){i._cell&&(i=i._cell),i.column.definition[t]&&this.loadPopupEvent(i.column.definition[t],e,i)}loadPopupTableColumnEvent(t,e,i){i._column&&(i=i._column),i.definition[t]&&this.loadPopupEvent(i.definition[t],e,i)}loadPopupEvent(t,e,i,o){var r;i._group?i=i._group:i._row&&(i=i._row),t="function"==typeof t?t.call(this.table,e,i.getComponent(),(function(t){r=t})):t,this.loadPopup(e,i,t,r,o)}loadPopup(t,e,i,o,r){var n,a,s=!(t instanceof MouseEvent);i instanceof HTMLElement?n=i:(n=document.createElement("div")).innerHTML=i,n.classList.add("tabulator-popup"),n.addEventListener("click",(t=>{t.stopPropagation()})),s||t.preventDefault(),a=this.popup(n),"function"==typeof o&&a.renderCallback(o),t?a.show(t):a.show(e.getElement(),r||"center"),a.hideOnBlur((()=>{this.dispatchExternal("popupClosed",e.getComponent())})),this.dispatchExternal("popupOpened",e.getComponent())}}st.moduleName="popup";class lt extends l{constructor(t){super(t),this.element=!1,this.manualBlock=!1,this.beforeprintEventHandler=null,this.afterprintEventHandler=null,this.registerTableOption("printAsHtml",!1),this.registerTableOption("printFormatter",!1),this.registerTableOption("printHeader",!1),this.registerTableOption("printFooter",!1),this.registerTableOption("printStyled",!0),this.registerTableOption("printRowRange","visible"),this.registerTableOption("printConfig",{}),this.registerColumnOption("print"),this.registerColumnOption("titlePrint")}initialize(){this.table.options.printAsHtml&&(this.beforeprintEventHandler=this.replaceTable.bind(this),this.afterprintEventHandler=this.cleanup.bind(this),window.addEventListener("beforeprint",this.beforeprintEventHandler),window.addEventListener("afterprint",this.afterprintEventHandler),this.subscribe("table-destroy",this.destroy.bind(this))),this.registerTableFunction("print",this.printFullscreen.bind(this))}destroy(){this.table.options.printAsHtml&&(window.removeEventListener("beforeprint",this.beforeprintEventHandler),window.removeEventListener("afterprint",this.afterprintEventHandler))}replaceTable(){this.manualBlock||(this.element=document.createElement("div"),this.element.classList.add("tabulator-print-table"),this.element.appendChild(this.table.modules.export.generateTable(this.table.options.printConfig,this.table.options.printStyled,this.table.options.printRowRange,"print")),this.table.element.style.display="none",this.table.element.parentNode.insertBefore(this.element,this.table.element))}cleanup(){document.body.classList.remove("tabulator-print-fullscreen-hide"),this.element&&this.element.parentNode&&(this.element.parentNode.removeChild(this.element),this.table.element.style.display="")}printFullscreen(t,e,i){var o,r,n=window.scrollX,a=window.scrollY,s=document.createElement("div"),l=document.createElement("div"),u=this.table.modules.export.generateTable(void 0!==i?i:this.table.options.printConfig,void 0!==e?e:this.table.options.printStyled,t||this.table.options.printRowRange,"print");this.manualBlock=!0,this.element=document.createElement("div"),this.element.classList.add("tabulator-print-fullscreen"),this.table.options.printHeader&&(s.classList.add("tabulator-print-header"),"string"==typeof(o="function"==typeof this.table.options.printHeader?this.table.options.printHeader.call(this.table):this.table.options.printHeader)?s.innerHTML=o:s.appendChild(o),this.element.appendChild(s)),this.element.appendChild(u),this.table.options.printFooter&&(l.classList.add("tabulator-print-footer"),"string"==typeof(r="function"==typeof this.table.options.printFooter?this.table.options.printFooter.call(this.table):this.table.options.printFooter)?l.innerHTML=r:l.appendChild(r),this.element.appendChild(l)),document.body.classList.add("tabulator-print-fullscreen-hide"),document.body.appendChild(this.element),this.table.options.printFormatter&&this.table.options.printFormatter(this.element,u),window.print(),this.cleanup(),window.scrollTo(n,a),this.manualBlock=!1}}lt.moduleName="print";class ut extends l{constructor(t){super(t),this.data=!1,this.blocked=!1,this.origFuncs={},this.currentVersion=0,this.registerTableOption("reactiveData",!1)}initialize(){this.table.options.reactiveData&&(this.subscribe("cell-value-save-before",this.block.bind(this,"cellsave")),this.subscribe("cell-value-save-after",this.unblock.bind(this,"cellsave")),this.subscribe("row-data-save-before",this.block.bind(this,"rowsave")),this.subscribe("row-data-save-after",this.unblock.bind(this,"rowsave")),this.subscribe("row-data-init-after",this.watchRow.bind(this)),this.subscribe("data-processing",this.watchData.bind(this)),this.subscribe("table-destroy",this.unwatchData.bind(this)))}watchData(t){var e,i=this;this.currentVersion++,e=this.currentVersion,this.unwatchData(),this.data=t,this.origFuncs.push=t.push,Object.defineProperty(this.data,"push",{enumerable:!1,configurable:!0,value:function(){var o,r=Array.from(arguments);return i.blocked||e!==i.currentVersion||(i.block("data-push"),r.forEach((t=>{i.table.rowManager.addRowActual(t,!1)})),o=i.origFuncs.push.apply(t,arguments),i.unblock("data-push")),o}}),this.origFuncs.unshift=t.unshift,Object.defineProperty(this.data,"unshift",{enumerable:!1,configurable:!0,value:function(){var o,r=Array.from(arguments);return i.blocked||e!==i.currentVersion||(i.block("data-unshift"),r.forEach((t=>{i.table.rowManager.addRowActual(t,!0)})),o=i.origFuncs.unshift.apply(t,arguments),i.unblock("data-unshift")),o}}),this.origFuncs.shift=t.shift,Object.defineProperty(this.data,"shift",{enumerable:!1,configurable:!0,value:function(){var o,r;return i.blocked||e!==i.currentVersion||(i.block("data-shift"),i.data.length&&(o=i.table.rowManager.getRowFromDataObject(i.data[0]))&&o.deleteActual(),r=i.origFuncs.shift.call(t),i.unblock("data-shift")),r}}),this.origFuncs.pop=t.pop,Object.defineProperty(this.data,"pop",{enumerable:!1,configurable:!0,value:function(){var o,r;return i.blocked||e!==i.currentVersion||(i.block("data-pop"),i.data.length&&(o=i.table.rowManager.getRowFromDataObject(i.data[i.data.length-1]))&&o.deleteActual(),r=i.origFuncs.pop.call(t),i.unblock("data-pop")),r}}),this.origFuncs.splice=t.splice,Object.defineProperty(this.data,"splice",{enumerable:!1,configurable:!0,value:function(){var o,r,n=Array.from(arguments),a=n[0]<0?t.length+n[0]:n[0],s=n[1],l=!!n[2]&&n.slice(2);if(!i.blocked&&e===i.currentVersion){if(i.block("data-splice"),l&&((o=!!t[a]&&i.table.rowManager.getRowFromDataObject(t[a]))?l.forEach((t=>{i.table.rowManager.addRowActual(t,!0,o,!0)})):(l=l.slice().reverse()).forEach((t=>{i.table.rowManager.addRowActual(t,!0,!1,!0)}))),0!==s){var u=t.slice(a,void 0===n[1]?n[1]:a+s);u.forEach(((t,e)=>{var o=i.table.rowManager.getRowFromDataObject(t);o&&o.deleteActual(e!==u.length-1)}))}(l||0!==s)&&i.table.rowManager.reRenderInPosition(),r=i.origFuncs.splice.apply(t,arguments),i.unblock("data-splice")}return r}})}unwatchData(){if(!1!==this.data)for(var t in this.origFuncs)Object.defineProperty(this.data,t,{enumerable:!0,configurable:!0,writable:!0,value:this.origFuncs.key})}watchRow(t){var e=t.getData();for(var i in e)this.watchKey(t,e,i);this.table.options.dataTree&&this.watchTreeChildren(t)}watchTreeChildren(t){var e=this,i=t.getData()[this.table.options.dataTreeChildField],o={};i&&(o.push=i.push,Object.defineProperty(i,"push",{enumerable:!1,configurable:!0,value:()=>{if(!e.blocked){e.block("tree-push");var r=o.push.apply(i,arguments);this.rebuildTree(t),e.unblock("tree-push")}return r}}),o.unshift=i.unshift,Object.defineProperty(i,"unshift",{enumerable:!1,configurable:!0,value:()=>{if(!e.blocked){e.block("tree-unshift");var r=o.unshift.apply(i,arguments);this.rebuildTree(t),e.unblock("tree-unshift")}return r}}),o.shift=i.shift,Object.defineProperty(i,"shift",{enumerable:!1,configurable:!0,value:()=>{if(!e.blocked){e.block("tree-shift");var r=o.shift.call(i);this.rebuildTree(t),e.unblock("tree-shift")}return r}}),o.pop=i.pop,Object.defineProperty(i,"pop",{enumerable:!1,configurable:!0,value:()=>{if(!e.blocked){e.block("tree-pop");var r=o.pop.call(i);this.rebuildTree(t),e.unblock("tree-pop")}return r}}),o.splice=i.splice,Object.defineProperty(i,"splice",{enumerable:!1,configurable:!0,value:()=>{if(!e.blocked){e.block("tree-splice");var r=o.splice.apply(i,arguments);this.rebuildTree(t),e.unblock("tree-splice")}return r}}))}rebuildTree(t){this.table.modules.dataTree.initializeRow(t),this.table.modules.dataTree.layoutRow(t),this.table.rowManager.refreshActiveData("tree",!1,!0)}watchKey(t,e,i){var o=this,r=Object.getOwnPropertyDescriptor(e,i),n=e[i],a=this.currentVersion;Object.defineProperty(e,i,{set:e=>{if(n=e,!o.blocked&&a===o.currentVersion){o.block("key");var s={};s[i]=e,t.updateData(s),o.unblock("key")}r.set&&r.set(e)},get:()=>(r.get&&r.get(),n)})}unwatchRow(t){var e=t.getData();for(var i in e)Object.defineProperty(e,i,{value:e[i]})}block(t){this.blocked||(this.blocked=t)}unblock(t){this.blocked===t&&(this.blocked=!1)}}ut.moduleName="reactiveData";class ht extends l{constructor(t){super(t),this.startColumn=!1,this.startX=!1,this.startWidth=!1,this.latestX=!1,this.handle=null,this.initialNextColumn=null,this.nextColumn=null,this.initialized=!1,this.registerColumnOption("resizable",!0),this.registerTableOption("resizableColumnFit",!1)}initialize(){this.subscribe("column-rendered",this.layoutColumnHeader.bind(this))}initializeEventWatchers(){this.initialized||(this.subscribe("cell-rendered",this.layoutCellHandles.bind(this)),this.subscribe("cell-delete",this.deInitializeComponent.bind(this)),this.subscribe("cell-height",this.resizeHandle.bind(this)),this.subscribe("column-moved",this.columnLayoutUpdated.bind(this)),this.subscribe("column-hide",this.deInitializeColumn.bind(this)),this.subscribe("column-show",this.columnLayoutUpdated.bind(this)),this.subscribe("column-width",this.columnWidthUpdated.bind(this)),this.subscribe("column-delete",this.deInitializeComponent.bind(this)),this.subscribe("column-height",this.resizeHandle.bind(this)),this.initialized=!0)}layoutCellHandles(t){"row"===t.row.type&&(this.deInitializeComponent(t),this.initializeColumn("cell",t,t.column,t.element))}layoutColumnHeader(t){t.definition.resizable&&(this.initializeEventWatchers(),this.deInitializeComponent(t),this.initializeColumn("header",t,t,t.element))}columnLayoutUpdated(t){var e=t.prevColumn();this.reinitializeColumn(t),e&&this.reinitializeColumn(e)}columnWidthUpdated(t){t.modules.frozen&&(this.table.modules.frozenColumns.leftColumns.includes(t)?this.table.modules.frozenColumns.leftColumns.forEach((t=>{this.reinitializeColumn(t)})):this.table.modules.frozenColumns.rightColumns.includes(t)&&this.table.modules.frozenColumns.rightColumns.forEach((t=>{this.reinitializeColumn(t)})))}frozenColumnOffset(t){var e=!1;return t.modules.frozen&&(e=t.modules.frozen.marginValue,"left"===t.modules.frozen.position?e+=t.getWidth()-3:e&&(e-=3)),!1!==e&&e+"px"}reinitializeColumn(t){var e=this.frozenColumnOffset(t);t.cells.forEach((i=>{i.modules.resize&&i.modules.resize.handleEl&&(e&&(i.modules.resize.handleEl.style[t.modules.frozen.position]=e,i.modules.resize.handleEl.style["z-index"]=11),i.element.after(i.modules.resize.handleEl))})),t.modules.resize&&t.modules.resize.handleEl&&(e&&(t.modules.resize.handleEl.style[t.modules.frozen.position]=e),t.element.after(t.modules.resize.handleEl))}initializeColumn(t,e,i,o){var r=this,n=i.definition.resizable,a={},s=i.getLastColumn();if("header"===t&&(a={variableHeight:"textarea"==i.definition.formatter||i.definition.variableHeight}),(!0===n||n==t)&&this._checkResizability(s)){var l=document.createElement("span");l.className="tabulator-col-resize-handle",l.addEventListener("click",(function(t){t.stopPropagation()}));var u=function(t){r.startColumn=i,r.initialNextColumn=r.nextColumn=s.nextColumn(),r._mouseDown(t,s,l)};l.addEventListener("mousedown",u),l.addEventListener("touchstart",u,{passive:!0}),l.addEventListener("dblclick",(t=>{var e=s.getWidth();t.stopPropagation(),s.reinitializeWidth(!0),e!==s.getWidth()&&(r.dispatch("column-resized",s),r.table.externalEvents.dispatch("columnResized",s.getComponent()))})),i.modules.frozen&&(l.style.position="sticky",l.style[i.modules.frozen.position]=this.frozenColumnOffset(i)),a.handleEl=l,o.parentNode&&i.visible&&o.after(l)}e.modules.resize=a}deInitializeColumn(t){this.deInitializeComponent(t),t.cells.forEach((t=>{this.deInitializeComponent(t)}))}deInitializeComponent(t){var e;t.modules.resize&&(e=t.modules.resize.handleEl)&&e.parentElement&&e.parentElement.removeChild(e)}resizeHandle(t,e){t.modules.resize&&t.modules.resize.handleEl&&(t.modules.resize.handleEl.style.height=e)}_checkResizability(t){return t.definition.resizable}_mouseDown(t,e,i){var o=this;function r(t){var i,r,n=void 0===t.screenX?t.touches[0].screenX:t.screenX,a=n-o.startX,s=n-o.latestX;if(o.latestX=n,o.table.rtl&&(a=-a,s=-s),i=e.width==e.minWidth||e.width==e.maxWidth,e.setWidth(o.startWidth+a),r=e.width==e.minWidth||e.width==e.maxWidth,s<0&&(o.nextColumn=o.initialNextColumn),o.table.options.resizableColumnFit&&o.nextColumn&&(!i||!r)){let t=o.nextColumn.getWidth();s>0&&t<=o.nextColumn.minWidth&&(o.nextColumn=o.nextColumn.nextColumn()),o.nextColumn&&o.nextColumn.setWidth(o.nextColumn.getWidth()-s)}o.table.columnManager.rerenderColumns(!0),!o.table.browserSlow&&e.modules.resize&&e.modules.resize.variableHeight&&e.checkCellHeights()}function n(t){o.startColumn.modules.edit&&(o.startColumn.modules.edit.blocked=!1),o.table.browserSlow&&e.modules.resize&&e.modules.resize.variableHeight&&e.checkCellHeights(),document.body.removeEventListener("mouseup",n),document.body.removeEventListener("mousemove",r),i.removeEventListener("touchmove",r),i.removeEventListener("touchend",n),o.table.element.classList.remove("tabulator-block-select"),o.startWidth!==e.getWidth()&&(o.table.columnManager.verticalAlignHeaders(),o.dispatch("column-resized",e),o.table.externalEvents.dispatch("columnResized",e.getComponent()))}o.table.element.classList.add("tabulator-block-select"),t.stopPropagation(),o.startColumn.modules.edit&&(o.startColumn.modules.edit.blocked=!0),o.startX=void 0===t.screenX?t.touches[0].screenX:t.screenX,o.latestX=o.startX,o.startWidth=e.getWidth(),document.body.addEventListener("mousemove",r),document.body.addEventListener("mouseup",n),i.addEventListener("touchmove",r,{passive:!0}),i.addEventListener("touchend",n)}}ht.moduleName="resizeColumns";class ct extends l{constructor(t){super(t),this.startColumn=!1,this.startY=!1,this.startHeight=!1,this.handle=null,this.prevHandle=null,this.registerTableOption("resizableRows",!1)}initialize(){this.table.options.resizableRows&&this.subscribe("row-layout-after",this.initializeRow.bind(this))}initializeRow(t){var e=this,i=t.getElement(),o=document.createElement("div");o.className="tabulator-row-resize-handle";var r=document.createElement("div");r.className="tabulator-row-resize-handle prev",o.addEventListener("click",(function(t){t.stopPropagation()}));var n=function(i){e.startRow=t,e._mouseDown(i,t,o)};o.addEventListener("mousedown",n),o.addEventListener("touchstart",n,{passive:!0}),r.addEventListener("click",(function(t){t.stopPropagation()}));var a=function(i){var o=e.table.rowManager.prevDisplayRow(t);o&&(e.startRow=o,e._mouseDown(i,o,r))};r.addEventListener("mousedown",a),r.addEventListener("touchstart",a,{passive:!0}),i.appendChild(o),i.appendChild(r)}_mouseDown(t,e,i){var o=this;function r(t){e.setHeight(o.startHeight+((void 0===t.screenY?t.touches[0].screenY:t.screenY)-o.startY))}function n(t){document.body.removeEventListener("mouseup",r),document.body.removeEventListener("mousemove",r),i.removeEventListener("touchmove",r),i.removeEventListener("touchend",n),o.table.element.classList.remove("tabulator-block-select"),o.dispatchExternal("rowResized",e.getComponent())}o.table.element.classList.add("tabulator-block-select"),t.stopPropagation(),o.startY=void 0===t.screenY?t.touches[0].screenY:t.screenY,o.startHeight=e.getHeight(),document.body.addEventListener("mousemove",r),document.body.addEventListener("mouseup",n),i.addEventListener("touchmove",r,{passive:!0}),i.addEventListener("touchend",n)}}ct.moduleName="resizeRows";class dt extends l{constructor(t){super(t),this.binding=!1,this.visibilityObserver=!1,this.resizeObserver=!1,this.containerObserver=!1,this.tableHeight=0,this.tableWidth=0,this.containerHeight=0,this.containerWidth=0,this.autoResize=!1,this.visible=!1,this.initialized=!1,this.initialRedraw=!1,this.registerTableOption("autoResize",!0)}initialize(){if(this.table.options.autoResize){var t,e=this.table;this.tableHeight=e.element.clientHeight,this.tableWidth=e.element.clientWidth,e.element.parentNode&&(this.containerHeight=e.element.parentNode.clientHeight,this.containerWidth=e.element.parentNode.clientWidth),"undefined"!=typeof IntersectionObserver&&"undefined"!=typeof ResizeObserver&&"virtual"===e.rowManager.getRenderMode()?(this.initializeVisibilityObserver(),this.autoResize=!0,this.resizeObserver=new ResizeObserver((t=>{if(!e.browserMobile||e.browserMobile&&(!e.modules.edit||e.modules.edit&&!e.modules.edit.currentCell)){var i=Math.floor(t[0].contentRect.height),o=Math.floor(t[0].contentRect.width);this.tableHeight==i&&this.tableWidth==o||(this.tableHeight=i,this.tableWidth=o,e.element.parentNode&&(this.containerHeight=e.element.parentNode.clientHeight,this.containerWidth=e.element.parentNode.clientWidth),this.redrawTable())}})),this.resizeObserver.observe(e.element),t=window.getComputedStyle(e.element),this.table.element.parentNode&&!this.table.rowManager.fixedHeight&&(t.getPropertyValue("max-height")||t.getPropertyValue("min-height"))&&(this.containerObserver=new ResizeObserver((t=>{if(!e.browserMobile||e.browserMobile&&(!e.modules.edit||e.modules.edit&&!e.modules.edit.currentCell)){var i=Math.floor(t[0].contentRect.height),o=Math.floor(t[0].contentRect.width);this.containerHeight==i&&this.containerWidth==o||(this.containerHeight=i,this.containerWidth=o,this.tableHeight=e.element.clientHeight,this.tableWidth=e.element.clientWidth),this.redrawTable()}})),this.containerObserver.observe(this.table.element.parentNode)),this.subscribe("table-resize",this.tableResized.bind(this))):(this.binding=function(){(!e.browserMobile||e.browserMobile&&(!e.modules.edit||e.modules.edit&&!e.modules.edit.currentCell))&&(e.columnManager.rerenderColumns(!0),e.redraw())},window.addEventListener("resize",this.binding)),this.subscribe("table-destroy",this.clearBindings.bind(this))}}initializeVisibilityObserver(){this.visibilityObserver=new IntersectionObserver((t=>{this.visible=t[0].isIntersecting,this.initialized?this.visible&&(this.redrawTable(this.initialRedraw),this.initialRedraw=!1):(this.initialized=!0,this.initialRedraw=!this.visible)})),this.visibilityObserver.observe(this.table.element)}redrawTable(t){this.initialized&&this.visible&&(this.table.columnManager.rerenderColumns(!0),this.table.redraw(t))}tableResized(){this.table.rowManager.redraw()}clearBindings(){this.binding&&window.removeEventListener("resize",this.binding),this.resizeObserver&&this.resizeObserver.unobserve(this.table.element),this.visibilityObserver&&this.visibilityObserver.unobserve(this.table.element),this.containerObserver&&this.containerObserver.unobserve(this.table.element.parentNode)}}dt.moduleName="resizeTable";class pt extends l{constructor(t){super(t),this.columns=[],this.hiddenColumns=[],this.mode="",this.index=0,this.collapseFormatter=[],this.collapseStartOpen=!0,this.collapseHandleColumn=!1,this.registerTableOption("responsiveLayout",!1),this.registerTableOption("responsiveLayoutCollapseStartOpen",!0),this.registerTableOption("responsiveLayoutCollapseUseFormatters",!0),this.registerTableOption("responsiveLayoutCollapseFormatter",!1),this.registerColumnOption("responsive")}initialize(){this.table.options.responsiveLayout&&(this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("column-show",this.updateColumnVisibility.bind(this)),this.subscribe("column-hide",this.updateColumnVisibility.bind(this)),this.subscribe("columns-loaded",this.initializeResponsivity.bind(this)),this.subscribe("column-moved",this.initializeResponsivity.bind(this)),this.subscribe("column-add",this.initializeResponsivity.bind(this)),this.subscribe("column-delete",this.initializeResponsivity.bind(this)),this.subscribe("table-redrawing",this.tableRedraw.bind(this)),"collapse"===this.table.options.responsiveLayout&&(this.subscribe("row-data-changed",this.generateCollapsedRowContent.bind(this)),this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-layout",this.layoutRow.bind(this))))}tableRedraw(t){-1===["fitColumns","fitDataStretch"].indexOf(this.layoutMode())&&(t||this.update())}initializeResponsivity(){var t=[];this.mode=this.table.options.responsiveLayout,this.collapseFormatter=this.table.options.responsiveLayoutCollapseFormatter||this.formatCollapsedData,this.collapseStartOpen=this.table.options.responsiveLayoutCollapseStartOpen,this.hiddenColumns=[],this.table.columnManager.columnsByIndex.forEach(((e,i)=>{e.modules.responsive&&e.modules.responsive.order&&e.modules.responsive.visible&&(e.modules.responsive.index=i,t.push(e),e.visible||"collapse"!==this.mode||this.hiddenColumns.push(e))})),t=(t=t.reverse()).sort(((t,e)=>e.modules.responsive.order-t.modules.responsive.order||e.modules.responsive.index-t.modules.responsive.index)),this.columns=t,"collapse"===this.mode&&this.generateCollapsedContent();for(let t of this.table.columnManager.columnsByIndex)if("responsiveCollapse"==t.definition.formatter){this.collapseHandleColumn=t;break}this.collapseHandleColumn&&(this.hiddenColumns.length?this.collapseHandleColumn.show():this.collapseHandleColumn.hide())}initializeColumn(t){var e=t.getDefinition();t.modules.responsive={order:void 0===e.responsive?1:e.responsive,visible:!1!==e.visible}}initializeRow(t){var e;"calc"!==t.type&&((e=document.createElement("div")).classList.add("tabulator-responsive-collapse"),t.modules.responsiveLayout={element:e,open:this.collapseStartOpen},this.collapseStartOpen||(e.style.display="none"))}layoutRow(t){var e=t.getElement();t.modules.responsiveLayout&&(e.appendChild(t.modules.responsiveLayout.element),this.generateCollapsedRowContent(t))}updateColumnVisibility(t,e){!e&&t.modules.responsive&&(t.modules.responsive.visible=t.visible,this.initializeResponsivity())}hideColumn(t){var e=this.hiddenColumns.length;t.hide(!1,!0),"collapse"===this.mode&&(this.hiddenColumns.unshift(t),this.generateCollapsedContent(),this.collapseHandleColumn&&!e&&this.collapseHandleColumn.show())}showColumn(t){var e;t.show(!1,!0),t.setWidth(t.getWidth()),"collapse"===this.mode&&((e=this.hiddenColumns.indexOf(t))>-1&&this.hiddenColumns.splice(e,1),this.generateCollapsedContent(),this.collapseHandleColumn&&!this.hiddenColumns.length&&this.collapseHandleColumn.hide())}update(){for(var t=!0;t;){let e="fitColumns"==this.table.modules.layout.getMode()?this.table.columnManager.getFlexBaseWidth():this.table.columnManager.getWidth(),i=(this.table.options.headerVisible?this.table.columnManager.element.clientWidth:this.table.element.clientWidth)-e;if(i<0){let e=this.columns[this.index];e?(this.hideColumn(e),this.index++):t=!1}else{let e=this.columns[this.index-1];e&&i>0&&i>=e.getWidth()?(this.showColumn(e),this.index--):t=!1}this.table.rowManager.activeRowsCount||this.table.rowManager.renderEmptyScroll()}}generateCollapsedContent(){this.table.rowManager.getDisplayRows().forEach((t=>{this.generateCollapsedRowContent(t)}))}generateCollapsedRowContent(t){var e,i;if(t.modules.responsiveLayout){for(e=t.modules.responsiveLayout.element;e.firstChild;)e.removeChild(e.firstChild);(i=this.collapseFormatter(this.generateCollapsedRowData(t)))&&e.appendChild(i)}}generateCollapsedRowData(t){var e,i=t.getData(),o=[];return this.hiddenColumns.forEach((r=>{var n=r.getFieldValue(i);if(r.definition.title&&r.field)if(r.modules.format&&this.table.options.responsiveLayoutCollapseUseFormatters){function a(t){t()}e={value:!1,data:{},getValue:function(){return n},getData:function(){return i},getType:function(){return"cell"},getElement:function(){return document.createElement("div")},getRow:function(){return t.getComponent()},getColumn:function(){return r.getComponent()},getTable:()=>this.table},o.push({field:r.field,title:r.definition.title,value:r.modules.format.formatter.call(this.table.modules.format,e,r.modules.format.params,a)})}else o.push({field:r.field,title:r.definition.title,value:n})})),o}formatCollapsedData(t){var e=document.createElement("table");return t.forEach((function(t){var i,o=document.createElement("tr"),r=document.createElement("td"),n=document.createElement("td"),a=document.createElement("strong");r.appendChild(a),this.langBind("columns|"+t.field,(function(e){a.innerHTML=e||t.title})),t.value instanceof Node?((i=document.createElement("div")).appendChild(t.value),n.appendChild(i)):n.innerHTML=t.value,o.appendChild(r),o.appendChild(n),e.appendChild(o)}),this),Object.keys(t).length?e:""}}pt.moduleName="responsiveLayout";class bt extends l{constructor(t){super(t),this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],this.headerCheckboxElement=null,this.registerTableOption("selectableRows","highlight"),this.registerTableOption("selectableRowsRangeMode","drag"),this.registerTableOption("selectableRowsRollingSelection",!0),this.registerTableOption("selectableRowsPersistence",!0),this.registerTableOption("selectableRowsCheck",(function(t,e){return!0})),this.registerTableFunction("selectRow",this.selectRows.bind(this)),this.registerTableFunction("deselectRow",this.deselectRows.bind(this)),this.registerTableFunction("toggleSelectRow",this.toggleRow.bind(this)),this.registerTableFunction("getSelectedRows",this.getSelectedRows.bind(this)),this.registerTableFunction("getSelectedData",this.getSelectedData.bind(this)),this.registerComponentFunction("row","select",this.selectRows.bind(this)),this.registerComponentFunction("row","deselect",this.deselectRows.bind(this)),this.registerComponentFunction("row","toggleSelect",this.toggleRow.bind(this)),this.registerComponentFunction("row","isSelected",this.isRowSelected.bind(this))}initialize(){this.deprecatedOptionsCheck(),"highlight"===this.table.options.selectableRows&&this.table.options.selectableRange&&(this.table.options.selectableRows=!1),!1!==this.table.options.selectableRows&&(this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-deleting",this.rowDeleted.bind(this)),this.subscribe("rows-wipe",this.clearSelectionData.bind(this)),this.subscribe("rows-retrieve",this.rowRetrieve.bind(this)),this.table.options.selectableRows&&!this.table.options.selectableRowsPersistence&&this.subscribe("data-refreshing",this.deselectRows.bind(this)))}deprecatedOptionsCheck(){this.deprecationCheck("selectable","selectableRows",!0),this.deprecationCheck("selectableRollingSelection","selectableRowsRollingSelection",!0),this.deprecationCheck("selectableRangeMode","selectableRowsRangeMode",!0),this.deprecationCheck("selectablePersistence","selectableRowsPersistence",!0),this.deprecationCheck("selectableCheck","selectableRowsCheck",!0)}rowRetrieve(t,e){return"selected"===t?this.selectedRows:e}rowDeleted(t){this._deselectRow(t,!0)}clearSelectionData(t){var e=this.selectedRows.length;this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],e&&!0!==t&&this._rowSelectionChanged()}initializeRow(t){var e=this,i=e.checkRowSelectability(t),o=t.getElement(),r=function(){setTimeout((function(){e.selecting=!1}),50),document.body.removeEventListener("mouseup",r)};t.modules.select={selected:!1},o.classList.toggle("tabulator-selectable",i),o.classList.toggle("tabulator-unselectable",!i),e.checkRowSelectability(t)&&e.table.options.selectableRows&&"highlight"!=e.table.options.selectableRows&&("click"===e.table.options.selectableRowsRangeMode?o.addEventListener("click",this.handleComplexRowClick.bind(this,t)):(o.addEventListener("click",(function(i){e.table.modExists("edit")&&e.table.modules.edit.getCurrentCell()||e.table._clearSelection(),e.selecting||e.toggleRow(t)})),o.addEventListener("mousedown",(function(i){if(i.shiftKey)return e.table._clearSelection(),e.selecting=!0,e.selectPrev=[],document.body.addEventListener("mouseup",r),document.body.addEventListener("keyup",r),e.toggleRow(t),!1})),o.addEventListener("mouseenter",(function(i){e.selecting&&(e.table._clearSelection(),e.toggleRow(t),e.selectPrev[1]==t&&e.toggleRow(e.selectPrev[0]))})),o.addEventListener("mouseout",(function(i){e.selecting&&(e.table._clearSelection(),e.selectPrev.unshift(t))}))))}handleComplexRowClick(t,e){if(e.shiftKey){this.table._clearSelection(),this.lastClickedRow=this.lastClickedRow||t;var i=this.table.rowManager.getDisplayRowIndex(this.lastClickedRow),o=this.table.rowManager.getDisplayRowIndex(t),r=i<=o?i:o,n=i>=o?i:o,a=this.table.rowManager.getDisplayRows().slice(0).splice(r,n-r+1);e.ctrlKey||e.metaKey?(a.forEach((e=>{e!==this.lastClickedRow&&(!0===this.table.options.selectableRows||this.isRowSelected(t)||this.selectedRows.length<this.table.options.selectableRows)&&this.toggleRow(e)})),this.lastClickedRow=t):(this.deselectRows(void 0,!0),!0!==this.table.options.selectableRows&&a.length>this.table.options.selectableRows&&(a=a.slice(0,this.table.options.selectableRows)),this.selectRows(a)),this.table._clearSelection()}else e.ctrlKey||e.metaKey?(this.toggleRow(t),this.lastClickedRow=t):(this.deselectRows(void 0,!0),this.selectRows(t),this.lastClickedRow=t)}checkRowSelectability(t){return!(!t||"row"!==t.type)&&this.table.options.selectableRowsCheck.call(this.table,t.getComponent())}toggleRow(t){this.checkRowSelectability(t)&&(t.modules.select&&t.modules.select.selected?this._deselectRow(t):this._selectRow(t))}selectRows(t){var e,i,o=[];switch(typeof t){case"undefined":e=this.table.rowManager.rows;break;case"number":e=this.table.rowManager.findRow(t);break;case"string":(e=this.table.rowManager.findRow(t))||(e=this.table.rowManager.getRows(t));break;default:e=t}Array.isArray(e)?e.length&&(e.forEach((t=>{(i=this._selectRow(t,!0,!0))&&o.push(i)})),this._rowSelectionChanged(!1,o)):e&&this._selectRow(e,!1,!0)}_selectRow(t,e,i){if(!isNaN(this.table.options.selectableRows)&&!0!==this.table.options.selectableRows&&!i&&this.selectedRows.length>=this.table.options.selectableRows){if(!this.table.options.selectableRowsRollingSelection)return!1;this._deselectRow(this.selectedRows[0])}var o=this.table.rowManager.findRow(t);if(o&&-1==this.selectedRows.indexOf(o))return o.getElement().classList.add("tabulator-selected"),o.modules.select||(o.modules.select={}),o.modules.select.selected=!0,o.modules.select.checkboxEl&&(o.modules.select.checkboxEl.checked=!0),this.selectedRows.push(o),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(o,!0),this.dispatchExternal("rowSelected",o.getComponent()),this._rowSelectionChanged(e,o),o}isRowSelected(t){return-1!==this.selectedRows.indexOf(t)}deselectRows(t,e){var i,o,r=[];switch(typeof t){case"undefined":i=Object.assign([],this.selectedRows);break;case"number":i=this.table.rowManager.findRow(t);break;case"string":(i=this.table.rowManager.findRow(t))||(i=this.table.rowManager.getRows(t));break;default:i=t}Array.isArray(i)?i.length&&(i.forEach((t=>{(o=this._deselectRow(t,!0,!0))&&r.push(o)})),this._rowSelectionChanged(e,[],r)):i&&this._deselectRow(i,e,!0)}_deselectRow(t,e){var i,o,r=this,n=r.table.rowManager.findRow(t);if(n&&(i=r.selectedRows.findIndex((function(t){return t==n})))>-1)return(o=n.getElement())&&o.classList.remove("tabulator-selected"),n.modules.select||(n.modules.select={}),n.modules.select.selected=!1,n.modules.select.checkboxEl&&(n.modules.select.checkboxEl.checked=!1),r.selectedRows.splice(i,1),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(n,!1),this.dispatchExternal("rowDeselected",n.getComponent()),r._rowSelectionChanged(e,void 0,n),n}getSelectedData(){var t=[];return this.selectedRows.forEach((function(e){t.push(e.getData())})),t}getSelectedRows(){var t=[];return this.selectedRows.forEach((function(e){t.push(e.getComponent())})),t}_rowSelectionChanged(t,e=[],i=[]){this.headerCheckboxElement&&(0===this.selectedRows.length?(this.headerCheckboxElement.checked=!1,this.headerCheckboxElement.indeterminate=!1):this.table.rowManager.rows.length===this.selectedRows.length?(this.headerCheckboxElement.checked=!0,this.headerCheckboxElement.indeterminate=!1):(this.headerCheckboxElement.indeterminate=!0,this.headerCheckboxElement.checked=!1)),t||(Array.isArray(e)||(e=[e]),e=e.map((t=>t.getComponent())),Array.isArray(i)||(i=[i]),i=i.map((t=>t.getComponent())),this.dispatchExternal("rowSelectionChanged",this.getSelectedData(),this.getSelectedRows(),e,i))}registerRowSelectCheckbox(t,e){t._row.modules.select||(t._row.modules.select={}),t._row.modules.select.checkboxEl=e}registerHeaderSelectCheckbox(t){this.headerCheckboxElement=t}childRowSelection(t,e){var i=this.table.modules.dataTree.getChildren(t,!0);if(e)for(let t of i)this._selectRow(t,!0);else for(let t of i)this._deselectRow(t,!0)}}function gt(t,e,i,o,r,n,a){var s=window.DateTime||luxon.DateTime,l=a.format||"dd/MM/yyyy HH:mm:ss",u=a.alignEmptyValues,h=0;if(void 0!==s){if(s.isDateTime(t)||(t="iso"===l?s.fromISO(String(t)):s.fromFormat(String(t),l)),s.isDateTime(e)||(e="iso"===l?s.fromISO(String(e)):s.fromFormat(String(e),l)),t.isValid){if(e.isValid)return t-e;h=1}else h=e.isValid?-1:0;return("top"===u&&"desc"===n||"bottom"===u&&"asc"===n)&&(h*=-1),h}}bt.moduleName="selectRow";var mt={number:function(t,e,i,o,r,n,a){var s=a.alignEmptyValues,l=a.decimalSeparator,u=a.thousandSeparator,h=0;if(t=String(t),e=String(e),u&&(t=t.split(u).join(""),e=e.split(u).join("")),l&&(t=t.split(l).join("."),e=e.split(l).join(".")),t=parseFloat(t),e=parseFloat(e),isNaN(t))h=isNaN(e)?0:-1;else{if(!isNaN(e))return t-e;h=1}return("top"===s&&"desc"===n||"bottom"===s&&"asc"===n)&&(h*=-1),h},string:function(t,e,i,o,r,n,a){var s,l=a.alignEmptyValues,u=0;if(t){if(e){switch(typeof a.locale){case"boolean":a.locale&&(s=this.langLocale());break;case"string":s=a.locale}return String(t).toLowerCase().localeCompare(String(e).toLowerCase(),s)}u=1}else u=e?-1:0;return("top"===l&&"desc"===n||"bottom"===l&&"asc"===n)&&(u*=-1),u},date:function(t,e,i,o,r,n,a){return a.format||(a.format="dd/MM/yyyy"),gt.call(this,t,e,i,o,r,n,a)},time:function(t,e,i,o,r,n,a){return a.format||(a.format="HH:mm"),gt.call(this,t,e,i,o,r,n,a)},datetime:gt,boolean:function(t,e,i,o,r,n,a){return(!0===t||"true"===t||"True"===t||1===t?1:0)-(!0===e||"true"===e||"True"===e||1===e?1:0)},array:function(t,e,i,o,r,n,a){var s=a.type||"length",l=a.alignEmptyValues,u=0;function h(t){var e;switch(s){case"length":e=t.length;break;case"sum":e=t.reduce((function(t,e){return t+e}));break;case"max":e=Math.max.apply(null,t);break;case"min":e=Math.min.apply(null,t);break;case"avg":e=t.reduce((function(t,e){return t+e}))/t.length}return e}if(Array.isArray(t)){if(Array.isArray(e))return h(e)-h(t);u=1}else u=Array.isArray(e)?-1:0;return("top"===l&&"desc"===n||"bottom"===l&&"asc"===n)&&(u*=-1),u},exists:function(t,e,i,o,r,n,a){return(void 0===t?0:1)-(void 0===e?0:1)},alphanum:function(t,e,i,o,r,n,a){var s,l,u,h,c,d=0,p=/(\d+)|(\D+)/g,b=/\d/,g=a.alignEmptyValues,m=0;if(t||0===t){if(e||0===e){if(isFinite(t)&&isFinite(e))return t-e;if((s=String(t).toLowerCase())===(l=String(e).toLowerCase()))return 0;if(!b.test(s)||!b.test(l))return s>l?1:-1;for(s=s.match(p),l=l.match(p),c=s.length>l.length?l.length:s.length;d<c;)if((u=s[d])!==(h=l[d++]))return isFinite(u)&&isFinite(h)?("0"===u.charAt(0)&&(u="."+u),"0"===h.charAt(0)&&(h="."+h),u-h):u>h?1:-1;return s.length>l.length}m=1}else m=e||0===e?-1:0;return("top"===g&&"desc"===n||"bottom"===g&&"asc"===n)&&(m*=-1),m}};class ft extends l{constructor(t){super(t),this.sortList=[],this.changed=!1,this.registerTableOption("sortMode","local"),this.registerTableOption("initialSort",!1),this.registerTableOption("columnHeaderSortMulti",!0),this.registerTableOption("sortOrderReverse",!1),this.registerTableOption("headerSortElement","<div class='tabulator-arrow'></div>"),this.registerTableOption("headerSortClickElement","header"),this.registerColumnOption("sorter"),this.registerColumnOption("sorterParams"),this.registerColumnOption("headerSort",!0),this.registerColumnOption("headerSortStartingDir"),this.registerColumnOption("headerSortTristate")}initialize(){this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("table-built",this.tableBuilt.bind(this)),this.registerDataHandler(this.sort.bind(this),20),this.registerTableFunction("setSort",this.userSetSort.bind(this)),this.registerTableFunction("getSorters",this.getSort.bind(this)),this.registerTableFunction("clearSort",this.clearSort.bind(this)),"remote"===this.table.options.sortMode&&this.subscribe("data-params",this.remoteSortParams.bind(this))}tableBuilt(){this.table.options.initialSort&&this.setSort(this.table.options.initialSort)}remoteSortParams(t,e,i,o){var r=this.getSort();return r.forEach((t=>{delete t.column})),o.sort=r,o}userSetSort(t,e){this.setSort(t,e),this.refreshSort()}clearSort(){this.clear(),this.refreshSort()}initializeColumn(t){var e,i,o=!1;switch(typeof t.definition.sorter){case"string":ft.sorters[t.definition.sorter]&&(o=ft.sorters[t.definition.sorter]);break;case"function":o=t.definition.sorter}if(t.modules.sort={sorter:o,dir:"none",params:t.definition.sorterParams||{},startingDir:t.definition.headerSortStartingDir||"asc",tristate:t.definition.headerSortTristate},!1!==t.definition.headerSort){if((e=t.getElement()).classList.add("tabulator-sortable"),(i=document.createElement("div")).classList.add("tabulator-col-sorter"),"icon"===this.table.options.headerSortClickElement)i.classList.add("tabulator-col-sorter-element");else e.classList.add("tabulator-col-sorter-element");switch(this.table.options.headerSortElement){case"function":break;case"object":i.appendChild(this.table.options.headerSortElement);break;default:i.innerHTML=this.table.options.headerSortElement}t.titleHolderElement.appendChild(i),t.modules.sort.element=i,this.setColumnHeaderSortIcon(t,"none"),"icon"===this.table.options.headerSortClickElement&&i.addEventListener("mousedown",(t=>{t.stopPropagation()})),("icon"===this.table.options.headerSortClickElement?i:e).addEventListener("click",(e=>{var i="",o=[],r=!1;if(t.modules.sort){if(t.modules.sort.tristate)i="none"==t.modules.sort.dir?t.modules.sort.startingDir:t.modules.sort.dir==t.modules.sort.startingDir?"asc"==t.modules.sort.dir?"desc":"asc":"none";else switch(t.modules.sort.dir){case"asc":i="desc";break;case"desc":i="asc";break;default:i=t.modules.sort.startingDir}this.table.options.columnHeaderSortMulti&&(e.shiftKey||e.ctrlKey)?(r=(o=this.getSort()).findIndex((e=>e.field===t.getField())),r>-1?(o[r].dir=i,r=o.splice(r,1)[0],"none"!=i&&o.push(r)):"none"!=i&&o.push({column:t,dir:i}),this.setSort(o)):"none"==i?this.clear():this.setSort(t,i),this.refreshSort()}}))}}refreshSort(){"remote"===this.table.options.sortMode?this.reloadData(null,!1,!1):this.refreshData(!0)}hasChanged(){var t=this.changed;return this.changed=!1,t}getSort(){var t=[];return this.sortList.forEach((function(e){e.column&&t.push({column:e.column.getComponent(),field:e.column.getField(),dir:e.dir})})),t}setSort(t,e){var i=this,o=[];Array.isArray(t)||(t=[{column:t,dir:e}]),t.forEach((function(t){var e;(e=i.table.columnManager.findColumn(t.column))&&(t.column=e,o.push(t),i.changed=!0)})),i.sortList=o,this.dispatch("sort-changed")}clear(){this.setSort([])}findSorter(t){var e,i=this.table.rowManager.activeRows[0],o="string";if(i&&(i=i.getData(),t.getField()))switch(typeof(e=t.getFieldValue(i))){case"undefined":o="string";break;case"boolean":o="boolean";break;default:isNaN(e)||""===e?e.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)&&(o="alphanum"):o="number"}return ft.sorters[o]}sort(t){var e=this,i=this.table.options.sortOrderReverse?e.sortList.slice().reverse():e.sortList,o=[],r=[];return this.subscribedExternal("dataSorting")&&this.dispatchExternal("dataSorting",e.getSort()),e.clearColumnHeaders(),"remote"!==this.table.options.sortMode?(i.forEach((function(t,i){var r;t.column&&((r=t.column.modules.sort)&&(r.sorter||(r.sorter=e.findSorter(t.column)),t.params="function"==typeof r.params?r.params(t.column.getComponent(),t.dir):r.params,o.push(t)),e.setColumnHeader(t.column,t.dir))})),o.length&&e._sortItems(t,o)):i.forEach((function(t,i){e.setColumnHeader(t.column,t.dir)})),this.subscribedExternal("dataSorted")&&(t.forEach((t=>{r.push(t.getComponent())})),this.dispatchExternal("dataSorted",e.getSort(),r)),t}clearColumnHeaders(){this.table.columnManager.getRealColumns().forEach((t=>{t.modules.sort&&(t.modules.sort.dir="none",t.getElement().setAttribute("aria-sort","none"),this.setColumnHeaderSortIcon(t,"none"))}))}setColumnHeader(t,e){t.modules.sort.dir=e,t.getElement().setAttribute("aria-sort","asc"===e?"ascending":"descending"),this.setColumnHeaderSortIcon(t,e)}setColumnHeaderSortIcon(t,e){var i,o=t.modules.sort.element;if(t.definition.headerSort&&"function"==typeof this.table.options.headerSortElement){for(;o.firstChild;)o.removeChild(o.firstChild);"object"==typeof(i=this.table.options.headerSortElement.call(this.table,t.getComponent(),e))?o.appendChild(i):o.innerHTML=i}}_sortItems(t,e){var i=e.length-1;t.sort(((t,o)=>{for(var r,n=i;n>=0;n--){let i=e[n];if(0!==(r=this._sortRow(t,o,i.column,i.dir,i.params)))break}return r}))}_sortRow(t,e,i,o,r){var n,a,s="asc"==o?t:e,l="asc"==o?e:t;return t=void 0!==(t=i.getFieldValue(s.getData()))?t:"",e=void 0!==(e=i.getFieldValue(l.getData()))?e:"",n=s.getComponent(),a=l.getComponent(),i.modules.sort.sorter.call(this,t,e,n,a,i.getComponent(),o,r)}}ft.moduleName="sort",ft.sorters=mt;class vt{constructor(t){return this._range=t,new Proxy(this,{get:function(t,e,i){return void 0!==t[e]?t[e]:t._range.table.componentFunctionBinder.handle("range",t._range,e)}})}getElement(){return this._range.element}getData(){return this._range.getData()}getCells(){return this._range.getCells(!0)}getStructuredCells(){return this._range.getStructuredCells()}getRows(){return this._range.getRows().map((t=>t.getComponent()))}getColumns(){return this._range.getColumns().map((t=>t.getComponent()))}getBounds(){return this._range.getBounds()}getTopEdge(){return this._range.top}getBottomEdge(){return this._range.bottom}getLeftEdge(){return this._range.left}getRightEdge(){return this._range.right}setBounds(t,e){this._range.destroyedGuard("setBounds")&&this._range.setBounds(t?t._cell:t,e?e._cell:e)}setStartBound(t){this._range.destroyedGuard("setStartBound")&&(this._range.setEndBound(t?t._cell:t),this._range.rangeManager.layoutElement())}setEndBound(t){this._range.destroyedGuard("setEndBound")&&(this._range.setEndBound(t?t._cell:t),this._range.rangeManager.layoutElement())}clearValues(){this._range.destroyedGuard("clearValues")&&this._range.clearValues()}remove(){this._range.destroyedGuard("remove")&&this._range.destroy(!0)}}class wt extends n{constructor(t,e,i,o){super(t),this.rangeManager=e,this.element=null,this.initialized=!1,this.initializing={start:!1,end:!1},this.destroyed=!1,this.top=0,this.bottom=0,this.left=0,this.right=0,this.table=t,this.start={row:0,col:0},this.end={row:0,col:0},this.rangeManager.rowHeader&&(this.left=1,this.right=1,this.start.col=1,this.end.col=1),this.initElement(),setTimeout((()=>{this.initBounds(i,o)}))}initElement(){this.element=document.createElement("div"),this.element.classList.add("tabulator-range")}initBounds(t,e){this._updateMinMax(),t&&this.setBounds(t,e||t)}setStart(t,e){this.start.row===t&&this.start.col===e||(this.start.row=t,this.start.col=e,this.initializing.start=!0,this._updateMinMax())}setEnd(t,e){this.end.row===t&&this.end.col===e||(this.end.row=t,this.end.col=e,this.initializing.end=!0,this._updateMinMax())}setBounds(t,e,i){t&&this.setStartBound(t),this.setEndBound(e||t),this.rangeManager.layoutElement(i)}setStartBound(t){var e,i;"column"===t.type?this.rangeManager.columnSelection&&this.setStart(0,t.getPosition()-1):(e=t.row.position-1,i=t.column.getPosition()-1,t.column===this.rangeManager.rowHeader?this.setStart(e,1):this.setStart(e,i))}setEndBound(t){var e,i,o,r=this._getTableRows().length;"column"===t.type?this.rangeManager.columnSelection&&("column"===this.rangeManager.selecting?this.setEnd(r-1,t.getPosition()-1):"cell"===this.rangeManager.selecting&&this.setEnd(0,t.getPosition()-1)):(e=t.row.position-1,i=t.column.getPosition()-1,o=t.column===this.rangeManager.rowHeader,"row"===this.rangeManager.selecting?this.setEnd(e,this._getTableColumns().length-1):"row"!==this.rangeManager.selecting&&o?this.setEnd(e,0):"column"===this.rangeManager.selecting?this.setEnd(r-1,i):this.setEnd(e,i))}_updateMinMax(){this.top=Math.min(this.start.row,this.end.row),this.bottom=Math.max(this.start.row,this.end.row),this.left=Math.min(this.start.col,this.end.col),this.right=Math.max(this.start.col,this.end.col),this.initialized?this.dispatchExternal("rangeChanged",this.getComponent()):this.initializing.start&&this.initializing.end&&(this.initialized=!0,this.dispatchExternal("rangeAdded",this.getComponent()))}_getTableColumns(){return this.table.columnManager.getVisibleColumnsByIndex()}_getTableRows(){return this.table.rowManager.getDisplayRows()}layout(){var t,e,i,o,r,n,a=this.table.rowManager.renderer.vDomTop,s=this.table.rowManager.renderer.vDomBottom,l=this.table.columnManager.renderer.leftCol,u=this.table.columnManager.renderer.rightCol;null==a&&(a=0),null==s&&(s=1/0),null==l&&(l=0),null==u&&(u=1/0),this.overlaps(l,a,u,s)&&(t=Math.max(this.top,a),e=Math.min(this.bottom,s),i=Math.max(this.left,l),o=Math.min(this.right,u),r=this.rangeManager.getCell(t,i),n=this.rangeManager.getCell(e,o),this.element.classList.add("tabulator-range-active"),this.element.style.left=r.row.getElement().offsetLeft+r.getElement().offsetLeft+"px",this.element.style.top=r.row.getElement().offsetTop+"px",this.element.style.width=n.getElement().offsetLeft+n.getElement().offsetWidth-r.getElement().offsetLeft+"px",this.element.style.height=n.row.getElement().offsetTop+n.row.getElement().offsetHeight-r.row.getElement().offsetTop+"px")}atTopLeft(t){return t.row.position-1===this.top&&t.column.getPosition()-1===this.left}atBottomRight(t){return t.row.position-1===this.bottom&&t.column.getPosition()-1===this.right}occupies(t){return this.occupiesRow(t.row)&&this.occupiesColumn(t.column)}occupiesRow(t){return this.top<=t.position-1&&t.position-1<=this.bottom}occupiesColumn(t){return this.left<=t.getPosition()-1&&t.getPosition()-1<=this.right}overlaps(t,e,i,o){return!(this.left>i||t>this.right||this.top>o||e>this.bottom)}getData(){var t=[],e=this.getRows(),i=this.getColumns();return e.forEach((e=>{var o=e.getData(),r={};i.forEach((t=>{r[t.field]=o[t.field]})),t.push(r)})),t}getCells(t,e){var i=[],o=this.getRows(),r=this.getColumns();return t?i=o.map((t=>{var i=[];return t.getCells().forEach((t=>{r.includes(t.column)&&i.push(e?t.getComponent():t)})),i})):o.forEach((t=>{t.getCells().forEach((t=>{r.includes(t.column)&&i.push(e?t.getComponent():t)}))})),i}getStructuredCells(){return this.getCells(!0,!0)}getRows(){return this._getTableRows().slice(this.top,this.bottom+1)}getColumns(){return this._getTableColumns().slice(this.left,this.right+1)}clearValues(){var t=this.getCells(),e=this.table.options.selectableRangeClearCellsValue;this.table.blockRedraw(),t.forEach((t=>{t.setValue(e)})),this.table.restoreRedraw()}getBounds(t){var e=this.getCells(!1,t),i={start:null,end:null};return e.length&&(i.start=e[0],i.end=e[e.length-1]),i}getComponent(){return this.component||(this.component=new vt(this)),this.component}destroy(t){this.destroyed=!0,this.element.remove(),t&&this.rangeManager.rangeRemoved(this),this.initialized&&this.dispatchExternal("rangeRemoved",this.getComponent())}destroyedGuard(t){return this.destroyed,!this.destroyed}}class Ct extends l{constructor(t){super(t),this.selecting="cell",this.mousedown=!1,this.ranges=[],this.overlay=null,this.rowHeader=null,this.layoutChangeTimeout=null,this.columnSelection=!1,this.rowSelection=!1,this.maxRanges=0,this.activeRange=!1,this.blockKeydown=!1,this.keyDownEvent=this._handleKeyDown.bind(this),this.mouseUpEvent=this._handleMouseUp.bind(this),this.registerTableOption("selectableRange",!1),this.registerTableOption("selectableRangeColumns",!1),this.registerTableOption("selectableRangeRows",!1),this.registerTableOption("selectableRangeClearCells",!1),this.registerTableOption("selectableRangeClearCellsValue",void 0),this.registerTableFunction("getRangesData",this.getRangesData.bind(this)),this.registerTableFunction("getRanges",this.getRanges.bind(this)),this.registerTableFunction("addRange",this.addRangeFromComponent.bind(this)),this.registerComponentFunction("cell","getRanges",this.cellGetRanges.bind(this)),this.registerComponentFunction("row","getRanges",this.rowGetRanges.bind(this)),this.registerComponentFunction("column","getRanges",this.colGetRanges.bind(this))}initialize(){this.options("selectableRange")&&(this.options("selectableRows")||(this.maxRanges=this.options("selectableRange"),this.initializeTable(),this.initializeWatchers()))}initializeTable(){this.overlay=document.createElement("div"),this.overlay.classList.add("tabulator-range-overlay"),this.rangeContainer=document.createElement("div"),this.rangeContainer.classList.add("tabulator-range-container"),this.activeRangeCellElement=document.createElement("div"),this.activeRangeCellElement.classList.add("tabulator-range-cell-active"),this.overlay.appendChild(this.rangeContainer),this.overlay.appendChild(this.activeRangeCellElement),this.table.rowManager.element.addEventListener("keydown",this.keyDownEvent),this.resetRanges(),this.table.rowManager.element.appendChild(this.overlay),this.table.columnManager.element.setAttribute("tabindex",0),this.table.element.classList.add("tabulator-ranges")}initializeWatchers(){this.columnSelection=this.options("selectableRangeColumns"),this.rowSelection=this.options("selectableRangeRows"),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-mousedown",this.handleColumnMouseDown.bind(this)),this.subscribe("column-mousemove",this.handleColumnMouseMove.bind(this)),this.subscribe("column-resized",this.handleColumnResized.bind(this)),this.subscribe("column-width",this.layoutChange.bind(this)),this.subscribe("column-height",this.layoutChange.bind(this)),this.subscribe("column-resized",this.layoutChange.bind(this)),this.subscribe("columns-loaded",this.updateHeaderColumn.bind(this)),this.subscribe("cell-height",this.layoutChange.bind(this)),this.subscribe("cell-rendered",this.renderCell.bind(this)),this.subscribe("cell-mousedown",this.handleCellMouseDown.bind(this)),this.subscribe("cell-mousemove",this.handleCellMouseMove.bind(this)),this.subscribe("cell-click",this.handleCellClick.bind(this)),this.subscribe("cell-editing",this.handleEditingCell.bind(this)),this.subscribe("page-changed",this.redraw.bind(this)),this.subscribe("scroll-vertical",this.layoutChange.bind(this)),this.subscribe("scroll-horizontal",this.layoutChange.bind(this)),this.subscribe("data-destroy",this.tableDestroyed.bind(this)),this.subscribe("data-processed",this.resetRanges.bind(this)),this.subscribe("table-layout",this.layoutElement.bind(this)),this.subscribe("table-redraw",this.redraw.bind(this)),this.subscribe("table-destroy",this.tableDestroyed.bind(this)),this.subscribe("edit-editor-clear",this.finishEditingCell.bind(this)),this.subscribe("edit-blur",this.restoreFocus.bind(this)),this.subscribe("keybinding-nav-prev",this.keyNavigate.bind(this,"left")),this.subscribe("keybinding-nav-next",this.keyNavigate.bind(this,"right")),this.subscribe("keybinding-nav-left",this.keyNavigate.bind(this,"left")),this.subscribe("keybinding-nav-right",this.keyNavigate.bind(this,"right")),this.subscribe("keybinding-nav-up",this.keyNavigate.bind(this,"up")),this.subscribe("keybinding-nav-down",this.keyNavigate.bind(this,"down")),this.subscribe("keybinding-nav-range",this.keyNavigateRange.bind(this))}initializeColumn(t){this.columnSelection&&t.definition.headerSort&&this.options("headerSortClickElement"),t.modules.edit}updateHeaderColumn(){this.rowSelection&&(this.rowHeader=this.table.columnManager.getVisibleColumnsByIndex()[0],this.rowHeader&&(this.rowHeader.definition.cssClass=this.rowHeader.definition.cssClass+" tabulator-range-row-header",this.rowHeader.definition.headerSort,this.rowHeader.definition.editor))}getRanges(){return this.ranges.map((t=>t.getComponent()))}getRangesData(){return this.ranges.map((t=>t.getData()))}addRangeFromComponent(t,e){return t=t?t._cell:null,e=e?e._cell:null,this.addRange(t,e)}cellGetRanges(t){var e=[];return e=t.column===this.rowHeader?this.ranges.filter((e=>e.occupiesRow(t.row))):this.ranges.filter((e=>e.occupies(t))),e.map((t=>t.getComponent()))}rowGetRanges(t){var e=this.ranges.filter((e=>e.occupiesRow(t)));return e.map((t=>t.getComponent()))}colGetRanges(t){var e=this.ranges.filter((e=>e.occupiesColumn(t)));return e.map((t=>t.getComponent()))}_handleMouseUp(t){this.mousedown=!1,document.removeEventListener("mouseup",this.mouseUpEvent)}_handleKeyDown(t){if(!this.blockKeydown&&(!this.table.modules.edit||this.table.modules.edit&&!this.table.modules.edit.currentCell)){if("Enter"===t.key){if(this.table.modules.edit&&this.table.modules.edit.currentCell)return;this.table.modules.edit.editCell(this.getActiveCell()),t.preventDefault()}"Backspace"!==t.key&&"Delete"!==t.key||!this.options("selectableRangeClearCells")||this.activeRange&&this.activeRange.clearValues()}}initializeFocus(t){var e;try{document.selection?((e=document.body.createTextRange()).moveToElementText(t.getElement()),e.select()):window.getSelection&&((e=document.createRange()).selectNode(t.getElement()),window.getSelection().removeAllRanges(),window.getSelection().addRange(e))}catch(t){}}restoreFocus(t){return this.table.rowManager.element.focus(),!0}handleColumnResized(t){var e;"column"!==this.selecting&&"all"!==this.selecting||(e=this.ranges.some((e=>e.occupiesColumn(t))),e&&this.ranges.forEach((e=>{e.getColumns(!0).forEach((e=>{e!==t&&e.setWidth(t.width)}))})))}handleColumnMouseDown(t,e){(2!==t.button||"column"!==this.selecting&&"all"!==this.selecting||!this.activeRange.occupiesColumn(e))&&(this.mousedown=!0,document.addEventListener("mouseup",this.mouseUpEvent),this.newSelection(t,e))}handleColumnMouseMove(t,e){e!==this.rowHeader&&this.mousedown&&"all"!==this.selecting&&this.activeRange.setBounds(!1,e,!0)}renderCell(t){var e=t.getElement(),i=this.ranges.findIndex((e=>e.occupies(t)));e.classList.toggle("tabulator-range-selected",-1!==i),e.classList.toggle("tabulator-range-only-cell-selected",1===this.ranges.length&&this.ranges[0].atTopLeft(t)&&this.ranges[0].atBottomRight(t)),e.dataset.range=i}handleCellMouseDown(t,e){2===t.button&&(this.activeRange.occupies(e)||("row"===this.selecting||"all"===this.selecting)&&this.activeRange.occupiesRow(e.row))||(this.mousedown=!0,document.addEventListener("mouseup",this.mouseUpEvent),this.newSelection(t,e))}handleCellMouseMove(t,e){this.mousedown&&"all"!==this.selecting&&this.activeRange.setBounds(!1,e,!0)}handleCellClick(t,e){this.initializeFocus(e)}handleEditingCell(t){this.activeRange&&this.activeRange.setBounds(t)}finishEditingCell(){this.blockKeydown=!0,this.table.rowManager.element.focus(),setTimeout((()=>{this.blockKeydown=!1}),10)}keyNavigate(t,e){this.navigate(!1,!1,t)&&e.preventDefault()}keyNavigateRange(t,e,i,o){this.navigate(i,o,e)&&t.preventDefault()}navigate(t,e,i){var o,r,n,a,s,l,u;if(this.table.modules.edit&&this.table.modules.edit.currentCell)return!1;if(this.ranges.length>1&&(this.ranges=this.ranges.filter((t=>t===this.activeRange?(t.setEnd(t.start.row,t.start.col),!0):(t.destroy(),!1)))),r=this.activeRange,a=(n=e?r.end:r.start).row,s=n.col,t)switch(i){case"left":s=this.findJumpCellLeft(r.start.row,n.col);break;case"right":s=this.findJumpCellRight(r.start.row,n.col);break;case"up":a=this.findJumpCellUp(n.row,r.start.col);break;case"down":a=this.findJumpCellDown(n.row,r.start.col)}else{if(e&&("row"===this.selecting&&("left"===i||"right"===i)||"column"===this.selecting&&("up"===i||"down"===i)))return;switch(i){case"left":s=Math.max(s-1,0);break;case"right":s=Math.min(s+1,this.getTableColumns().length-1);break;case"up":a=Math.max(a-1,0);break;case"down":a=Math.min(a+1,this.getTableRows().length-1)}}return o=s!==n.col||a!==n.row,e||r.setStart(a,s),r.setEnd(a,s),e||(this.selecting="cell"),o?(l=this.getRowByRangePos(r.end.row),u=this.getColumnByRangePos(r.end.col),"left"!==i&&"right"!==i||null!==u.getElement().parentNode?"up"!==i&&"down"!==i||null!==l.getElement().parentNode?this.autoScroll(r,l.getElement(),u.getElement()):l.getComponent().scrollTo(void 0,!1):u.getComponent().scrollTo(void 0,!1),this.layoutElement(),!0):void 0}rangeRemoved(t){this.ranges=this.ranges.filter((e=>e!==t)),this.activeRange===t&&(this.ranges.length?this.activeRange=this.ranges[this.ranges.length-1]:this.addRange()),this.layoutElement()}findJumpCell(t,e,i,o){var r;e&&(t=t.reverse());for(let e of t){let t=e.getValue();if(i){if(r=e,t)break}else if(o){if(r=e,t)break}else{if(!t)break;r=e}}return r}findJumpCellLeft(t,e){var i=this.getRowByRangePos(t).cells.filter((t=>t.column.visible)),o=!i[e].getValue(),r=!!i[e]&&!i[e].getValue(),n=e,a=this.rowHeader?i.slice(1,e):i.slice(0,e),s=this.findJumpCell(a,!0,o,r);return s&&(n=s.column.getPosition()-1),n}findJumpCellRight(t,e){var i=this.getRowByRangePos(t).cells.filter((t=>t.column.visible)),o=!i[e].getValue(),r=!!i[e+1]&&!i[e+1].getValue(),n=e,a=this.findJumpCell(i.slice(e+1,i.length),!1,o,r);return a&&(n=a.column.getPosition()-1),n}findJumpCellUp(t,e){var i=this.getColumnByRangePos(e).cells.filter((t=>this.table.rowManager.activeRows.includes(t.row))),o=!i[t].getValue(),r=!!i[t-1]&&!i[t-1].getValue(),n=t,a=this.findJumpCell(i.slice(0,n),!0,o,r);return a&&(n=a.row.position-1),n}findJumpCellDown(t,e){var i=this.getColumnByRangePos(e).cells.filter((t=>this.table.rowManager.activeRows.includes(t.row))),o=!i[t].getValue(),r=!!i[t+1]&&!i[t+1].getValue(),n=t,a=this.findJumpCell(i.slice(n+1,i.length),!1,o,r);return a&&(n=a.row.position-1),n}newSelection(t,e){var i;if("column"===e.type){if(!this.columnSelection)return;if(e===this.rowHeader){i=this.resetRanges(),this.selecting="all";var o,r=this.getCell(-1,-1);return o=this.rowHeader?this.getCell(0,1):this.getCell(0,0),void i.setBounds(o,r)}this.selecting="column"}else e.column===this.rowHeader?this.selecting="row":this.selecting="cell";t.shiftKey?this.activeRange.setBounds(!1,e):t.ctrlKey?this.addRange().setBounds(e):this.resetRanges().setBounds(e)}autoScroll(t,e,i){var o,r,n,a,s,l=this.table.rowManager.element;void 0===e&&(e=this.getRowByRangePos(t.end.row).getElement()),void 0===i&&(i=this.getColumnByRangePos(t.end.col).getElement()),this.rowHeader&&(o=this.rowHeader.getElement()),r={left:i.offsetLeft,right:i.offsetLeft+i.offsetWidth,top:e.offsetTop,bottom:e.offsetTop+e.offsetHeight},n={left:l.scrollLeft,right:Math.ceil(l.scrollLeft+l.clientWidth),top:l.scrollTop,bottom:l.scrollTop+l.offsetHeight-this.table.rowManager.scrollbarWidth},o&&(n.left+=o.offsetWidth),a=n.left<r.left&&r.left<n.right&&n.left<r.right&&r.right<n.right,s=n.top<r.top&&r.top<n.bottom&&n.top<r.bottom&&r.bottom<n.bottom,a||(r.left<n.left?(l.scrollLeft=r.left,o&&(l.scrollLeft-=o.offsetWidth)):r.right>n.right&&(l.scrollLeft=r.right-l.clientWidth)),s||(r.top<n.top?l.scrollTop=r.top:r.bottom>n.bottom&&(l.scrollTop=r.bottom-l.clientHeight))}layoutChange(){this.overlay.style.visibility="hidden",clearTimeout(this.layoutChangeTimeout),this.layoutChangeTimeout=setTimeout(this.layoutRanges.bind(this),200)}redraw(t){t&&(this.selecting="cell",this.resetRanges(),this.layoutElement())}layoutElement(t){(t?this.table.rowManager.getVisibleRows(!0):this.table.rowManager.getRows()).forEach((t=>{"row"===t.type&&(this.layoutRow(t),t.cells.forEach((t=>this.renderCell(t))))})),this.getTableColumns().forEach((t=>{this.layoutColumn(t)})),this.layoutRanges()}layoutRow(t){var e=t.getElement(),i=!1,o=this.ranges.some((e=>e.occupiesRow(t)));"row"===this.selecting?i=o:"all"===this.selecting&&(i=!0),e.classList.toggle("tabulator-range-selected",i),e.classList.toggle("tabulator-range-highlight",o)}layoutColumn(t){var e=t.getElement(),i=!1,o=this.ranges.some((e=>e.occupiesColumn(t)));"column"===this.selecting?i=o:"all"===this.selecting&&(i=!0),e.classList.toggle("tabulator-range-selected",i),e.classList.toggle("tabulator-range-highlight",o)}layoutRanges(){var t;this.table.initialized&&(t=this.getActiveCell())&&(this.activeRangeCellElement.style.left=t.row.getElement().offsetLeft+t.getElement().offsetLeft+"px",this.activeRangeCellElement.style.top=t.row.getElement().offsetTop+"px",this.activeRangeCellElement.style.width=t.getElement().offsetLeft+t.getElement().offsetWidth-t.getElement().offsetLeft+"px",this.activeRangeCellElement.style.height=t.row.getElement().offsetTop+t.row.getElement().offsetHeight-t.row.getElement().offsetTop+"px",this.ranges.forEach((t=>t.layout())),this.overlay.style.visibility="visible")}getCell(t,e){var i;return e<0&&(e=this.getTableColumns().length+e)<0?null:(t<0&&(t=this.getTableRows().length+t),(i=this.table.rowManager.getRowFromPosition(t+1))?i.getCells(!1,!0).filter((t=>t.column.visible))[e]:null)}getActiveCell(){return this.getCell(this.activeRange.start.row,this.activeRange.start.col)}getRowByRangePos(t){return this.getTableRows()[t]}getColumnByRangePos(t){return this.getTableColumns()[t]}getTableRows(){return this.table.rowManager.getDisplayRows()}getTableColumns(){return this.table.columnManager.getVisibleColumnsByIndex()}addRange(t,e){var i;return!0!==this.maxRanges&&this.ranges.length>=this.maxRanges&&this.ranges.shift().destroy(),i=new wt(this.table,this,t,e),this.activeRange=i,this.ranges.push(i),this.rangeContainer.appendChild(i.element),i}resetRanges(){var t,e;return this.ranges.forEach((t=>t.destroy())),this.ranges=[],t=this.addRange(),this.table.rowManager.activeRows.length&&(e=this.table.rowManager.activeRows[0].cells[this.rowHeader?1:0])&&(t.setBounds(e),this.initializeFocus(e)),t}tableDestroyed(){document.removeEventListener("mouseup",this.mouseUpEvent),this.table.rowManager.element.removeEventListener("keydown",this.keyDownEvent)}selectedRows(t){return t?this.activeRange.getRows().map((t=>t.getComponent())):this.activeRange.getRows()}selectedColumns(t){return t?this.activeRange.getColumns().map((t=>t.getComponent())):this.activeRange.getColumns()}}Ct.moduleName="selectRange";class yt extends l{constructor(t){super(t),this.tooltipSubscriber=null,this.headerSubscriber=null,this.timeout=null,this.popupInstance=null,this.registerTableOption("tooltipGenerationMode",void 0),this.registerTableOption("tooltipDelay",300),this.registerColumnOption("tooltip"),this.registerColumnOption("headerTooltip")}initialize(){this.deprecatedOptionsCheck(),this.subscribe("column-init",this.initializeColumn.bind(this))}deprecatedOptionsCheck(){this.deprecationCheckMsg("tooltipGenerationMode","This option is no longer needed as tooltips are always generated on hover now")}initializeColumn(t){t.definition.headerTooltip&&!this.headerSubscriber&&(this.headerSubscriber=!0,this.subscribe("column-mousemove",this.mousemoveCheck.bind(this,"headerTooltip")),this.subscribe("column-mouseout",this.mouseoutCheck.bind(this,"headerTooltip"))),t.definition.tooltip&&!this.tooltipSubscriber&&(this.tooltipSubscriber=!0,this.subscribe("cell-mousemove",this.mousemoveCheck.bind(this,"tooltip")),this.subscribe("cell-mouseout",this.mouseoutCheck.bind(this,"tooltip")))}mousemoveCheck(t,e,i){var o="tooltip"===t?i.column.definition.tooltip:i.definition.headerTooltip;o&&(this.clearPopup(),this.timeout=setTimeout(this.loadTooltip.bind(this,e,i,o),this.table.options.tooltipDelay))}mouseoutCheck(t,e,i){this.popupInstance||this.clearPopup()}clearPopup(t,e,i){clearTimeout(this.timeout),this.timeout=null,this.popupInstance&&this.popupInstance.hide()}loadTooltip(t,e,i){var o,r,n;"function"==typeof i&&(i=i(t,e.getComponent(),(function(t){r=t}))),i instanceof HTMLElement?o=i:(o=document.createElement("div"),!0===i&&(e instanceof w?i=e.value:e.definition.field?this.langBind("columns|"+e.definition.field,(t=>{o.innerHTML=i=t||e.definition.title})):i=e.definition.title),o.innerHTML=i),(i||0===i||!1===i)&&(o.classList.add("tabulator-tooltip"),o.addEventListener("mousemove",(t=>t.preventDefault())),this.popupInstance=this.popup(o),"function"==typeof r&&this.popupInstance.renderCallback(r),n=this.popupInstance.containerEventCoords(t),this.popupInstance.show(n.x+15,n.y+15).hideOnBlur((()=>{this.dispatchExternal("TooltipClosed",e.getComponent()),this.popupInstance=null})),this.dispatchExternal("TooltipOpened",e.getComponent()))}}yt.moduleName="tooltip";var xt={integer:function(t,e,i){return""===e||null==e||(e=Number(e),!isNaN(e)&&isFinite(e)&&Math.floor(e)===e)},float:function(t,e,i){return""===e||null==e||(e=Number(e),!isNaN(e)&&isFinite(e)&&e%1!=0)},numeric:function(t,e,i){return""===e||null==e||!isNaN(e)},string:function(t,e,i){return""===e||null==e||isNaN(e)},alphanumeric:function(t,e,i){return""===e||null==e||new RegExp(/^[a-z0-9]+$/i).test(e)},max:function(t,e,i){return""===e||null==e||parseFloat(e)<=i},min:function(t,e,i){return""===e||null==e||parseFloat(e)>=i},starts:function(t,e,i){return""===e||null==e||String(e).toLowerCase().startsWith(String(i).toLowerCase())},ends:function(t,e,i){return""===e||null==e||String(e).toLowerCase().endsWith(String(i).toLowerCase())},minLength:function(t,e,i){return""===e||null==e||String(e).length>=i},maxLength:function(t,e,i){return""===e||null==e||String(e).length<=i},in:function(t,e,i){return""===e||null==e||("string"==typeof i&&(i=i.split("|")),i.indexOf(e)>-1)},regex:function(t,e,i){return""===e||null==e||new RegExp(i).test(e)},unique:function(t,e,i){if(""===e||null==e)return!0;var o=!0,r=t.getData(),n=t.getColumn()._getSelf();return this.table.rowManager.rows.forEach((function(t){var i=t.getData();i!==r&&e==n.getFieldValue(i)&&(o=!1)})),o},required:function(t,e,i){return""!==e&&null!=e}};class At extends l{constructor(t){super(t),this.invalidCells=[],this.registerTableOption("validationMode","blocking"),this.registerColumnOption("validator"),this.registerTableFunction("getInvalidCells",this.getInvalidCells.bind(this)),this.registerTableFunction("clearCellValidation",this.userClearCellValidation.bind(this)),this.registerTableFunction("validate",this.userValidate.bind(this)),this.registerComponentFunction("cell","isValid",this.cellIsValid.bind(this)),this.registerComponentFunction("cell","clearValidation",this.clearValidation.bind(this)),this.registerComponentFunction("cell","validate",this.cellValidate.bind(this)),this.registerComponentFunction("column","validate",this.columnValidate.bind(this)),this.registerComponentFunction("row","validate",this.rowValidate.bind(this))}initialize(){this.subscribe("cell-delete",this.clearValidation.bind(this)),this.subscribe("column-layout",this.initializeColumnCheck.bind(this)),this.subscribe("edit-success",this.editValidate.bind(this)),this.subscribe("edit-editor-clear",this.editorClear.bind(this)),this.subscribe("edit-edited-clear",this.editedClear.bind(this))}editValidate(t,e,i){var o="manual"===this.table.options.validationMode||this.validate(t.column.modules.validate,t,e);return!0!==o&&setTimeout((()=>{t.getElement().classList.add("tabulator-validation-fail"),this.dispatchExternal("validationFailed",t.getComponent(),e,o)})),o}editorClear(t,e){e&&t.column.modules.validate&&this.cellValidate(t),t.getElement().classList.remove("tabulator-validation-fail")}editedClear(t){t.modules.validate&&(t.modules.validate.invalid=!1)}cellIsValid(t){return t.modules.validate&&t.modules.validate.invalid||!0}cellValidate(t){return this.validate(t.column.modules.validate,t,t.getValue())}columnValidate(t){var e=[];return t.cells.forEach((t=>{!0!==this.cellValidate(t)&&e.push(t.getComponent())})),!e.length||e}rowValidate(t){var e=[];return t.cells.forEach((t=>{!0!==this.cellValidate(t)&&e.push(t.getComponent())})),!e.length||e}userClearCellValidation(t){t||(t=this.getInvalidCells()),Array.isArray(t)||(t=[t]),t.forEach((t=>{this.clearValidation(t._getSelf())}))}userValidate(t){var e=[];return this.table.rowManager.rows.forEach((t=>{var i=(t=t.getComponent()).validate();!0!==i&&(e=e.concat(i))})),!e.length||e}initializeColumnCheck(t){void 0!==t.definition.validator&&this.initializeColumn(t)}initializeColumn(t){var e,i=this,o=[];t.definition.validator&&(Array.isArray(t.definition.validator)?t.definition.validator.forEach((t=>{(e=i._extractValidator(t))&&o.push(e)})):(e=this._extractValidator(t.definition.validator))&&o.push(e),t.modules.validate=!!o.length&&o)}_extractValidator(t){var e,i,o;switch(typeof t){case"string":return(o=t.indexOf(":"))>-1?(e=t.substring(0,o),i=t.substring(o+1)):e=t,this._buildValidator(e,i);case"function":return this._buildValidator(t);case"object":return this._buildValidator(t.type,t.parameters)}}_buildValidator(t,e){var i="function"==typeof t?t:At.validators[t];return!!i&&{type:"function"==typeof t?"function":t,func:i,params:e}}validate(t,e,i){var o=this,r=[],n=this.invalidCells.indexOf(e);return t&&t.forEach((t=>{t.func.call(o,e.getComponent(),i,t.params)||r.push({type:t.type,parameters:t.params})})),e.modules.validate||(e.modules.validate={}),r.length?(e.modules.validate.invalid=r,"manual"!==this.table.options.validationMode&&e.getElement().classList.add("tabulator-validation-fail"),-1==n&&this.invalidCells.push(e)):(e.modules.validate.invalid=!1,e.getElement().classList.remove("tabulator-validation-fail"),n>-1&&this.invalidCells.splice(n,1)),!r.length||r}getInvalidCells(){var t=[];return this.invalidCells.forEach((e=>{t.push(e.getComponent())})),t}clearValidation(t){var e;t.modules.validate&&t.modules.validate.invalid&&(t.getElement().classList.remove("tabulator-validation-fail"),t.modules.validate.invalid=!1,(e=this.invalidCells.indexOf(t))>-1&&this.invalidCells.splice(e,1))}}At.moduleName="validate",At.validators=xt;var Et=Object.freeze({__proto__:null,AccessorModule:u,AjaxModule:g,ClipboardModule:m,ColumnCalcsModule:B,DataTreeModule:_,DownloadModule:M,EditModule:D,ExportModule:F,FilterModule:H,FormatModule:N,FrozenColumnsModule:V,FrozenRowsModule:W,GroupRowsModule:U,HistoryModule:q,HtmlTableImportModule:$,ImportModule:X,InteractionModule:K,KeybindingsModule:Q,MenuModule:J,MoveColumnsModule:Z,MoveRowsModule:tt,MutatorModule:et,PageModule:ot,PersistenceModule:at,PopupModule:st,PrintModule:lt,ReactiveDataModule:ut,ResizeColumnsModule:ht,ResizeRowsModule:ct,ResizeTableModule:dt,ResponsiveLayoutModule:pt,SelectRowModule:bt,SortModule:ft,SelectRangeModule:Ct,TooltipModule:yt,ValidateModule:At});class kt{constructor(t,e,i={}){this.table=t,this.msgType=e,this.registeredDefaults=Object.assign({},i)}register(t,e){this.registeredDefaults[t]=e}generate(t,e={}){var i=Object.assign({},this.registeredDefaults);this.table.options.debugInvalidOptions||e.debugInvalidOptions;Object.assign(i,t);for(let t in e)i.hasOwnProperty(t)||(i[t]=e.key);for(let t in i)t in e?i[t]=e[t]:Array.isArray(i[t])?i[t]=Object.assign([],i[t]):"object"==typeof i[t]&&null!==i[t]?i[t]=Object.assign({},i[t]):void 0===i[t]&&delete i[t];return i}}class Bt extends n{constructor(t){super(t),this.elementVertical=t.rowManager.element,this.elementHorizontal=t.columnManager.element,this.tableElement=t.rowManager.tableElement,this.verticalFillMode="fit"}initialize(){}clearRows(){}clearColumns(){}reinitializeColumnWidths(t){}renderRows(){}renderColumns(){}rerenderRows(t){t&&t()}rerenderColumns(t,e){}renderRowCells(t){}rerenderRowCells(t,e){}scrollColumns(t,e){}scrollRows(t,e){}resize(){}scrollToRow(t){}scrollToRowNearestTop(t){}visibleRows(t){return[]}rows(){return this.table.rowManager.getDisplayRows()}styleRow(t,e){var i=t.getElement();e%2?(i.classList.add("tabulator-row-even"),i.classList.remove("tabulator-row-odd")):(i.classList.add("tabulator-row-odd"),i.classList.remove("tabulator-row-even"))}clear(){this.clearRows(),this.clearColumns()}render(){this.renderRows(),this.renderColumns()}rerender(t){this.rerenderRows(),this.rerenderColumns()}scrollToRowPosition(t,e,i){var o=this.rows().indexOf(t),r=t.getElement(),n=0;return new Promise(((s,l)=>{if(o>-1){if(void 0===i&&(i=this.table.options.scrollToRowIfVisible),!i&&a.elVisible(r)&&(n=a.elOffset(r).top-a.elOffset(this.elementVertical).top)>0&&n<this.elementVertical.clientHeight-r.offsetHeight)return s(),!1;switch(void 0===e&&(e=this.table.options.scrollToRowPosition),"nearest"===e&&(e=this.scrollToRowNearestTop(t)?"top":"bottom"),this.scrollToRow(t),e){case"middle":case"center":this.elementVertical.scrollHeight-this.elementVertical.scrollTop==this.elementVertical.clientHeight?this.elementVertical.scrollTop=this.elementVertical.scrollTop+(r.offsetTop-this.elementVertical.scrollTop)-(this.elementVertical.scrollHeight-r.offsetTop)/2:this.elementVertical.scrollTop=this.elementVertical.scrollTop-this.elementVertical.clientHeight/2;break;case"bottom":this.elementVertical.scrollHeight-this.elementVertical.scrollTop==this.elementVertical.clientHeight?this.elementVertical.scrollTop=this.elementVertical.scrollTop-(this.elementVertical.scrollHeight-r.offsetTop)+r.offsetHeight:this.elementVertical.scrollTop=this.elementVertical.scrollTop-this.elementVertical.clientHeight+r.offsetHeight;break;case"top":this.elementVertical.scrollTop=r.offsetTop}s()}else l("Scroll Error - Row not visible")}))}}class _t extends Bt{constructor(t){super(t)}renderRowCells(t,e){const i=document.createDocumentFragment();t.cells.forEach((t=>{i.appendChild(t.getElement())})),t.element.appendChild(i),e||t.cells.forEach((t=>{t.cellRendered()}))}reinitializeColumnWidths(t){t.forEach((function(t){t.reinitializeWidth()}))}}class Rt extends Bt{constructor(t){super(t),this.leftCol=0,this.rightCol=0,this.scrollLeft=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0,this.fitDataColAvg=0,this.windowBuffer=200,this.visibleRows=null,this.initialized=!1,this.isFitData=!1,this.columns=[]}initialize(){this.compatibilityCheck(),this.layoutCheck(),this.vertScrollListen()}compatibilityCheck(){this.options("layout"),this.options("responsiveLayout"),this.options("rtl")}layoutCheck(){this.isFitData=this.options("layout").startsWith("fitData")}vertScrollListen(){this.subscribe("scroll-vertical",this.clearVisRowCache.bind(this)),this.subscribe("data-refreshed",this.clearVisRowCache.bind(this))}clearVisRowCache(){this.visibleRows=null}renderColumns(t,e){this.dataChange()}scrollColumns(t,e){this.scrollLeft!=t&&(this.scrollLeft=t,this.scroll(t-(this.vDomScrollPosLeft+this.windowBuffer)))}calcWindowBuffer(){var t=this.elementVertical.clientWidth;this.table.columnManager.columnsByIndex.forEach((e=>{if(e.visible){var i=e.getWidth();i>t&&(t=i)}})),this.windowBuffer=2*t}rerenderColumns(t,e){var i={cols:this.columns,leftCol:this.leftCol,rightCol:this.rightCol},o=0;t&&!this.initialized||(this.clear(),this.calcWindowBuffer(),this.scrollLeft=this.elementVertical.scrollLeft,this.vDomScrollPosLeft=this.scrollLeft-this.windowBuffer,this.vDomScrollPosRight=this.scrollLeft+this.elementVertical.clientWidth+this.windowBuffer,this.table.columnManager.columnsByIndex.forEach((t=>{var e,i={};t.visible&&(t.modules.frozen||(e=t.getWidth(),i.leftPos=o,i.rightPos=o+e,i.width=e,this.isFitData&&(i.fitDataCheck=!t.modules.vdomHoz||t.modules.vdomHoz.fitDataCheck),o+e>this.vDomScrollPosLeft&&o<this.vDomScrollPosRight?(-1==this.leftCol&&(this.leftCol=this.columns.length,this.vDomPadLeft=o),this.rightCol=this.columns.length):-1!==this.leftCol&&(this.vDomPadRight+=e),this.columns.push(t),t.modules.vdomHoz=i,o+=e))})),this.tableElement.style.paddingLeft=this.vDomPadLeft+"px",this.tableElement.style.paddingRight=this.vDomPadRight+"px",this.initialized=!0,e||t&&!this.reinitChanged(i)||this.reinitializeRows(),this.elementVertical.scrollLeft=this.scrollLeft)}renderRowCells(t){if(this.initialized)this.initializeRow(t);else{const e=document.createDocumentFragment();t.cells.forEach((t=>{e.appendChild(t.getElement())})),t.element.appendChild(e),t.cells.forEach((t=>{t.cellRendered()}))}}rerenderRowCells(t,e){this.reinitializeRow(t,e)}reinitializeColumnWidths(t){for(let t=this.leftCol;t<=this.rightCol;t++)this.columns[t].reinitializeWidth()}deinitialize(){this.initialized=!1}clear(){this.columns=[],this.leftCol=-1,this.rightCol=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0}dataChange(){var t,e,i=!1;if(this.isFitData){if(this.table.columnManager.columnsByIndex.forEach((t=>{!t.definition.width&&t.visible&&(i=!0)})),i&&this.table.rowManager.getDisplayRows().length&&(this.vDomScrollPosRight=this.scrollLeft+this.elementVertical.clientWidth+this.windowBuffer,t=this.chain("rows-sample",[1],[],(()=>this.table.rowManager.getDisplayRows()))[0])){e=t.getElement(),t.generateCells(),this.tableElement.appendChild(e);for(let i=0;i<t.cells.length;i++){let o=t.cells[i];e.appendChild(o.getElement()),o.column.reinitializeWidth()}e.parentNode.removeChild(e),this.rerenderColumns(!1,!0)}}else"fitColumns"===this.options("layout")&&(this.layoutRefresh(),this.rerenderColumns(!1,!0))}reinitChanged(t){var e=!0;return t.cols.length!==this.columns.length||t.leftCol!==this.leftCol||t.rightCol!==this.rightCol||(t.cols.forEach(((t,i)=>{t!==this.columns[i]&&(e=!1)})),!e)}reinitializeRows(){var t=this.getVisibleRows(),e=this.table.rowManager.getRows().filter((e=>!t.includes(e)));t.forEach((t=>{this.reinitializeRow(t,!0)})),e.forEach((t=>{t.deinitialize()}))}getVisibleRows(){return this.visibleRows||(this.visibleRows=this.table.rowManager.getVisibleRows()),this.visibleRows}scroll(t){this.vDomScrollPosLeft+=t,this.vDomScrollPosRight+=t,Math.abs(t)>this.windowBuffer/2?this.rerenderColumns():t>0?(this.addColRight(),this.removeColLeft()):(this.addColLeft(),this.removeColRight())}colPositionAdjust(t,e,i){for(let o=t;o<e;o++){let t=this.columns[o];t.modules.vdomHoz.leftPos+=i,t.modules.vdomHoz.rightPos+=i}}addColRight(){for(var t=!1,e=!0;e;){let i=this.columns[this.rightCol+1];i&&i.modules.vdomHoz.leftPos<=this.vDomScrollPosRight?(t=!0,this.getVisibleRows().forEach((t=>{if("group"!==t.type){var e=t.getCell(i);t.getElement().insertBefore(e.getElement(),t.getCell(this.columns[this.rightCol]).getElement().nextSibling),e.cellRendered()}})),this.fitDataColActualWidthCheck(i),this.rightCol++,this.getVisibleRows().forEach((t=>{"group"!==t.type&&(t.modules.vdomHoz.rightCol=this.rightCol)})),this.rightCol>=this.columns.length-1?this.vDomPadRight=0:this.vDomPadRight-=i.getWidth()):e=!1}t&&(this.tableElement.style.paddingRight=this.vDomPadRight+"px")}addColLeft(){for(var t=!1,e=!0;e;){let i=this.columns[this.leftCol-1];if(i)if(i.modules.vdomHoz.rightPos>=this.vDomScrollPosLeft){t=!0,this.getVisibleRows().forEach((t=>{if("group"!==t.type){var e=t.getCell(i);t.getElement().insertBefore(e.getElement(),t.getCell(this.columns[this.leftCol]).getElement()),e.cellRendered()}})),this.leftCol--,this.getVisibleRows().forEach((t=>{"group"!==t.type&&(t.modules.vdomHoz.leftCol=this.leftCol)})),this.leftCol<=0?this.vDomPadLeft=0:this.vDomPadLeft-=i.getWidth();let e=this.fitDataColActualWidthCheck(i);e&&(this.scrollLeft=this.elementVertical.scrollLeft=this.elementVertical.scrollLeft+e,this.vDomPadRight-=e)}else e=!1;else e=!1}t&&(this.tableElement.style.paddingLeft=this.vDomPadLeft+"px")}removeColRight(){for(var t=!1,e=!0;e;){let i=this.columns[this.rightCol];i&&i.modules.vdomHoz.leftPos>this.vDomScrollPosRight?(t=!0,this.getVisibleRows().forEach((t=>{if("group"!==t.type){var e=t.getCell(i);try{t.getElement().removeChild(e.getElement())}catch(t){}}})),this.vDomPadRight+=i.getWidth(),this.rightCol--,this.getVisibleRows().forEach((t=>{"group"!==t.type&&(t.modules.vdomHoz.rightCol=this.rightCol)}))):e=!1}t&&(this.tableElement.style.paddingRight=this.vDomPadRight+"px")}removeColLeft(){for(var t=!1,e=!0;e;){let i=this.columns[this.leftCol];i&&i.modules.vdomHoz.rightPos<this.vDomScrollPosLeft?(t=!0,this.getVisibleRows().forEach((t=>{if("group"!==t.type){var e=t.getCell(i);try{t.getElement().removeChild(e.getElement())}catch(t){}}})),this.vDomPadLeft+=i.getWidth(),this.leftCol++,this.getVisibleRows().forEach((t=>{"group"!==t.type&&(t.modules.vdomHoz.leftCol=this.leftCol)}))):e=!1}t&&(this.tableElement.style.paddingLeft=this.vDomPadLeft+"px")}fitDataColActualWidthCheck(t){var e,i;return t.modules.vdomHoz.fitDataCheck&&(t.reinitializeWidth(),(i=(e=t.getWidth())-t.modules.vdomHoz.width)&&(t.modules.vdomHoz.rightPos+=i,t.modules.vdomHoz.width=e,this.colPositionAdjust(this.columns.indexOf(t)+1,this.columns.length,i)),t.modules.vdomHoz.fitDataCheck=!1),i}initializeRow(t){if("group"!==t.type){t.modules.vdomHoz={leftCol:this.leftCol,rightCol:this.rightCol},this.table.modules.frozenColumns&&this.table.modules.frozenColumns.leftColumns.forEach((e=>{this.appendCell(t,e)}));for(let e=this.leftCol;e<=this.rightCol;e++)this.appendCell(t,this.columns[e]);this.table.modules.frozenColumns&&this.table.modules.frozenColumns.rightColumns.forEach((e=>{this.appendCell(t,e)}))}}appendCell(t,e){if(e&&e.visible){let i=t.getCell(e);t.getElement().appendChild(i.getElement()),i.cellRendered()}}reinitializeRow(t,e){if("group"!==t.type&&(e||!t.modules.vdomHoz||t.modules.vdomHoz.leftCol!==this.leftCol||t.modules.vdomHoz.rightCol!==this.rightCol)){for(var i=t.getElement();i.firstChild;)i.removeChild(i.firstChild);this.initializeRow(t)}}}class Mt extends n{constructor(t){super(t),this.blockHozScrollEvent=!1,this.headersElement=null,this.contentsElement=null,this.element=null,this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.scrollLeft=0,this.optionsList=new kt(this.table,"column definition",y),this.redrawBlock=!1,this.redrawBlockUpdate=null,this.renderer=null}initialize(){this.initializeRenderer(),this.headersElement=this.createHeadersElement(),this.contentsElement=this.createHeaderContentsElement(),this.element=this.createHeaderElement(),this.contentsElement.insertBefore(this.headersElement,this.contentsElement.firstChild),this.element.insertBefore(this.contentsElement,this.element.firstChild),this.initializeScrollWheelWatcher(),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this)),this.subscribe("scrollbar-vertical",this.padVerticalScrollbar.bind(this))}padVerticalScrollbar(t){this.table.rtl?this.headersElement.style.marginLeft=t+"px":this.headersElement.style.marginRight=t+"px"}initializeRenderer(){var t,e={virtual:Rt,basic:_t};(t="string"==typeof this.table.options.renderHorizontal?e[this.table.options.renderHorizontal]:this.table.options.renderHorizontal)&&(this.renderer=new t(this.table,this.element,this.tableElement),this.renderer.initialize())}createHeadersElement(){var t=document.createElement("div");return t.classList.add("tabulator-headers"),t.setAttribute("role","row"),t}createHeaderContentsElement(){var t=document.createElement("div");return t.classList.add("tabulator-header-contents"),t.setAttribute("role","rowgroup"),t}createHeaderElement(){var t=document.createElement("div");return t.classList.add("tabulator-header"),t.setAttribute("role","rowgroup"),this.table.options.headerVisible||t.classList.add("tabulator-header-hidden"),t}getElement(){return this.element}getContentsElement(){return this.contentsElement}getHeadersElement(){return this.headersElement}scrollHorizontal(t){this.contentsElement.scrollLeft=t,this.scrollLeft=t,this.renderer.scrollColumns(t)}initializeScrollWheelWatcher(){this.contentsElement.addEventListener("wheel",(t=>{var e;t.deltaX&&(e=this.contentsElement.scrollLeft+t.deltaX,this.table.rowManager.scrollHorizontal(e),this.table.columnManager.scrollHorizontal(e))}))}generateColumnsFromRowData(t){var e,i,o=[],r=this.table.options.autoColumnsDefinitions;if(t&&t.length){for(var n in e=t[0]){let t={field:n,title:n},r=e[n];switch(typeof r){case"undefined":i="string";break;case"boolean":i="boolean";break;case"object":i=Array.isArray(r)?"array":"string";break;default:i=isNaN(r)||""===r?r.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)?"alphanum":"string":"number"}t.sorter=i,o.push(t)}if(r)switch(typeof r){case"function":this.table.options.columns=r.call(this.table,o);break;case"object":Array.isArray(r)?o.forEach((t=>{var e=r.find((e=>e.field===t.field));e&&Object.assign(t,e)})):o.forEach((t=>{r[t.field]&&Object.assign(t,r[t.field])})),this.table.options.columns=o}else this.table.options.columns=o;this.setColumns(this.table.options.columns)}}setColumns(t,e){for(;this.headersElement.firstChild;)this.headersElement.removeChild(this.headersElement.firstChild);this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.dispatch("columns-loading"),t.forEach(((t,e)=>{this._addColumn(t)})),this._reIndexColumns(),this.dispatch("columns-loaded"),this.rerenderColumns(!1,!0),this.redraw(!0)}_addColumn(t,e,i){var o=new x(t,this),r=o.getElement(),n=i?this.findColumnIndex(i):i;if(i&&n>-1){var a=i.getTopColumn(),s=this.columns.indexOf(a),l=a.getElement();e?(this.columns.splice(s,0,o),l.parentNode.insertBefore(r,l)):(this.columns.splice(s+1,0,o),l.parentNode.insertBefore(r,l.nextSibling))}else e?(this.columns.unshift(o),this.headersElement.insertBefore(o.getElement(),this.headersElement.firstChild)):(this.columns.push(o),this.headersElement.appendChild(o.getElement()));return o.columnRendered(),o}registerColumnField(t){t.definition.field&&(this.columnsByField[t.definition.field]=t)}registerColumnPosition(t){this.columnsByIndex.push(t)}_reIndexColumns(){this.columnsByIndex=[],this.columns.forEach((function(t){t.reRegisterPosition()}))}verticalAlignHeaders(){var t=0;this.redrawBlock||(this.headersElement.style.height="",this.columns.forEach((t=>{t.clearVerticalAlign()})),this.columns.forEach((e=>{var i=e.getHeight();i>t&&(t=i)})),this.headersElement.style.height=t+"px",this.columns.forEach((e=>{e.verticalAlign(this.table.options.columnHeaderVertAlign,t)})),this.table.rowManager.adjustTableSize())}findColumn(t){var e;if("object"!=typeof t)return this.columnsByField[t]||!1;if(t instanceof x)return t;if(t instanceof C)return t._getSelf()||!1;if("undefined"!=typeof HTMLElement&&t instanceof HTMLElement){return e=[],this.columns.forEach((t=>{e.push(t),e=e.concat(t.getColumns(!0))})),e.find((e=>e.element===t))||!1}return!1}getColumnByField(t){return this.columnsByField[t]}getColumnsByFieldRoot(t){var e=[];return Object.keys(this.columnsByField).forEach((i=>{(this.table.options.nestedFieldSeparator?i.split(this.table.options.nestedFieldSeparator)[0]:i)===t&&e.push(this.columnsByField[i])})),e}getColumnByIndex(t){return this.columnsByIndex[t]}getFirstVisibleColumn(){var t=this.columnsByIndex.findIndex((t=>t.visible));return t>-1&&this.columnsByIndex[t]}getVisibleColumnsByIndex(){return this.columnsByIndex.filter((t=>t.visible))}getColumns(){return this.columns}findColumnIndex(t){return this.columnsByIndex.findIndex((e=>t===e))}getRealColumns(){return this.columnsByIndex}traverse(t){this.columnsByIndex.forEach(((e,i)=>{t(e,i)}))}getDefinitions(t){var e=[];return this.columnsByIndex.forEach((i=>{(!t||t&&i.visible)&&e.push(i.getDefinition())})),e}getDefinitionTree(){var t=[];return this.columns.forEach((e=>{t.push(e.getDefinition(!0))})),t}getComponents(t){var e=[];return(t?this.columns:this.columnsByIndex).forEach((t=>{e.push(t.getComponent())})),e}getWidth(){var t=0;return this.columnsByIndex.forEach((e=>{e.visible&&(t+=e.getWidth())})),t}moveColumn(t,e,i){e.element.parentNode.insertBefore(t.element,e.element),i&&e.element.parentNode.insertBefore(e.element,t.element),this.moveColumnActual(t,e,i),this.verticalAlignHeaders(),this.table.rowManager.reinitialize()}moveColumnActual(t,e,i){t.parent.isGroup?this._moveColumnInArray(t.parent.columns,t,e,i):this._moveColumnInArray(this.columns,t,e,i),this._moveColumnInArray(this.columnsByIndex,t,e,i,!0),this.rerenderColumns(!0),this.dispatch("column-moved",t,e,i),this.subscribedExternal("columnMoved")&&this.dispatchExternal("columnMoved",t.getComponent(),this.table.columnManager.getComponents())}_moveColumnInArray(t,e,i,o,r){var n,a=t.indexOf(e);a>-1&&(t.splice(a,1),(n=t.indexOf(i))>-1?o&&(n+=1):n=a,t.splice(n,0,e),r&&(this.chain("column-moving-rows",[e,i,o],null,[])||[]).concat(this.table.rowManager.rows).forEach((function(t){if(t.cells.length){var e=t.cells.splice(a,1)[0];t.cells.splice(n,0,e)}})))}scrollToColumn(t,e,i){var o=0,r=t.getLeftOffset(),n=0,a=t.getElement();return new Promise(((s,l)=>{if(void 0===e&&(e=this.table.options.scrollToColumnPosition),void 0===i&&(i=this.table.options.scrollToColumnIfVisible),t.visible){switch(e){case"middle":case"center":n=-this.element.clientWidth/2;break;case"right":n=a.clientWidth-this.headersElement.clientWidth}if(!i&&r>0&&r+a.offsetWidth<this.element.clientWidth)return!1;o=r+n,o=Math.max(Math.min(o,this.table.rowManager.element.scrollWidth-this.table.rowManager.element.clientWidth),0),this.table.rowManager.scrollHorizontal(o),this.scrollHorizontal(o),s()}else l("Scroll Error - Column not visible")}))}generateCells(t){var e=[];return this.columnsByIndex.forEach((i=>{e.push(i.generateCell(t))})),e}getFlexBaseWidth(){var t=this.table.element.clientWidth,e=0;return this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(t-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),this.columnsByIndex.forEach((function(i){var o,r,n;i.visible&&(o=i.definition.width||0,r=parseInt(i.minWidth),n="string"==typeof o?o.indexOf("%")>-1?t/100*parseInt(o):parseInt(o):o,e+=n>r?n:r)})),e}addColumn(t,e,i){return new Promise(((o,r)=>{var n=this._addColumn(t,e,i);this._reIndexColumns(),this.dispatch("column-add",t,e,i),"fitColumns"!=this.layoutMode()&&n.reinitializeWidth(),this.redraw(!0),this.table.rowManager.reinitialize(),this.rerenderColumns(),o(n)}))}deregisterColumn(t){var e,i=t.getField();i&&delete this.columnsByField[i],(e=this.columnsByIndex.indexOf(t))>-1&&this.columnsByIndex.splice(e,1),(e=this.columns.indexOf(t))>-1&&this.columns.splice(e,1),this.verticalAlignHeaders(),this.redraw()}rerenderColumns(t,e){this.redrawBlock?(!1===t||!0===t&&null===this.redrawBlockUpdate)&&(this.redrawBlockUpdate=t):this.renderer.rerenderColumns(t,e)}blockRedraw(){this.redrawBlock=!0,this.redrawBlockUpdate=null}restoreRedraw(){this.redrawBlock=!1,this.verticalAlignHeaders(),this.renderer.rerenderColumns(this.redrawBlockUpdate)}redraw(t){a.elVisible(this.element)&&this.verticalAlignHeaders(),t&&(this.table.rowManager.resetScroll(),this.table.rowManager.reinitialize()),this.confirm("table-redrawing",t)||this.layoutRefresh(t),this.dispatch("table-redraw",t),this.table.footerManager.redraw()}}class St extends Bt{constructor(t){super(t),this.verticalFillMode="fill",this.scrollTop=0,this.scrollLeft=0,this.scrollTop=0,this.scrollLeft=0}clearRows(){for(var t=this.tableElement;t.firstChild;)t.removeChild(t.firstChild);t.scrollTop=0,t.scrollLeft=0,t.style.minWidth="",t.style.minHeight="",t.style.display="",t.style.visibility=""}renderRows(){var t=this.tableElement,e=!0,i=document.createDocumentFragment(),o=this.rows();o.forEach(((t,o)=>{this.styleRow(t,o),t.initialize(!1,!0),"group"!==t.type&&(e=!1),i.appendChild(t.getElement())})),t.appendChild(i),o.forEach((t=>{t.rendered(),t.heightInitialized||t.calcHeight(!0)})),o.forEach((t=>{t.heightInitialized||t.setCellHeight()})),t.style.minWidth=e?this.table.columnManager.getWidth()+"px":""}rerenderRows(t){this.clearRows(),t&&t(),this.renderRows(),this.rows().length||this.table.rowManager.tableEmpty()}scrollToRowNearestTop(t){var e=a.elOffset(t.getElement()).top;return!(Math.abs(this.elementVertical.scrollTop-e)>Math.abs(this.elementVertical.scrollTop+this.elementVertical.clientHeight-e))}scrollToRow(t){var e=t.getElement();this.elementVertical.scrollTop=a.elOffset(e).top-a.elOffset(this.elementVertical).top+this.elementVertical.scrollTop}visibleRows(t){return this.rows()}}class Tt extends Bt{constructor(t){super(t),this.verticalFillMode="fill",this.scrollTop=0,this.scrollLeft=0,this.vDomRowHeight=20,this.vDomTop=0,this.vDomBottom=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomMaxRenderChain=90,this.vDomWindowBuffer=0,this.vDomWindowMinTotalRows=20,this.vDomWindowMinMarginRows=5,this.vDomTopNewRows=[],this.vDomBottomNewRows=[]}clearRows(){for(var t=this.tableElement;t.firstChild;)t.removeChild(t.firstChild);t.style.paddingTop="",t.style.paddingBottom="",t.style.minHeight="",t.style.display="",t.style.visibility="",this.elementVertical.scrollTop=0,this.elementVertical.scrollLeft=0,this.scrollTop=0,this.scrollLeft=0,this.vDomTop=0,this.vDomBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0}renderRows(){this._virtualRenderFill()}rerenderRows(t){for(var e=this.elementVertical.scrollTop,i=!1,o=!1,r=this.table.rowManager.scrollLeft,n=this.rows(),a=this.vDomTop;a<=this.vDomBottom;a++)if(n[a]){var s=e-n[a].getElement().offsetTop;if(!(!1===o||Math.abs(s)<o))break;o=s,i=a}n.forEach((t=>{t.deinitializeHeight()})),t&&t(),this.rows().length?this._virtualRenderFill(!1===i?this.rows.length-1:i,!0,o||0):(this.clear(),this.table.rowManager.tableEmpty()),this.scrollColumns(r)}scrollColumns(t){this.table.rowManager.scrollHorizontal(t)}scrollRows(t,e){var i=t-this.vDomScrollPosTop,o=t-this.vDomScrollPosBottom,r=2*this.vDomWindowBuffer,n=this.rows();if(this.scrollTop=t,-i>r||o>r){var a=this.table.rowManager.scrollLeft;this._virtualRenderFill(Math.floor(this.elementVertical.scrollTop/this.elementVertical.scrollHeight*n.length)),this.scrollColumns(a)}else e?(i<0&&this._addTopRow(n,-i),o<0&&(this.vDomScrollHeight-this.scrollTop>this.vDomWindowBuffer?this._removeBottomRow(n,-o):this.vDomScrollPosBottom=this.scrollTop)):(o>=0&&this._addBottomRow(n,o),i>=0&&(this.scrollTop>this.vDomWindowBuffer?this._removeTopRow(n,i):this.vDomScrollPosTop=this.scrollTop))}resize(){this.vDomWindowBuffer=this.table.options.renderVerticalBuffer||this.elementVertical.clientHeight}scrollToRowNearestTop(t){var e=this.rows().indexOf(t);return!(Math.abs(this.vDomTop-e)>Math.abs(this.vDomBottom-e))}scrollToRow(t){var e=this.rows().indexOf(t);e>-1&&this._virtualRenderFill(e,!0)}visibleRows(t){var e=this.elementVertical.scrollTop,i=this.elementVertical.clientHeight+e,o=!1,r=0,n=0,a=this.rows();if(t)r=this.vDomTop,n=this.vDomBottom;else for(var s=this.vDomTop;s<=this.vDomBottom;s++)if(a[s])if(o){if(!(i-a[s].getElement().offsetTop>=0))break;n=s}else if(e-a[s].getElement().offsetTop>=0)r=s;else{if(o=!0,!(i-a[s].getElement().offsetTop>=0))break;n=s}return a.slice(r,n+1)}_virtualRenderFill(t,e,i){var o,r,n=this.tableElement,s=this.elementVertical,l=0,u=0,h=0,c=0,d=0,p=0,b=this.rows(),g=b.length,m=0,f=[],v=0,w=0,C=this.table.rowManager.fixedHeight,y=this.elementVertical.clientHeight,x=this.table.options.rowHeight,A=!0;if(i=i||0,t=t||0){for(;n.firstChild;)n.removeChild(n.firstChild);(c=(g-t+1)*this.vDomRowHeight)<y&&(t-=Math.ceil((y-c)/this.vDomRowHeight))<0&&(t=0),t-=l=Math.min(Math.max(Math.floor(this.vDomWindowBuffer/this.vDomRowHeight),this.vDomWindowMinMarginRows),t)}else this.clear();if(g&&a.elVisible(this.elementVertical)){for(this.vDomTop=t,this.vDomBottom=t-1,C||this.table.options.maxHeight?(x&&(w=y/x+this.vDomWindowBuffer/x),w=Math.max(this.vDomWindowMinTotalRows,Math.ceil(w))):w=g;(w==g||u<=y+this.vDomWindowBuffer||v<this.vDomWindowMinTotalRows)&&this.vDomBottom<g-1;){for(f=[],r=document.createDocumentFragment(),p=0;p<w&&this.vDomBottom<g-1;)o=b[m=this.vDomBottom+1],this.styleRow(o,m),o.initialize(!1,!0),o.heightInitialized||this.table.options.rowHeight||o.clearCellHeight(),r.appendChild(o.getElement()),f.push(o),this.vDomBottom++,p++;if(!f.length)break;n.appendChild(r),f.forEach((t=>{t.rendered(),t.heightInitialized||t.calcHeight(!0)})),f.forEach((t=>{t.heightInitialized||t.setCellHeight()})),f.forEach((t=>{h=t.getHeight(),v<l?d+=h:u+=h,h>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*h),v++})),A=this.table.rowManager.adjustTableSize(),y=this.elementVertical.clientHeight,A&&(C||this.table.options.maxHeight)&&(x=u/v,w=Math.max(this.vDomWindowMinTotalRows,Math.ceil(y/x+this.vDomWindowBuffer/x)))}t?(this.vDomTopPad=e?this.vDomRowHeight*this.vDomTop+i:this.scrollTop-d,this.vDomBottomPad=this.vDomBottom==g-1?0:Math.max(this.vDomScrollHeight-this.vDomTopPad-u-d,0)):(this.vDomTopPad=0,this.vDomRowHeight=Math.floor((u+d)/v),this.vDomBottomPad=this.vDomRowHeight*(g-this.vDomBottom-1),this.vDomScrollHeight=d+u+this.vDomBottomPad-y),n.style.paddingTop=this.vDomTopPad+"px",n.style.paddingBottom=this.vDomBottomPad+"px",e&&(this.scrollTop=this.vDomTopPad+d+i-(this.elementVertical.scrollWidth>this.elementVertical.clientWidth?this.elementVertical.offsetHeight-y:0)),this.scrollTop=Math.min(this.scrollTop,this.elementVertical.scrollHeight-y),this.elementVertical.scrollWidth>this.elementVertical.clientWidth&&e&&(this.scrollTop+=this.elementVertical.offsetHeight-y),this.vDomScrollPosTop=this.scrollTop,this.vDomScrollPosBottom=this.scrollTop,s.scrollTop=this.scrollTop,this.dispatch("render-virtual-fill")}}_addTopRow(t,e){for(var i=this.tableElement,o=[],r=0,n=this.vDomTop-1,a=0,s=!0;s;)if(this.vDomTop){let l,u,h=t[n];h&&a<this.vDomMaxRenderChain?(l=h.getHeight()||this.vDomRowHeight,u=h.initialized,e>=l?(this.styleRow(h,n),i.insertBefore(h.getElement(),i.firstChild),h.initialized&&h.heightInitialized||o.push(h),h.initialize(),u||(l=h.getElement().offsetHeight,l>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*l)),e-=l,r+=l,this.vDomTop--,n--,a++):s=!1):s=!1}else s=!1;for(let t of o)t.clearCellHeight();this._quickNormalizeRowHeight(o),r&&(this.vDomTopPad-=r,this.vDomTopPad<0&&(this.vDomTopPad=n*this.vDomRowHeight),n<1&&(this.vDomTopPad=0),i.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop-=r)}_removeTopRow(t,e){for(var i=[],o=0,r=0,n=!0;n;){let a,s=t[this.vDomTop];s&&r<this.vDomMaxRenderChain?(a=s.getHeight()||this.vDomRowHeight,e>=a?(this.vDomTop++,e-=a,o+=a,i.push(s),r++):n=!1):n=!1}for(let t of i){let e=t.getElement();e.parentNode&&e.parentNode.removeChild(e)}o&&(this.vDomTopPad+=o,this.tableElement.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop+=this.vDomTop?o:o+this.vDomWindowBuffer)}_addBottomRow(t,e){for(var i=this.tableElement,o=[],r=0,n=this.vDomBottom+1,a=0,s=!0;s;){let l,u,h=t[n];h&&a<this.vDomMaxRenderChain?(l=h.getHeight()||this.vDomRowHeight,u=h.initialized,e>=l?(this.styleRow(h,n),i.appendChild(h.getElement()),h.initialized&&h.heightInitialized||o.push(h),h.initialize(),u||(l=h.getElement().offsetHeight,l>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*l)),e-=l,r+=l,this.vDomBottom++,n++,a++):s=!1):s=!1}for(let t of o)t.clearCellHeight();this._quickNormalizeRowHeight(o),r&&(this.vDomBottomPad-=r,(this.vDomBottomPad<0||n==t.length-1)&&(this.vDomBottomPad=0),i.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom+=r)}_removeBottomRow(t,e){for(var i=[],o=0,r=0,n=!0;n;){let a,s=t[this.vDomBottom];s&&r<this.vDomMaxRenderChain?(a=s.getHeight()||this.vDomRowHeight,e>=a?(this.vDomBottom--,e-=a,o+=a,i.push(s),r++):n=!1):n=!1}for(let t of i){let e=t.getElement();e.parentNode&&e.parentNode.removeChild(e)}o&&(this.vDomBottomPad+=o,this.vDomBottomPad<0&&(this.vDomBottomPad=0),this.tableElement.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom-=o)}_quickNormalizeRowHeight(t){for(let e of t)e.calcHeight();for(let e of t)e.setCellHeight()}}class zt extends n{constructor(t){super(t),this.element=this.createHolderElement(),this.tableElement=this.createTableElement(),this.heightFixer=this.createTableElement(),this.placeholder=null,this.placeholderContents=null,this.firstRender=!1,this.renderMode="virtual",this.fixedHeight=!1,this.rows=[],this.activeRowsPipeline=[],this.activeRows=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0,this.scrollTop=0,this.scrollLeft=0,this.redrawBlock=!1,this.redrawBlockRestoreConfig=!1,this.redrawBlockRenderInPosition=!1,this.dataPipeline=[],this.displayPipeline=[],this.scrollbarWidth=0,this.renderer=null}createHolderElement(){var t=document.createElement("div");return t.classList.add("tabulator-tableholder"),t.setAttribute("tabindex",0),t}createTableElement(){var t=document.createElement("div");return t.classList.add("tabulator-table"),t.setAttribute("role","rowgroup"),t}initializePlaceholder(){var t=this.table.options.placeholder;if("function"==typeof t&&(t=t.call(this.table)),t=this.chain("placeholder",[t],t,t)||t){let e=document.createElement("div");if(e.classList.add("tabulator-placeholder"),"string"==typeof t){let i=document.createElement("div");i.classList.add("tabulator-placeholder-contents"),i.innerHTML=t,e.appendChild(i),this.placeholderContents=i}else"undefined"!=typeof HTMLElement&&t instanceof HTMLElement?(e.appendChild(t),this.placeholderContents=t):this.el=null;this.placeholder=e}}getElement(){return this.element}getTableElement(){return this.tableElement}initialize(){this.initializePlaceholder(),this.initializeRenderer(),this.element.appendChild(this.tableElement),this.firstRender=!0,this.element.addEventListener("scroll",(()=>{var t=this.element.scrollLeft,e=this.scrollLeft>t,i=this.element.scrollTop,o=this.scrollTop>i;this.scrollLeft!=t&&(this.scrollLeft=t,this.dispatch("scroll-horizontal",t,e),this.dispatchExternal("scrollHorizontal",t,e),this._positionPlaceholder()),this.scrollTop!=i&&(this.scrollTop=i,this.renderer.scrollRows(i,o),this.dispatch("scroll-vertical",i,o),this.dispatchExternal("scrollVertical",i,o))}))}findRow(t){if("object"!=typeof t){if(void 0===t)return!1;return this.rows.find((e=>e.data[this.table.options.index]==t))||!1}if(t instanceof E)return t;if(t instanceof A)return t._getSelf()||!1;if("undefined"!=typeof HTMLElement&&t instanceof HTMLElement){return this.rows.find((e=>e.getElement()===t))||!1}return!1}getRowFromDataObject(t){return this.rows.find((e=>e.data===t))||!1}getRowFromPosition(t){return this.getDisplayRows().find((e=>e.getPosition()===t&&e.isDisplayed()))}scrollToRow(t,e,i){return this.renderer.scrollToRowPosition(t,e,i)}setData(t,e,i){return new Promise(((o,r)=>{e&&this.getDisplayRows().length?this.table.options.pagination?this._setDataActual(t,!0):this.reRenderInPosition((()=>{this._setDataActual(t)})):(this.table.options.autoColumns&&i&&this.table.initialized&&this.table.columnManager.generateColumnsFromRowData(t),this.resetScroll(),this._setDataActual(t)),o()}))}_setDataActual(t,e){this.dispatchExternal("dataProcessing",t),this._wipeElements(),Array.isArray(t)&&(this.dispatch("data-processing",t),t.forEach(((t,e)=>{if(t&&"object"==typeof t){var i=new E(t,this);this.rows.push(i)}})),this.refreshActiveData(!1,!1,e),this.dispatch("data-processed",t),this.dispatchExternal("dataProcessed",t))}_wipeElements(){this.dispatch("rows-wipe"),this.destroy(),this.adjustTableSize(),this.dispatch("rows-wiped")}destroy(){this.rows.forEach((t=>{t.wipe()})),this.rows=[],this.activeRows=[],this.activeRowsPipeline=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0}deleteRow(t,e){var i=this.rows.indexOf(t),o=this.activeRows.indexOf(t);o>-1&&this.activeRows.splice(o,1),i>-1&&this.rows.splice(i,1),this.setActiveRows(this.activeRows),this.displayRowIterator((e=>{var i=e.indexOf(t);i>-1&&e.splice(i,1)})),e||this.reRenderInPosition(),this.regenerateRowPositions(),this.dispatchExternal("rowDeleted",t.getComponent()),this.displayRowsCount||this.tableEmpty(),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.getData())}addRow(t,e,i,o){return this.addRowActual(t,e,i,o)}addRows(t,e,i,o){var r=[];return new Promise(((n,a)=>{e=this.findAddRowPos(e),Array.isArray(t)||(t=[t]),(void 0===i&&e||void 0!==i&&!e)&&t.reverse(),t.forEach(((t,o)=>{var n=this.addRow(t,e,i,!0);r.push(n),this.dispatch("row-added",n,t,e,i)})),this.refreshActiveData(!!o&&"displayPipeline",!1,!0),this.regenerateRowPositions(),this.displayRowsCount&&this._clearPlaceholder(),n(r)}))}findAddRowPos(t){return void 0===t&&(t=this.table.options.addRowPos),"pos"===t&&(t=!0),"bottom"===t&&(t=!1),t}addRowActual(t,e,i,o){var r,n,a=t instanceof E?t:new E(t||{},this),s=this.findAddRowPos(e),l=-1;return i||(n=this.chain("row-adding-position",[a,s],null,{index:i,top:s}),i=n.index,s=n.top),void 0!==i&&(i=this.findRow(i)),(i=this.chain("row-adding-index",[a,i,s],null,i))&&(l=this.rows.indexOf(i)),i&&l>-1?(r=this.activeRows.indexOf(i),this.displayRowIterator((function(t){var e=t.indexOf(i);e>-1&&t.splice(s?e:e+1,0,a)})),r>-1&&this.activeRows.splice(s?r:r+1,0,a),this.rows.splice(s?l:l+1,0,a)):s?(this.displayRowIterator((function(t){t.unshift(a)})),this.activeRows.unshift(a),this.rows.unshift(a)):(this.displayRowIterator((function(t){t.push(a)})),this.activeRows.push(a),this.rows.push(a)),this.setActiveRows(this.activeRows),this.dispatchExternal("rowAdded",a.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()),o||this.reRenderInPosition(),a}moveRow(t,e,i){this.dispatch("row-move",t,e,i),this.moveRowActual(t,e,i),this.regenerateRowPositions(),this.dispatch("row-moved",t,e,i),this.dispatchExternal("rowMoved",t.getComponent())}moveRowActual(t,e,i){this.moveRowInArray(this.rows,t,e,i),this.moveRowInArray(this.activeRows,t,e,i),this.displayRowIterator((o=>{this.moveRowInArray(o,t,e,i)})),this.dispatch("row-moving",t,e,i)}moveRowInArray(t,e,i,o){var r,n,a;if(e!==i&&((r=t.indexOf(e))>-1&&(t.splice(r,1),(n=t.indexOf(i))>-1?o?t.splice(n+1,0,e):t.splice(n,0,e):t.splice(r,0,e)),t===this.getDisplayRows())){a=n>r?n:r+1;for(let e=r<n?r:n;e<=a;e++)t[e]&&this.styleRow(t[e],e)}}clearData(){this.setData([])}getRowIndex(t){return this.findRowIndex(t,this.rows)}getDisplayRowIndex(t){var e=this.getDisplayRows().indexOf(t);return e>-1&&e}nextDisplayRow(t,e){var i=this.getDisplayRowIndex(t),o=!1;return!1!==i&&i<this.displayRowsCount-1&&(o=this.getDisplayRows()[i+1]),!o||o instanceof E&&"row"==o.type?o:this.nextDisplayRow(o,e)}prevDisplayRow(t,e){var i=this.getDisplayRowIndex(t),o=!1;return i&&(o=this.getDisplayRows()[i-1]),!e||!o||o instanceof E&&"row"==o.type?o:this.prevDisplayRow(o,e)}findRowIndex(t,e){var i;return!!((t=this.findRow(t))&&(i=e.indexOf(t))>-1)&&i}getData(t,e){var i=[];return this.getRows(t).forEach((function(t){"row"==t.type&&i.push(t.getData(e||"data"))})),i}getComponents(t){var e=[];return this.getRows(t).forEach((function(t){e.push(t.getComponent())})),e}getDataCount(t){return this.getRows(t).length}scrollHorizontal(t){this.scrollLeft=t,this.element.scrollLeft=t,this.dispatch("scroll-horizontal",t)}registerDataPipelineHandler(t,e){void 0!==e&&(this.dataPipeline.push({handler:t,priority:e}),this.dataPipeline.sort(((t,e)=>t.priority-e.priority)))}registerDisplayPipelineHandler(t,e){void 0!==e&&(this.displayPipeline.push({handler:t,priority:e}),this.displayPipeline.sort(((t,e)=>t.priority-e.priority)))}refreshActiveData(t,e,i){var o=this.table,r="",n=0,s=["all","dataPipeline","display","displayPipeline","end"];if(!this.table.destroyed){if("function"==typeof t)if((n=this.dataPipeline.findIndex((e=>e.handler===t)))>-1)r="dataPipeline",e&&(n==this.dataPipeline.length-1?r="display":n++);else{if(!((n=this.displayPipeline.findIndex((e=>e.handler===t)))>-1))return;r="displayPipeline",e&&(n==this.displayPipeline.length-1?r="end":n++)}else r=t||"all",n=0;if(this.redrawBlock)return void((!this.redrawBlockRestoreConfig||this.redrawBlockRestoreConfig&&(this.redrawBlockRestoreConfig.stage===r&&n<this.redrawBlockRestoreConfig.index||s.indexOf(r)<s.indexOf(this.redrawBlockRestoreConfig.stage)))&&(this.redrawBlockRestoreConfig={handler:t,skipStage:e,renderInPosition:i,stage:r,index:n}));a.elVisible(this.element)?i?this.reRenderInPosition(this.refreshPipelines.bind(this,t,r,n,i)):(this.refreshPipelines(t,r,n,i),t||this.table.columnManager.renderer.renderColumns(),this.renderTable(),o.options.layoutColumnsOnNewData&&this.table.columnManager.redraw(!0)):this.refreshPipelines(t,r,n,i),this.dispatch("data-refreshed")}}refreshPipelines(t,e,i,o){switch(this.dispatch("data-refreshing"),t&&this.activeRowsPipeline[0]||(this.activeRowsPipeline[0]=this.rows.slice(0)),e){case"all":case"dataPipeline":for(let t=i;t<this.dataPipeline.length;t++){let e=this.dataPipeline[t].handler(this.activeRowsPipeline[t].slice(0));this.activeRowsPipeline[t+1]=e||this.activeRowsPipeline[t].slice(0)}this.setActiveRows(this.activeRowsPipeline[this.dataPipeline.length]);case"display":i=0,this.resetDisplayRows();case"displayPipeline":for(let t=i;t<this.displayPipeline.length;t++){let e=this.displayPipeline[t].handler((t?this.getDisplayRows(t-1):this.activeRows).slice(0),o);this.setDisplayRows(e||this.getDisplayRows(t-1).slice(0),t)}case"end":this.regenerateRowPositions()}this.getDisplayRows().length&&this._clearPlaceholder()}regenerateRowPositions(){var t=this.getDisplayRows(),e=1;t.forEach((t=>{"row"===t.type&&(t.setPosition(e),e++)}))}setActiveRows(t){this.activeRows=this.activeRows=Object.assign([],t),this.activeRowsCount=this.activeRows.length}resetDisplayRows(){this.displayRows=[],this.displayRows.push(this.activeRows.slice(0)),this.displayRowsCount=this.displayRows[0].length}setDisplayRows(t,e){this.displayRows[e]=t,e==this.displayRows.length-1&&(this.displayRowsCount=this.displayRows[this.displayRows.length-1].length)}getDisplayRows(t){return void 0===t?this.displayRows.length?this.displayRows[this.displayRows.length-1]:[]:this.displayRows[t]||[]}getVisibleRows(t,e){var i=Object.assign([],this.renderer.visibleRows(!e));return t&&(i=this.chain("rows-visible",[e],i,i)),i}displayRowIterator(t){this.activeRowsPipeline.forEach(t),this.displayRows.forEach(t),this.displayRowsCount=this.displayRows[this.displayRows.length-1].length}getRows(t){var e=[];switch(t){case"active":e=this.activeRows;break;case"display":e=this.table.rowManager.getDisplayRows();break;case"visible":e=this.getVisibleRows(!1,!0);break;default:e=this.chain("rows-retrieve",t,null,this.rows)||this.rows}return e}reRenderInPosition(t){this.redrawBlock?t?t():this.redrawBlockRenderInPosition=!0:(this.dispatchExternal("renderStarted"),this.renderer.rerenderRows(t),this.fixedHeight||this.adjustTableSize(),this.scrollBarCheck(),this.dispatchExternal("renderComplete"))}scrollBarCheck(){var t=0;this.element.scrollHeight>this.element.clientHeight&&(t=this.element.offsetWidth-this.element.clientWidth),t!==this.scrollbarWidth&&(this.scrollbarWidth=t,this.dispatch("scrollbar-vertical",t))}initializeRenderer(){var t,e={virtual:Tt,basic:St};(t="string"==typeof this.table.options.renderVertical?e[this.table.options.renderVertical]:this.table.options.renderVertical)&&(this.renderMode=this.table.options.renderVertical,this.renderer=new t(this.table,this.element,this.tableElement),this.renderer.initialize(),!this.table.element.clientHeight&&!this.table.options.height||this.table.options.minHeight&&this.table.options.maxHeight?this.fixedHeight=!1:this.fixedHeight=!0)}getRenderMode(){return this.renderMode}renderTable(){this.dispatchExternal("renderStarted"),this.element.scrollTop=0,this._clearTable(),this.displayRowsCount?(this.renderer.renderRows(),this.firstRender&&(this.firstRender=!1,this.fixedHeight||this.adjustTableSize(),this.layoutRefresh(!0))):this.renderEmptyScroll(),this.fixedHeight||this.adjustTableSize(),this.dispatch("table-layout"),this.displayRowsCount||this._showPlaceholder(),this.scrollBarCheck(),this.dispatchExternal("renderComplete")}renderEmptyScroll(){this.placeholder?this.tableElement.style.display="none":this.tableElement.style.minWidth=this.table.columnManager.getWidth()+"px"}_clearTable(){this._clearPlaceholder(),this.scrollTop=0,this.scrollLeft=0,this.renderer.clearRows()}tableEmpty(){this.renderEmptyScroll(),this._showPlaceholder()}checkPlaceholder(){this.displayRowsCount?this._clearPlaceholder():this.tableEmpty()}_showPlaceholder(){this.placeholder&&(this.placeholder&&this.placeholder.parentNode&&this.placeholder.parentNode.removeChild(this.placeholder),this.initializePlaceholder(),this.placeholder.setAttribute("tabulator-render-mode",this.renderMode),this.getElement().appendChild(this.placeholder),this._positionPlaceholder(),this.adjustTableSize())}_clearPlaceholder(){this.placeholder&&this.placeholder.parentNode&&this.placeholder.parentNode.removeChild(this.placeholder),this.tableElement.style.minWidth="",this.tableElement.style.display=""}_positionPlaceholder(){this.placeholder&&this.placeholder.parentNode&&(this.placeholder.style.width=this.table.columnManager.getWidth()+"px",this.placeholderContents.style.width=this.table.rowManager.element.clientWidth+"px",this.placeholderContents.style.marginLeft=this.scrollLeft+"px")}styleRow(t,e){var i=t.getElement();e%2?(i.classList.add("tabulator-row-even"),i.classList.remove("tabulator-row-odd")):(i.classList.add("tabulator-row-odd"),i.classList.remove("tabulator-row-even"))}normalizeHeight(){this.activeRows.forEach((function(t){t.normalizeHeight()}))}adjustTableSize(){let t,e=this.element.clientHeight,i=!1;if("fill"===this.renderer.verticalFillMode){let o=Math.floor(this.table.columnManager.getElement().getBoundingClientRect().height+(this.table.footerManager&&this.table.footerManager.active&&!this.table.footerManager.external?this.table.footerManager.getElement().getBoundingClientRect().height:0));if(this.fixedHeight){t=isNaN(this.table.options.minHeight)?this.table.options.minHeight:this.table.options.minHeight+"px";const e="calc(100% - "+o+"px)";this.element.style.minHeight=t||"calc(100% - "+o+"px)",this.element.style.height=e,this.element.style.maxHeight=e}else this.element.style.height="",this.element.style.height=this.table.element.clientHeight-o+"px",this.element.scrollTop=this.scrollTop;this.renderer.resize(),this.fixedHeight||e==this.element.clientHeight||(i=!0,this.subscribed("table-resize")?this.dispatch("table-resize"):this.redraw()),this.scrollBarCheck()}return this._positionPlaceholder(),i}reinitialize(){this.rows.forEach((function(t){t.reinitialize(!0)}))}blockRedraw(){this.redrawBlock=!0,this.redrawBlockRestoreConfig=!1}restoreRedraw(){this.redrawBlock=!1,this.redrawBlockRestoreConfig?(this.refreshActiveData(this.redrawBlockRestoreConfig.handler,this.redrawBlockRestoreConfig.skipStage,this.redrawBlockRestoreConfig.renderInPosition),this.redrawBlockRestoreConfig=!1):this.redrawBlockRenderInPosition&&this.reRenderInPosition(),this.redrawBlockRenderInPosition=!1}redraw(t){this.adjustTableSize(),this.table.tableWidth=this.table.element.clientWidth,t?this.renderTable():(this.reRenderInPosition(),this.scrollHorizontal(this.scrollLeft))}resetScroll(){if(this.element.scrollLeft=0,this.element.scrollTop=0,"ie"===this.table.browser){var t=document.createEvent("Event");t.initEvent("scroll",!1,!0),this.element.dispatchEvent(t)}else this.element.dispatchEvent(new Event("scroll"))}}class Dt extends n{constructor(t){super(t),this.active=!1,this.element=this.createElement(),this.containerElement=this.createContainerElement(),this.external=!1}initialize(){this.initializeElement()}createElement(){var t=document.createElement("div");return t.classList.add("tabulator-footer"),t}createContainerElement(){var t=document.createElement("div");return t.classList.add("tabulator-footer-contents"),this.element.appendChild(t),t}initializeElement(){if(this.table.options.footerElement)if("string"==typeof this.table.options.footerElement)"<"===this.table.options.footerElement[0]?this.containerElement.innerHTML=this.table.options.footerElement:(this.external=!0,this.containerElement=document.querySelector(this.table.options.footerElement));else this.element=this.table.options.footerElement}getElement(){return this.element}append(t){this.activate(),this.containerElement.appendChild(t),this.table.rowManager.adjustTableSize()}prepend(t){this.activate(),this.element.insertBefore(t,this.element.firstChild),this.table.rowManager.adjustTableSize()}remove(t){t.parentNode.removeChild(t),this.deactivate()}deactivate(t){this.element.firstChild&&!t||(this.external||this.element.parentNode.removeChild(this.element),this.active=!1)}activate(){this.active||(this.active=!0,this.external||(this.table.element.appendChild(this.getElement()),this.table.element.style.display=""))}redraw(){this.dispatch("footer-redraw")}}class Lt extends n{constructor(t){super(t),this.el=null,this.abortClasses=["tabulator-headers","tabulator-table"],this.previousTargets={},this.listeners=["click","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","mouseup","mousedown","touchstart","touchend"],this.componentMap={"tabulator-cell":"cell","tabulator-row":"row","tabulator-group":"group","tabulator-col":"column"},this.pseudoTrackers={row:{subscriber:null,target:null},cell:{subscriber:null,target:null},group:{subscriber:null,target:null},column:{subscriber:null,target:null}},this.pseudoTracking=!1}initialize(){this.el=this.table.element,this.buildListenerMap(),this.bindSubscriptionWatchers()}buildListenerMap(){var t={};this.listeners.forEach((e=>{t[e]={handler:null,components:[]}})),this.listeners=t}bindPseudoEvents(){Object.keys(this.pseudoTrackers).forEach((t=>{this.pseudoTrackers[t].subscriber=this.pseudoMouseEnter.bind(this,t),this.subscribe(t+"-mouseover",this.pseudoTrackers[t].subscriber)})),this.pseudoTracking=!0}pseudoMouseEnter(t,e,i){this.pseudoTrackers[t].target!==i&&(this.pseudoTrackers[t].target&&this.dispatch(t+"-mouseleave",e,this.pseudoTrackers[t].target),this.pseudoMouseLeave(t,e),this.pseudoTrackers[t].target=i,this.dispatch(t+"-mouseenter",e,i))}pseudoMouseLeave(t,e){var i=Object.keys(this.pseudoTrackers),o={row:["cell"],cell:["row"]};(i=i.filter((e=>{var i=o[t];return e!==t&&(!i||i&&!i.includes(e))}))).forEach((t=>{var i=this.pseudoTrackers[t].target;this.pseudoTrackers[t].target&&(this.dispatch(t+"-mouseleave",e,i),this.pseudoTrackers[t].target=null)}))}bindSubscriptionWatchers(){var t=Object.keys(this.listeners),e=Object.values(this.componentMap);for(let i of e)for(let e of t){let t=i+"-"+e;this.subscriptionChange(t,this.subscriptionChanged.bind(this,i,e))}this.subscribe("table-destroy",this.clearWatchers.bind(this))}subscriptionChanged(t,e,i){var o=this.listeners[e].components,r=o.indexOf(t),n=!1;i?-1===r&&(o.push(t),n=!0):this.subscribed(t+"-"+e)||r>-1&&(o.splice(r,1),n=!0),"mouseenter"!==e&&"mouseleave"!==e||this.pseudoTracking||this.bindPseudoEvents(),n&&this.updateEventListeners()}updateEventListeners(){for(let t in this.listeners){let e=this.listeners[t];e.components.length?e.handler||(e.handler=this.track.bind(this,t),this.el.addEventListener(t,e.handler)):e.handler&&(this.el.removeEventListener(t,e.handler),e.handler=null)}}track(t,e){var i=e.composedPath&&e.composedPath()||e.path,o=this.findTargets(i);o=this.bindComponents(t,o),this.triggerEvents(t,e,o),!this.pseudoTracking||"mouseover"!=t&&"mouseleave"!=t||Object.keys(o).length||this.pseudoMouseLeave("none",e)}findTargets(t){var e={};let i=Object.keys(this.componentMap);for(let o of t){let t=o.classList?[...o.classList]:[];if(t.filter((t=>this.abortClasses.includes(t))).length)break;let r=t.filter((t=>i.includes(t)));for(let t of r)e[this.componentMap[t]]||(e[this.componentMap[t]]=o)}return e.group&&e.group===e.row&&delete e.row,e}bindComponents(t,e){var i=Object.keys(e).reverse(),o=this.listeners[t],r={},n={};for(let t of i){let i,a=e[t],s=this.previousTargets[t];if(s&&s.target===a)i=s.component;else switch(t){case"row":case"group":if(o.components.includes("row")||o.components.includes("cell")||o.components.includes("group")){i=this.table.rowManager.getVisibleRows(!0).find((t=>t.getElement()===a)),e.row&&e.row.parentNode&&e.row.parentNode.closest(".tabulator-row")&&(e[t]=!1)}break;case"column":o.components.includes("column")&&(i=this.table.columnManager.findColumn(a));break;case"cell":o.components.includes("cell")&&(r.row instanceof E?i=r.row.findCell(a):e.row)}i&&(r[t]=i,n[t]={target:a,component:i})}return this.previousTargets=n,r}triggerEvents(t,e,i){var o=this.listeners[t];for(let r in i)i[r]&&o.components.includes(r)&&this.dispatch(r+"-"+t,e,i[r])}clearWatchers(){for(let t in this.listeners){let e=this.listeners[t];e.handler&&(this.el.removeEventListener(t,e.handler),e.handler=null)}}}class Pt{constructor(t){this.table=t,this.bindings={}}bind(t,e,i){this.bindings[t]||(this.bindings[t]={}),this.bindings[t][e]||(this.bindings[t][e]=i)}handle(t,e,i){if(this.bindings[t]&&this.bindings[t][i]&&"function"==typeof this.bindings[t][i].bind)return this.bindings[t][i].bind(null,e);"then"===i||"string"!=typeof i||i.startsWith("_")||this.table.options.debugInvalidComponentFuncs}}class Ft extends n{constructor(t){super(t),this.requestOrder=0,this.loading=!1}initialize(){}load(t,e,i,o,r,n){var a=++this.requestOrder;return this.table.destroyed?Promise.resolve():(this.dispatchExternal("dataLoading",t),!t||0!=t.indexOf("{")&&0!=t.indexOf("[")||(t=JSON.parse(t)),this.confirm("data-loading",[t,e,i,r])?(this.loading=!0,r||this.alertLoader(),e=this.chain("data-params",[t,i,r],e||{},e||{}),e=this.mapParams(e,this.table.options.dataSendParams),this.chain("data-load",[t,e,i,r],!1,Promise.resolve([])).then((t=>{if(!this.table.destroyed){Array.isArray(t)||"object"!=typeof t||(t=this.mapParams(t,this.objectInvert(this.table.options.dataReceiveParams)));var e=this.chain("data-loaded",t,null,t);a==this.requestOrder&&(this.clearAlert(),!1!==e&&(this.dispatchExternal("dataLoaded",e),this.table.rowManager.setData(e,o,void 0===n?!o:n)))}})).catch((t=>{this.dispatchExternal("dataLoadError",t),r||this.alertError(),setTimeout((()=>{this.clearAlert()}),this.table.options.dataLoaderErrorTimeout)})).finally((()=>{this.loading=!1}))):(this.dispatchExternal("dataLoaded",t),t||(t=[]),this.table.rowManager.setData(t,o,void 0===n?!o:n),Promise.resolve()))}mapParams(t,e){var i={};for(let o in t)i[e.hasOwnProperty(o)?e[o]:o]=t[o];return i}objectInvert(t){var e={};for(let i in t)e[t[i]]=i;return e}blockActiveLoad(){this.requestOrder++}alertLoader(){("function"==typeof this.table.options.dataLoader?this.table.options.dataLoader():this.table.options.dataLoader)&&this.table.alertManager.alert(this.table.options.dataLoaderLoading||this.langText("data|loading"))}alertError(){this.table.alertManager.alert(this.table.options.dataLoaderError||this.langText("data|error"),"error")}clearAlert(){this.table.alertManager.clear()}}class Ot{constructor(t,e,i){this.table=t,this.events={},this.optionsList=e||{},this.subscriptionNotifiers={},this.dispatch=i?this._debugDispatch.bind(this):this._dispatch.bind(this),this.debug=i}subscriptionChange(t,e){this.subscriptionNotifiers[t]||(this.subscriptionNotifiers[t]=[]),this.subscriptionNotifiers[t].push(e),this.subscribed(t)&&this._notifySubscriptionChange(t,!0)}subscribe(t,e){this.events[t]||(this.events[t]=[]),this.events[t].push(e),this._notifySubscriptionChange(t,!0)}unsubscribe(t,e){var i;if(this.events[t]){if(e){if(!((i=this.events[t].findIndex((t=>t===e)))>-1))return;this.events[t].splice(i,1)}else delete this.events[t];this._notifySubscriptionChange(t,!1)}}subscribed(t){return this.events[t]&&this.events[t].length}_notifySubscriptionChange(t,e){var i=this.subscriptionNotifiers[t];i&&i.forEach((t=>{t(e)}))}_dispatch(){var t,e=Array.from(arguments),i=e.shift();return this.events[i]&&this.events[i].forEach(((i,o)=>{let r=i.apply(this.table,e);o||(t=r)})),t}_debugDispatch(){var t=Array.from(arguments),e=t[0];return t[0]="ExternalEvent:"+t[0],!0===this.debug||this.debug.includes(e),this._dispatch(...arguments)}}class Ht{constructor(t){this.events={},this.subscriptionNotifiers={},this.dispatch=t?this._debugDispatch.bind(this):this._dispatch.bind(this),this.chain=t?this._debugChain.bind(this):this._chain.bind(this),this.confirm=t?this._debugConfirm.bind(this):this._confirm.bind(this),this.debug=t}subscriptionChange(t,e){this.subscriptionNotifiers[t]||(this.subscriptionNotifiers[t]=[]),this.subscriptionNotifiers[t].push(e),this.subscribed(t)&&this._notifySubscriptionChange(t,!0)}subscribe(t,e,i=1e4){this.events[t]||(this.events[t]=[]),this.events[t].push({callback:e,priority:i}),this.events[t].sort(((t,e)=>t.priority-e.priority)),this._notifySubscriptionChange(t,!0)}unsubscribe(t,e){var i;if(this.events[t]){if(e){if(!((i=this.events[t].findIndex((t=>t.callback===e)))>-1))return;this.events[t].splice(i,1)}this._notifySubscriptionChange(t,!1)}}subscribed(t){return this.events[t]&&this.events[t].length}_chain(t,e,i,o){var r=i;return Array.isArray(e)||(e=[e]),this.subscribed(t)?(this.events[t].forEach(((t,i)=>{r=t.callback.apply(this,e.concat([r]))})),r):"function"==typeof o?o():o}_confirm(t,e){var i=!1;return Array.isArray(e)||(e=[e]),this.subscribed(t)&&this.events[t].forEach(((t,o)=>{t.callback.apply(this,e)&&(i=!0)})),i}_notifySubscriptionChange(t,e){var i=this.subscriptionNotifiers[t];i&&i.forEach((t=>{t(e)}))}_dispatch(){var t=Array.from(arguments),e=t.shift();this.events[e]&&this.events[e].forEach((e=>{e.callback.apply(this,t)}))}_debugDispatch(){var t=Array.from(arguments),e=t[0];return t[0]="InternalEvent:"+e,!0===this.debug||this.debug.includes(e),this._dispatch(...arguments)}_debugChain(){var t=Array.from(arguments),e=t[0];return t[0]="InternalEvent:"+e,!0===this.debug||this.debug.includes(e),this._chain(...arguments)}_debugConfirm(){var t=Array.from(arguments),e=t[0];return t[0]="InternalEvent:"+e,!0===this.debug||this.debug.includes(e),this._confirm(...arguments)}}class It extends n{constructor(t){super(t)}_warnUser(){this.options("debugDeprecation")}check(t,e,i){var o="";return void 0===this.options(t)||(o="Deprecated Setup Option - Use of the %c"+t+"%c option is now deprecated",e?(o=o+", Please use the %c"+e+"%c option instead",this._warnUser(o,"font-weight: bold;","font-weight: normal;","font-weight: bold;","font-weight: normal;"),i&&(this.table.options[e]=this.table.options[t])):this._warnUser(o,"font-weight: bold;","font-weight: normal;"),!1)}checkMsg(t,e){return void 0===this.options(t)||(this._warnUser("%cDeprecated Setup Option - Use of the %c"+t+" %c option is now deprecated, "+e,"font-weight: normal;","font-weight: bold;","font-weight: normal;"),!1)}msg(t){this._warnUser(t)}}class Nt{static register(t){Nt.tables.push(t)}static deregister(t){var e=Nt.tables.indexOf(t);e>-1&&Nt.tables.splice(e,1)}static lookupTable(t,e){var i,o,r=[];if("string"==typeof t){if((i=document.querySelectorAll(t)).length)for(var n=0;n<i.length;n++)(o=Nt.matchElement(i[n]))&&r.push(o)}else"undefined"!=typeof HTMLElement&&t instanceof HTMLElement||t instanceof Xt?(o=Nt.matchElement(t))&&r.push(o):Array.isArray(t)&&t.forEach((function(t){r=r.concat(Nt.lookupTable(t))}));return r}static matchElement(t){return Nt.tables.find((function(e){return t instanceof Xt?e===t:e.element===t}))}}function Vt(t,e){t.forEach((function(t){t.reinitializeWidth()})),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()}Nt.tables=[];var Wt={fitData:function(t,e){e&&this.table.columnManager.renderer.reinitializeColumnWidths(t),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitDataFill:Vt,fitDataTable:Vt,fitDataStretch:function(t,e){var i=0,o=this.table.rowManager.element.clientWidth,r=0,n=!1;t.forEach(((t,e)=>{t.widthFixed||t.reinitializeWidth(),(this.table.options.responsiveLayout?t.modules.responsive.visible:t.visible)&&(n=t),t.visible&&(i+=t.getWidth())})),n?(r=o-i+n.getWidth(),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&(n.setWidth(0),this.table.modules.responsiveLayout.update()),r>0?n.setWidth(r):n.reinitializeWidth()):this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitColumns:function(t,e){var i,o,r=this.table.rowManager.element.getBoundingClientRect().width,n=0,a=0,s=0,l=[],u=[],h=0,c=0;function d(t){return"string"==typeof t?t.indexOf("%")>-1?r/100*parseInt(t):parseInt(t):t}function p(t,e,i,o){var r=[],n=0,a=0,l=0,u=s,h=0,c=0,b=[];function g(t){return i*(t.column.definition.widthGrow||1)}function m(t){return d(t.width)-i*(t.column.definition.widthShrink||0)}return t.forEach((function(t,n){var a=o?m(t):g(t);t.column.minWidth>=a?r.push(t):t.column.maxWidth&&t.column.maxWidth<a?(t.width=t.column.maxWidth,e-=t.column.maxWidth,(u-=o?t.column.definition.widthShrink||1:t.column.definition.widthGrow||1)&&(i=Math.floor(e/u))):(b.push(t),c+=o?t.column.definition.widthShrink||1:t.column.definition.widthGrow||1)})),r.length?(r.forEach((function(t){n+=o?t.width-t.column.minWidth:t.column.minWidth,t.width=t.column.minWidth})),a=e-n,l=c?Math.floor(a/c):a,h=p(b,a,l,o)):(h=c?e-Math.floor(e/c)*c:e,b.forEach((function(t){t.width=o?m(t):g(t)}))),h}this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update(),this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(r-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),t.forEach((function(t){var e,i,o;t.visible&&(e=t.definition.width,i=parseInt(t.minWidth),e?(o=d(e),n+=o>i?o:i,t.definition.widthShrink&&(u.push({column:t,width:o>i?o:i}),h+=t.definition.widthShrink)):(l.push({column:t,width:0}),s+=t.definition.widthGrow||1))})),a=r-n,i=Math.floor(a/s),c=p(l,a,i,!1),l.length&&c>0&&(l[l.length-1].width+=c),l.forEach((function(t){a-=t.width})),(o=Math.abs(c)+a)>0&&h&&(c=p(u,o,Math.floor(o/h),!0)),c&&u.length&&(u[u.length-1].width-=c),l.forEach((function(t){t.column.setWidth(t.width)})),u.forEach((function(t){t.column.setWidth(t.width)}))}};class jt extends l{constructor(t){super(t,"layout"),this.mode=null,this.registerTableOption("layout","fitData"),this.registerTableOption("layoutColumnsOnNewData",!1),this.registerColumnOption("widthGrow"),this.registerColumnOption("widthShrink")}initialize(){var t=this.table.options.layout;jt.modes[t]?this.mode=t:this.mode="fitData",this.table.element.setAttribute("tabulator-layout",this.mode),this.subscribe("column-init",this.initializeColumn.bind(this))}initializeColumn(t){t.definition.widthGrow&&(t.definition.widthGrow=Number(t.definition.widthGrow)),t.definition.widthShrink&&(t.definition.widthShrink=Number(t.definition.widthShrink))}getMode(){return this.mode}layout(t){this.dispatch("layout-refreshing"),jt.modes[this.mode].call(this,this.table.columnManager.columnsByIndex,t),this.dispatch("layout-refreshed")}}jt.moduleName="layout",jt.modes=Wt;class Gt extends l{constructor(t){super(t),this.locale="default",this.lang=!1,this.bindings={},this.langList={},this.registerTableOption("locale",!1),this.registerTableOption("langs",{})}initialize(){this.langList=a.deepClone(Gt.langs),!1!==this.table.options.columnDefaults.headerFilterPlaceholder&&this.setHeaderFilterPlaceholder(this.table.options.columnDefaults.headerFilterPlaceholder);for(let t in this.table.options.langs)this.installLang(t,this.table.options.langs[t]);this.setLocale(this.table.options.locale),this.registerTableFunction("setLocale",this.setLocale.bind(this)),this.registerTableFunction("getLocale",this.getLocale.bind(this)),this.registerTableFunction("getLang",this.getLang.bind(this))}setHeaderFilterPlaceholder(t){this.langList.default.headerFilters.default=t}installLang(t,e){this.langList[t]?this._setLangProp(this.langList[t],e):this.langList[t]=e}_setLangProp(t,e){for(let i in e)t[i]&&"object"==typeof t[i]?this._setLangProp(t[i],e[i]):t[i]=e[i]}setLocale(t){if(!0===(t=t||"default")&&navigator.language&&(t=navigator.language.toLowerCase()),t&&!this.langList[t]){let e=t.split("-")[0];t=this.langList[e]?e:"default"}this.locale=t,this.lang=a.deepClone(this.langList.default||{}),"default"!=t&&function t(e,i){for(var o in e)"object"==typeof e[o]?(i[o]||(i[o]={}),t(e[o],i[o])):i[o]=e[o]}(this.langList[t],this.lang),this.dispatchExternal("localized",this.locale,this.lang),this._executeBindings()}getLocale(t){return this.locale}getLang(t){return t?this.langList[t]:this.lang}getText(t,e){var i=(e?t+"|"+e:t).split("|");return this._getLangElement(i,this.locale)||""}_getLangElement(t,e){var i=this.lang;return t.forEach((function(t){var e;i&&(e=i[t],i=void 0!==e&&e)})),i}bind(t,e){this.bindings[t]||(this.bindings[t]=[]),this.bindings[t].push(e),e(this.getText(t),this.lang)}_executeBindings(){for(let t in this.bindings)this.bindings[t].forEach((e=>{e(this.getText(t),this.lang)}))}}Gt.moduleName="localize",Gt.langs={default:{groups:{item:"item",items:"items"},columns:{},data:{loading:"Loading",error:"Error"},pagination:{page_size:"Page Size",page_title:"Show Page",first:"First",first_title:"First Page",last:"Last",last_title:"Last Page",prev:"Prev",prev_title:"Prev Page",next:"Next",next_title:"Next Page",all:"All",counter:{showing:"Showing",of:"of",rows:"rows",pages:"pages"}},headerFilters:{default:"filter column...",columns:{}}}};class Ut extends l{constructor(t){super(t)}initialize(){this.registerTableFunction("tableComms",this.receive.bind(this))}getConnections(t){var e=[];return Nt.lookupTable(t).forEach((t=>{this.table!==t&&e.push(t)})),e}send(t,e,i,o){var r=this.getConnections(t);r.forEach((t=>{t.tableComms(this.table.element,e,i,o)})),r.length}receive(t,e,i,o){if(this.table.modExists(e))return this.table.modules[e].commsReceived(t,i,o)}}Ut.moduleName="comms";var qt=Object.freeze({__proto__:null,LayoutModule:jt,LocalizeModule:Gt,CommsModule:Ut});class $t{constructor(t,e){this.bindStaticFunctionality(t),this.bindModules(t,qt,!0),e&&this.bindModules(t,e)}bindStaticFunctionality(t){t.moduleBindings={},t.extendModule=function(e,i,o){if(t.moduleBindings[e]){var r=t.moduleBindings[e][i];if(r&&"object"==typeof o)for(let t in o)r[t]=o[t]}},t.registerModule=function(e){Array.isArray(e)||(e=[e]),e.forEach((e=>{t.registerModuleBinding(e)}))},t.registerModuleBinding=function(e){t.moduleBindings[e.moduleName]=e},t.findTable=function(t){var e=Nt.lookupTable(t,!0);return!(Array.isArray(e)&&!e.length)&&e},t.prototype.bindModules=function(){var e=[],i=[],o=[];for(var r in this.modules={},t.moduleBindings){let n=t.moduleBindings[r],a=new n(this);this.modules[r]=a,n.prototype.moduleCore?this.modulesCore.push(a):n.moduleInitOrder?n.moduleInitOrder<0?e.push(a):i.push(a):o.push(a)}e.sort(((t,e)=>t.moduleInitOrder>e.moduleInitOrder?1:-1)),i.sort(((t,e)=>t.moduleInitOrder>e.moduleInitOrder?1:-1)),this.modulesRegular=e.concat(o.concat(i))}}bindModules(t,e,i){var o=Object.values(e);i&&o.forEach((t=>{t.prototype.moduleCore=!0})),t.registerModule(o)}}class Yt extends n{constructor(t){super(t),this.element=this._createAlertElement(),this.msgElement=this._createMsgElement(),this.type=null,this.element.appendChild(this.msgElement)}_createAlertElement(){var t=document.createElement("div");return t.classList.add("tabulator-alert"),t}_createMsgElement(){var t=document.createElement("div");return t.classList.add("tabulator-alert-msg"),t.setAttribute("role","alert"),t}_typeClass(){return"tabulator-alert-state-"+this.type}alert(t,e="msg"){if(t){for(this.clear(),this.dispatch("alert-show",e),this.type=e;this.msgElement.firstChild;)this.msgElement.removeChild(this.msgElement.firstChild);this.msgElement.classList.add(this._typeClass()),"function"==typeof t&&(t=t()),t instanceof HTMLElement?this.msgElement.appendChild(t):this.msgElement.innerHTML=t,this.table.element.appendChild(this.element)}}clear(){this.dispatch("alert-hide",this.type),this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.msgElement.classList.remove(this._typeClass())}}class Xt{constructor(t,e){this.options={},this.columnManager=null,this.rowManager=null,this.footerManager=null,this.alertManager=null,this.vdomHoz=null,this.externalEvents=null,this.eventBus=null,this.interactionMonitor=!1,this.browser="",this.browserSlow=!1,this.browserMobile=!1,this.rtl=!1,this.originalElement=null,this.componentFunctionBinder=new Pt(this),this.dataLoader=!1,this.modules={},this.modulesCore=[],this.modulesRegular=[],this.deprecationAdvisor=new It(this),this.optionsList=new kt(this,"table constructor"),this.initialized=!1,this.destroyed=!1,this.initializeElement(t)&&(this.initializeCoreSystems(e),setTimeout((()=>{this._create()}))),Nt.register(this)}initializeElement(t){return"undefined"!=typeof HTMLElement&&t instanceof HTMLElement?(this.element=t,!0):"string"==typeof t&&(this.element=document.querySelector(t),!!this.element)}initializeCoreSystems(t){this.columnManager=new Mt(this),this.rowManager=new zt(this),this.footerManager=new Dt(this),this.dataLoader=new Ft(this),this.alertManager=new Yt(this),this.bindModules(),this.options=this.optionsList.generate(Xt.defaultOptions,t),this._clearObjectPointers(),this._mapDeprecatedFunctionality(),this.externalEvents=new Ot(this,this.options,this.options.debugEventsExternal),this.eventBus=new Ht(this.options.debugEventsInternal),this.interactionMonitor=new Lt(this),this.dataLoader.initialize(),this.footerManager.initialize()}_mapDeprecatedFunctionality(){}_clearSelection(){this.element.classList.add("tabulator-block-select"),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),this.element.classList.remove("tabulator-block-select")}_create(){this.externalEvents.dispatch("tableBuilding"),this.eventBus.dispatch("table-building"),this._rtlCheck(),this._buildElement(),this._initializeTable(),this._loadInitialData(),this.initialized=!0,this.externalEvents.dispatch("tableBuilt")}_rtlCheck(){var t=window.getComputedStyle(this.element);switch(this.options.textDirection){case"auto":if("rtl"!==t.direction)break;case"rtl":this.element.classList.add("tabulator-rtl"),this.rtl=!0;break;case"ltr":this.element.classList.add("tabulator-ltr");default:this.rtl=!1}}_clearObjectPointers(){this.options.columns=this.options.columns.slice(0),Array.isArray(this.options.data)&&!this.options.reactiveData&&(this.options.data=this.options.data.slice(0))}_buildElement(){var t,e=this.element,i=this.options;if("TABLE"===e.tagName){this.originalElement=this.element,t=document.createElement("div");var o=e.attributes;for(var r in o)"object"==typeof o[r]&&t.setAttribute(o[r].name,o[r].value);e.parentNode.replaceChild(t,e),this.element=e=t}for(e.classList.add("tabulator"),e.setAttribute("role","grid");e.firstChild;)e.removeChild(e.firstChild);i.height&&(i.height=isNaN(i.height)?i.height:i.height+"px",e.style.height=i.height),!1!==i.minHeight&&(i.minHeight=isNaN(i.minHeight)?i.minHeight:i.minHeight+"px",e.style.minHeight=i.minHeight),!1!==i.maxHeight&&(i.maxHeight=isNaN(i.maxHeight)?i.maxHeight:i.maxHeight+"px",e.style.maxHeight=i.maxHeight)}_initializeTable(){var t=this.element,e=this.options;this.interactionMonitor.initialize(),this.columnManager.initialize(),this.rowManager.initialize(),this._detectBrowser(),this.modulesCore.forEach((t=>{t.initialize()})),t.appendChild(this.columnManager.getElement()),t.appendChild(this.rowManager.getElement()),e.footerElement&&this.footerManager.activate(),e.autoColumns&&e.data&&this.columnManager.generateColumnsFromRowData(this.options.data),this.modulesRegular.forEach((t=>{t.initialize()})),this.columnManager.setColumns(e.columns),this.eventBus.dispatch("table-built")}_loadInitialData(){this.dataLoader.load(this.options.data),this.columnManager.verticalAlignHeaders()}destroy(){var t=this.element;for(this.destroyed=!0,Nt.deregister(this),this.eventBus.dispatch("table-destroy"),this.rowManager.destroy();t.firstChild;)t.removeChild(t.firstChild);t.classList.remove("tabulator"),this.externalEvents.dispatch("tableDestroyed")}_detectBrowser(){var t=navigator.userAgent||navigator.vendor||window.opera;t.indexOf("Trident")>-1?(this.browser="ie",this.browserSlow=!0):t.indexOf("Edge")>-1?(this.browser="edge",this.browserSlow=!0):t.indexOf("Firefox")>-1?(this.browser="firefox",this.browserSlow=!1):t.indexOf("Mac OS")>-1?(this.browser="safari",this.browserSlow=!1):(this.browser="other",this.browserSlow=!1),this.browserMobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t.slice(0,4))}initGuard(t,e){var i,o;return this.options.debugInitialization&&!this.initialized&&(t||(t=" "==(o="Error"==(i=(new Error).stack.split("\n"))[0]?i[2]:i[1])[0]?o.trim().split(" ")[1].split(".")[1]:o.trim().split("@")[0])),this.initialized}blockRedraw(){this.initGuard(),this.eventBus.dispatch("redraw-blocking"),this.rowManager.blockRedraw(),this.columnManager.blockRedraw(),this.eventBus.dispatch("redraw-blocked")}restoreRedraw(){this.initGuard(),this.eventBus.dispatch("redraw-restoring"),this.rowManager.restoreRedraw(),this.columnManager.restoreRedraw(),this.eventBus.dispatch("redraw-restored")}setData(t,e,i){return this.initGuard(!1,"To set initial data please use the 'data' property in the table constructor."),this.dataLoader.load(t,e,i,!1)}clearData(){this.initGuard(),this.dataLoader.blockActiveLoad(),this.rowManager.clearData()}getData(t){return this.rowManager.getData(t)}getDataCount(t){return this.rowManager.getDataCount(t)}replaceData(t,e,i){return this.initGuard(),this.dataLoader.load(t,e,i,!0,!0)}updateData(t){var e=0;return this.initGuard(),new Promise(((i,o)=>{this.dataLoader.blockActiveLoad(),"string"==typeof t&&(t=JSON.parse(t)),t&&t.length>0?t.forEach((t=>{var r=this.rowManager.findRow(t[this.options.index]);r?(e++,r.updateData(t).then((()=>{--e||i()})).catch((e=>{o("Update Error - Unable to update row",t,e)}))):o("Update Error - Unable to find row",t)})):o("Update Error - No data provided")}))}addData(t,e,i){return this.initGuard(),new Promise(((o,r)=>{this.dataLoader.blockActiveLoad(),"string"==typeof t&&(t=JSON.parse(t)),t?this.rowManager.addRows(t,e,i).then((t=>{var e=[];t.forEach((function(t){e.push(t.getComponent())})),o(e)})):r("Update Error - No data provided")}))}updateOrAddData(t){var e=[],i=0;return this.initGuard(),new Promise(((o,r)=>{this.dataLoader.blockActiveLoad(),"string"==typeof t&&(t=JSON.parse(t)),t&&t.length>0?t.forEach((t=>{var r=this.rowManager.findRow(t[this.options.index]);i++,r?r.updateData(t).then((()=>{i--,e.push(r.getComponent()),i||o(e)})):this.rowManager.addRows(t).then((t=>{i--,e.push(t[0].getComponent()),i||o(e)}))})):r("Update Error - No data provided")}))}getRow(t){var e=this.rowManager.findRow(t);return!!e&&e.getComponent()}getRowFromPosition(t){var e=this.rowManager.getRowFromPosition(t);return!!e&&e.getComponent()}deleteRow(t){var e=[];this.initGuard(),Array.isArray(t)||(t=[t]);for(let i of t){let t=this.rowManager.findRow(i,!0);if(!t)return Promise.reject("Delete Error - No matching row found");e.push(t)}return e.sort(((t,e)=>this.rowManager.rows.indexOf(t)>this.rowManager.rows.indexOf(e)?1:-1)),e.forEach((t=>{t.delete()})),this.rowManager.reRenderInPosition(),Promise.resolve()}addRow(t,e,i){return this.initGuard(),"string"==typeof t&&(t=JSON.parse(t)),this.rowManager.addRows(t,e,i,!0).then((t=>t[0].getComponent()))}updateOrAddRow(t,e){var i=this.rowManager.findRow(t);return this.initGuard(),"string"==typeof e&&(e=JSON.parse(e)),i?i.updateData(e).then((()=>i.getComponent())):this.rowManager.addRows(e).then((t=>t[0].getComponent()))}updateRow(t,e){var i=this.rowManager.findRow(t);return this.initGuard(),"string"==typeof e&&(e=JSON.parse(e)),i?i.updateData(e).then((()=>Promise.resolve(i.getComponent()))):Promise.reject("Update Error - No matching row found")}scrollToRow(t,e,i){var o=this.rowManager.findRow(t);return o?this.rowManager.scrollToRow(o,e,i):Promise.reject("Scroll Error - No matching row found")}moveRow(t,e,i){var o=this.rowManager.findRow(t);this.initGuard(),o&&o.moveToRow(e,i)}getRows(t){return this.rowManager.getComponents(t)}getRowPosition(t){var e=this.rowManager.findRow(t);return!!e&&e.getPosition()}setColumns(t){this.initGuard(!1,"To set initial columns please use the 'columns' property in the table constructor"),this.columnManager.setColumns(t)}getColumns(t){return this.columnManager.getComponents(t)}getColumn(t){var e=this.columnManager.findColumn(t);return!!e&&e.getComponent()}getColumnDefinitions(){return this.columnManager.getDefinitionTree()}showColumn(t){var e=this.columnManager.findColumn(t);if(this.initGuard(),!e)return!1;e.show()}hideColumn(t){var e=this.columnManager.findColumn(t);if(this.initGuard(),!e)return!1;e.hide()}toggleColumn(t){var e=this.columnManager.findColumn(t);if(this.initGuard(),!e)return!1;e.visible?e.hide():e.show()}addColumn(t,e,i){var o=this.columnManager.findColumn(i);return this.initGuard(),this.columnManager.addColumn(t,e,o).then((t=>t.getComponent()))}deleteColumn(t){var e=this.columnManager.findColumn(t);return this.initGuard(),e?e.delete():Promise.reject()}updateColumnDefinition(t,e){var i=this.columnManager.findColumn(t);return this.initGuard(),i?i.updateDefinition(e):Promise.reject()}moveColumn(t,e,i){var o=this.columnManager.findColumn(t),r=this.columnManager.findColumn(e);this.initGuard(),o&&r&&this.columnManager.moveColumn(o,r,i)}scrollToColumn(t,e,i){return new Promise(((o,r)=>{var n=this.columnManager.findColumn(t);return n?this.columnManager.scrollToColumn(n,e,i):Promise.reject("Scroll Error - No matching column found")}))}redraw(t){this.initGuard(),this.columnManager.redraw(t),this.rowManager.redraw(t)}setHeight(t){this.options.height=isNaN(t)?t:t+"px",this.element.style.height=this.options.height,this.rowManager.initializeRenderer(),this.rowManager.redraw(!0)}on(t,e){this.externalEvents.subscribe(t,e)}off(t,e){this.externalEvents.unsubscribe(t,e)}dispatchEvent(){Array.from(arguments).shift(),this.externalEvents.dispatch(...arguments)}alert(t,e){this.initGuard(),this.alertManager.alert(t,e)}clearAlert(){this.initGuard(),this.alertManager.clear()}modExists(t,e){return!!this.modules[t]}module(t){var e=this.modules[t];return e}}Xt.defaultOptions={debugEventsExternal:!1,debugEventsInternal:!1,debugInvalidOptions:!0,debugInvalidComponentFuncs:!0,debugInitialization:!0,debugDeprecation:!0,height:!1,minHeight:!1,maxHeight:!1,columnHeaderVertAlign:"top",popupContainer:!1,columns:[],columnDefaults:{},data:!1,autoColumns:!1,autoColumnsDefinitions:!1,nestedFieldSeparator:".",footerElement:!1,index:"id",textDirection:"auto",addRowPos:"bottom",headerVisible:!0,renderVertical:"virtual",renderHorizontal:"basic",renderVerticalBuffer:0,scrollToRowPosition:"top",scrollToRowIfVisible:!0,scrollToColumnPosition:"left",scrollToColumnIfVisible:!0,rowFormatter:!1,rowFormatterPrint:null,rowFormatterClipboard:null,rowFormatterHtmlOutput:null,rowHeight:null,placeholder:!1,dataLoader:!0,dataLoaderLoading:!1,dataLoaderError:!1,dataLoaderErrorTimeout:3e3,dataSendParams:{},dataReceiveParams:{}},new $t(Xt);new $t(class extends Xt{},Et);var Kt=i(72),Qt=i.n(Kt),Jt=i(825),Zt=i.n(Jt),te=i(659),ee=i.n(te),ie=i(56),oe=i.n(ie),re=i(159),ne=i.n(re),ae=i(113),se=i.n(ae),le=i(411),ue={};ue.styleTagTransform=se(),ue.setAttributes=oe(),ue.insert=ee().bind(null,"head"),ue.domAPI=Zt(),ue.insertStyleElement=ne();Qt()(le.A,ue),le.A&&le.A.locals&&le.A.locals;var he=t=>{let{data:e}=t;const i=(0,o.useRef)(null);return(0,o.useEffect)((()=>{new Xt(i.current,{data:e,layout:"fitColumns",autoColumns:!0})}),[e]),o.createElement("div",{ref:i})};function ce(t){return t+.5|0}const de=(t,e,i)=>Math.max(Math.min(t,i),e);function pe(t){return de(ce(2.55*t),0,255)}function be(t){return de(ce(255*t),0,255)}function ge(t){return de(ce(t/2.55)/100,0,1)}function me(t){return de(ce(100*t),0,100)}const fe={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ve=[..."0123456789ABCDEF"],we=t=>ve[15&t],Ce=t=>ve[(240&t)>>4]+ve[15&t],ye=t=>(240&t)>>4==(15&t);function xe(t){var e=(t=>ye(t.r)&&ye(t.g)&&ye(t.b)&&ye(t.a))(t)?we:Ce;return t?"#"+e(t.r)+e(t.g)+e(t.b)+((t,e)=>t<255?e(t):"")(t.a,e):void 0}const Ae=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Ee(t,e,i){const o=e*Math.min(i,1-i),r=(e,r=(e+t/30)%12)=>i-o*Math.max(Math.min(r-3,9-r,1),-1);return[r(0),r(8),r(4)]}function ke(t,e,i){const o=(o,r=(o+t/60)%6)=>i-i*e*Math.max(Math.min(r,4-r,1),0);return[o(5),o(3),o(1)]}function Be(t,e,i){const o=Ee(t,1,.5);let r;for(e+i>1&&(r=1/(e+i),e*=r,i*=r),r=0;r<3;r++)o[r]*=1-e-i,o[r]+=e;return o}function _e(t){const e=t.r/255,i=t.g/255,o=t.b/255,r=Math.max(e,i,o),n=Math.min(e,i,o),a=(r+n)/2;let s,l,u;return r!==n&&(u=r-n,l=a>.5?u/(2-r-n):u/(r+n),s=function(t,e,i,o,r){return t===r?(e-i)/o+(e<i?6:0):e===r?(i-t)/o+2:(t-e)/o+4}(e,i,o,u,r),s=60*s+.5),[0|s,l||0,a]}function Re(t,e,i,o){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,i,o)).map(be)}function Me(t,e,i){return Re(Ee,t,e,i)}function Se(t){return(t%360+360)%360}function Te(t){const e=Ae.exec(t);let i,o=255;if(!e)return;e[5]!==i&&(o=e[6]?pe(+e[5]):be(+e[5]));const r=Se(+e[2]),n=+e[3]/100,a=+e[4]/100;return i="hwb"===e[1]?function(t,e,i){return Re(Be,t,e,i)}(r,n,a):"hsv"===e[1]?function(t,e,i){return Re(ke,t,e,i)}(r,n,a):Me(r,n,a),{r:i[0],g:i[1],b:i[2],a:o}}const ze={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},De={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Le;function Pe(t){Le||(Le=function(){const t={},e=Object.keys(De),i=Object.keys(ze);let o,r,n,a,s;for(o=0;o<e.length;o++){for(a=s=e[o],r=0;r<i.length;r++)n=i[r],s=s.replace(n,ze[n]);n=parseInt(De[a],16),t[s]=[n>>16&255,n>>8&255,255&n]}return t}(),Le.transparent=[0,0,0,0]);const e=Le[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}const Fe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const Oe=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,He=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Ie(t,e,i){if(t){let o=_e(t);o[e]=Math.max(0,Math.min(o[e]+o[e]*i,0===e?360:1)),o=Me(o),t.r=o[0],t.g=o[1],t.b=o[2]}}function Ne(t,e){return t?Object.assign(e||{},t):t}function Ve(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=be(t[3]))):(e=Ne(t,{r:0,g:0,b:0,a:1})).a=be(e.a),e}function We(t){return"r"===t.charAt(0)?function(t){const e=Fe.exec(t);let i,o,r,n=255;if(e){if(e[7]!==i){const t=+e[7];n=e[8]?pe(t):de(255*t,0,255)}return i=+e[1],o=+e[3],r=+e[5],i=255&(e[2]?pe(i):de(i,0,255)),o=255&(e[4]?pe(o):de(o,0,255)),r=255&(e[6]?pe(r):de(r,0,255)),{r:i,g:o,b:r,a:n}}}(t):Te(t)}class je{constructor(t){if(t instanceof je)return t;const e=typeof t;let i;var o,r,n;"object"===e?i=Ve(t):"string"===e&&(n=(o=t).length,"#"===o[0]&&(4===n||5===n?r={r:255&17*fe[o[1]],g:255&17*fe[o[2]],b:255&17*fe[o[3]],a:5===n?17*fe[o[4]]:255}:7!==n&&9!==n||(r={r:fe[o[1]]<<4|fe[o[2]],g:fe[o[3]]<<4|fe[o[4]],b:fe[o[5]]<<4|fe[o[6]],a:9===n?fe[o[7]]<<4|fe[o[8]]:255})),i=r||Pe(t)||We(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=Ne(this._rgb);return t&&(t.a=ge(t.a)),t}set rgb(t){this._rgb=Ve(t)}rgbString(){return this._valid?(t=this._rgb)&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ge(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`):void 0;var t}hexString(){return this._valid?xe(this._rgb):void 0}hslString(){return this._valid?function(t){if(!t)return;const e=_e(t),i=e[0],o=me(e[1]),r=me(e[2]);return t.a<255?`hsla(${i}, ${o}%, ${r}%, ${ge(t.a)})`:`hsl(${i}, ${o}%, ${r}%)`}(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,o=t.rgb;let r;const n=e===r?.5:e,a=2*n-1,s=i.a-o.a,l=((a*s==-1?a:(a+s)/(1+a*s))+1)/2;r=1-l,i.r=255&l*i.r+r*o.r+.5,i.g=255&l*i.g+r*o.g+.5,i.b=255&l*i.b+r*o.b+.5,i.a=n*i.a+(1-n)*o.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=function(t,e,i){const o=He(ge(t.r)),r=He(ge(t.g)),n=He(ge(t.b));return{r:be(Oe(o+i*(He(ge(e.r))-o))),g:be(Oe(r+i*(He(ge(e.g))-r))),b:be(Oe(n+i*(He(ge(e.b))-n))),a:t.a+i*(e.a-t.a)}}(this._rgb,t._rgb,e)),this}clone(){return new je(this.rgb)}alpha(t){return this._rgb.a=be(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=ce(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Ie(this._rgb,2,t),this}darken(t){return Ie(this._rgb,2,-t),this}saturate(t){return Ie(this._rgb,1,t),this}desaturate(t){return Ie(this._rgb,1,-t),this}rotate(t){return function(t,e){var i=_e(t);i[0]=Se(i[0]+e),i=Me(i),t.r=i[0],t.g=i[1],t.b=i[2]}(this._rgb,t),this}}function Ge(){}const Ue=(()=>{let t=0;return()=>t++})();function qe(t){return null==t}function $e(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function Ye(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}function Xe(t){return("number"==typeof t||t instanceof Number)&&isFinite(+t)}function Ke(t,e){return Xe(t)?t:e}function Qe(t,e){return void 0===t?e:t}const Je=(t,e)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Ze(t,e,i){if(t&&"function"==typeof t.call)return t.apply(i,e)}function ti(t,e,i,o){let r,n,a;if($e(t))if(n=t.length,o)for(r=n-1;r>=0;r--)e.call(i,t[r],r);else for(r=0;r<n;r++)e.call(i,t[r],r);else if(Ye(t))for(a=Object.keys(t),n=a.length,r=0;r<n;r++)e.call(i,t[a[r]],a[r])}function ei(t,e){let i,o,r,n;if(!t||!e||t.length!==e.length)return!1;for(i=0,o=t.length;i<o;++i)if(r=t[i],n=e[i],r.datasetIndex!==n.datasetIndex||r.index!==n.index)return!1;return!0}function ii(t){if($e(t))return t.map(ii);if(Ye(t)){const e=Object.create(null),i=Object.keys(t),o=i.length;let r=0;for(;r<o;++r)e[i[r]]=ii(t[i[r]]);return e}return t}function oi(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function ri(t,e,i,o){if(!oi(t))return;const r=e[t],n=i[t];Ye(r)&&Ye(n)?ni(r,n,o):e[t]=ii(n)}function ni(t,e,i){const o=$e(e)?e:[e],r=o.length;if(!Ye(t))return t;const n=(i=i||{}).merger||ri;let a;for(let e=0;e<r;++e){if(a=o[e],!Ye(a))continue;const r=Object.keys(a);for(let e=0,o=r.length;e<o;++e)n(r[e],t,a,i)}return t}function ai(t,e){return ni(t,e,{merger:si})}function si(t,e,i){if(!oi(t))return;const o=e[t],r=i[t];Ye(o)&&Ye(r)?ai(o,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=ii(r))}const li={"":t=>t,x:t=>t.x,y:t=>t.y};function ui(t,e){const i=li[e]||(li[e]=function(t){const e=function(t){const e=t.split("."),i=[];let o="";for(const t of e)o+=t,o.endsWith("\\")?o=o.slice(0,-1)+".":(i.push(o),o="");return i}(t);return t=>{for(const i of e){if(""===i)break;t=t&&t[i]}return t}}(e));return i(t)}function hi(t){return t.charAt(0).toUpperCase()+t.slice(1)}const ci=t=>void 0!==t,di=t=>"function"==typeof t,pi=(t,e)=>{if(t.size!==e.size)return!1;for(const i of t)if(!e.has(i))return!1;return!0};const bi=Math.PI,gi=2*bi,mi=Number.POSITIVE_INFINITY,fi=bi/180,vi=bi/2,wi=bi/4,Ci=2*bi/3,yi=Math.log10,xi=Math.sign;function Ai(t,e,i){return Math.abs(t-e)<i}function Ei(t){const e=Math.round(t);t=Ai(t,e,t/1e3)?e:t;const i=Math.pow(10,Math.floor(yi(t))),o=t/i;return(o<=1?1:o<=2?2:o<=5?5:10)*i}function ki(t){return!isNaN(parseFloat(t))&&isFinite(t)}function Bi(t,e,i){let o,r,n;for(o=0,r=t.length;o<r;o++)n=t[o][i],isNaN(n)||(e.min=Math.min(e.min,n),e.max=Math.max(e.max,n))}function _i(t){return t*(bi/180)}function Ri(t){return t*(180/bi)}function Mi(t){if(!Xe(t))return;let e=1,i=0;for(;Math.round(t*e)/e!==t;)e*=10,i++;return i}function Si(t,e){const i=e.x-t.x,o=e.y-t.y,r=Math.sqrt(i*i+o*o);let n=Math.atan2(o,i);return n<-.5*bi&&(n+=gi),{angle:n,distance:r}}function Ti(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function zi(t){return(t%gi+gi)%gi}function Di(t,e,i,o){const r=zi(t),n=zi(e),a=zi(i),s=zi(n-r),l=zi(a-r),u=zi(r-n),h=zi(r-a);return r===n||r===a||o&&n===a||s>l&&u<h}function Li(t,e,i){return Math.max(e,Math.min(i,t))}function Pi(t,e,i,o=1e-6){return t>=Math.min(e,i)-o&&t<=Math.max(e,i)+o}function Fi(t,e,i){i=i||(i=>t[i]<e);let o,r=t.length-1,n=0;for(;r-n>1;)o=n+r>>1,i(o)?n=o:r=o;return{lo:n,hi:r}}const Oi=(t,e,i,o)=>Fi(t,i,o?o=>{const r=t[o][e];return r<i||r===i&&t[o+1][e]===i}:o=>t[o][e]<i),Hi=(t,e,i)=>Fi(t,i,(o=>t[o][e]>=i));const Ii=["push","pop","shift","splice","unshift"];function Ni(t,e){const i=t._chartjs;if(!i)return;const o=i.listeners,r=o.indexOf(e);-1!==r&&o.splice(r,1),o.length>0||(Ii.forEach((e=>{delete t[e]})),delete t._chartjs)}function Vi(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Wi="undefined"==typeof window?function(t){return t()}:window.requestAnimationFrame;function ji(t,e){let i=[],o=!1;return function(...r){i=r,o||(o=!0,Wi.call(window,(()=>{o=!1,t.apply(e,i)})))}}const Gi=t=>"start"===t?"left":"end"===t?"right":"center",Ui=(t,e,i)=>"start"===t?e:"end"===t?i:(e+i)/2;const qi=t=>0===t||1===t,$i=(t,e,i)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*gi/i),Yi=(t,e,i)=>Math.pow(2,-10*t)*Math.sin((t-e)*gi/i)+1,Xi={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*vi),easeOutSine:t=>Math.sin(t*vi),easeInOutSine:t=>-.5*(Math.cos(bi*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>qi(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>qi(t)?t:$i(t,.075,.3),easeOutElastic:t=>qi(t)?t:Yi(t,.075,.3),easeInOutElastic(t){const e=.1125;return qi(t)?t:t<.5?.5*$i(2*t,e,.45):.5+.5*Yi(2*t-1,e,.45)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-Xi.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,i=2.75;return t<1/i?e*t*t:t<2/i?e*(t-=1.5/i)*t+.75:t<2.5/i?e*(t-=2.25/i)*t+.9375:e*(t-=2.625/i)*t+.984375},easeInOutBounce:t=>t<.5?.5*Xi.easeInBounce(2*t):.5*Xi.easeOutBounce(2*t-1)+.5};function Ki(t){if(t&&"object"==typeof t){const e=t.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function Qi(t){return Ki(t)?t:new je(t)}function Ji(t){return Ki(t)?t:new je(t).saturate(.5).darken(.1).hexString()}const Zi=["x","y","borderWidth","radius","tension"],to=["color","borderColor","backgroundColor"];const eo=new Map;function io(t,e,i){return function(t,e){e=e||{};const i=t+JSON.stringify(e);let o=eo.get(i);return o||(o=new Intl.NumberFormat(t,e),eo.set(i,o)),o}(e,i).format(t)}const oo={values(t){return $e(t)?t:""+t},numeric(t,e,i){if(0===t)return"0";const o=this.chart.options.locale;let r,n=t;if(i.length>1){const e=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(e<1e-4||e>1e15)&&(r="scientific"),n=function(t,e){let i=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;Math.abs(i)>=1&&t!==Math.floor(t)&&(i=t-Math.floor(t));return i}(t,i)}const a=yi(Math.abs(n)),s=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:r,minimumFractionDigits:s,maximumFractionDigits:s};return Object.assign(l,this.options.ticks.format),io(t,o,l)},logarithmic(t,e,i){if(0===t)return"0";const o=i[e].significand||t/Math.pow(10,Math.floor(yi(t)));return[1,2,3,5,10,15].includes(o)||e>.8*i.length?oo.numeric.call(this,t,e,i):""}};var ro={formatters:oo};const no=Object.create(null),ao=Object.create(null);function so(t,e){if(!e)return t;const i=e.split(".");for(let e=0,o=i.length;e<o;++e){const o=i[e];t=t[o]||(t[o]=Object.create(null))}return t}function lo(t,e,i){return"string"==typeof e?ni(so(t,e),i):ni(so(t,""),e)}class uo{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>Ji(e.backgroundColor),this.hoverBorderColor=(t,e)=>Ji(e.borderColor),this.hoverColor=(t,e)=>Ji(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return lo(this,t,e)}get(t){return so(this,t)}describe(t,e){return lo(ao,t,e)}override(t,e){return lo(no,t,e)}route(t,e,i,o){const r=so(this,t),n=so(this,i),a="_"+e;Object.defineProperties(r,{[a]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){const t=this[a],e=n[o];return Ye(t)?Object.assign({},e,t):Qe(t,e)},set(t){this[a]=t}}})}apply(t){t.forEach((t=>t(this)))}}var ho=new uo({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),t.set("animations",{colors:{type:"color",properties:to},numbers:{type:"number",properties:Zi}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ro.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function co(t,e,i,o,r){let n=e[r];return n||(n=e[r]=t.measureText(r).width,i.push(r)),n>o&&(o=n),o}function po(t,e,i){const o=t.currentDevicePixelRatio,r=0!==i?Math.max(i/2,.5):0;return Math.round((e-r)*o)/o+r}function bo(t,e){(e||t)&&((e=e||t.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function go(t,e,i,o){mo(t,e,i,o,null)}function mo(t,e,i,o,r){let n,a,s,l,u,h,c,d;const p=e.pointStyle,b=e.rotation,g=e.radius;let m=(b||0)*fi;if(p&&"object"==typeof p&&(n=p.toString(),"[object HTMLImageElement]"===n||"[object HTMLCanvasElement]"===n))return t.save(),t.translate(i,o),t.rotate(m),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),void t.restore();if(!(isNaN(g)||g<=0)){switch(t.beginPath(),p){default:r?t.ellipse(i,o,r/2,g,0,0,gi):t.arc(i,o,g,0,gi),t.closePath();break;case"triangle":h=r?r/2:g,t.moveTo(i+Math.sin(m)*h,o-Math.cos(m)*g),m+=Ci,t.lineTo(i+Math.sin(m)*h,o-Math.cos(m)*g),m+=Ci,t.lineTo(i+Math.sin(m)*h,o-Math.cos(m)*g),t.closePath();break;case"rectRounded":u=.516*g,l=g-u,a=Math.cos(m+wi)*l,c=Math.cos(m+wi)*(r?r/2-u:l),s=Math.sin(m+wi)*l,d=Math.sin(m+wi)*(r?r/2-u:l),t.arc(i-c,o-s,u,m-bi,m-vi),t.arc(i+d,o-a,u,m-vi,m),t.arc(i+c,o+s,u,m,m+vi),t.arc(i-d,o+a,u,m+vi,m+bi),t.closePath();break;case"rect":if(!b){l=Math.SQRT1_2*g,h=r?r/2:l,t.rect(i-h,o-l,2*h,2*l);break}m+=wi;case"rectRot":c=Math.cos(m)*(r?r/2:g),a=Math.cos(m)*g,s=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),t.moveTo(i-c,o-s),t.lineTo(i+d,o-a),t.lineTo(i+c,o+s),t.lineTo(i-d,o+a),t.closePath();break;case"crossRot":m+=wi;case"cross":c=Math.cos(m)*(r?r/2:g),a=Math.cos(m)*g,s=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),t.moveTo(i-c,o-s),t.lineTo(i+c,o+s),t.moveTo(i+d,o-a),t.lineTo(i-d,o+a);break;case"star":c=Math.cos(m)*(r?r/2:g),a=Math.cos(m)*g,s=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),t.moveTo(i-c,o-s),t.lineTo(i+c,o+s),t.moveTo(i+d,o-a),t.lineTo(i-d,o+a),m+=wi,c=Math.cos(m)*(r?r/2:g),a=Math.cos(m)*g,s=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),t.moveTo(i-c,o-s),t.lineTo(i+c,o+s),t.moveTo(i+d,o-a),t.lineTo(i-d,o+a);break;case"line":a=r?r/2:Math.cos(m)*g,s=Math.sin(m)*g,t.moveTo(i-a,o-s),t.lineTo(i+a,o+s);break;case"dash":t.moveTo(i,o),t.lineTo(i+Math.cos(m)*(r?r/2:g),o+Math.sin(m)*g);break;case!1:t.closePath()}t.fill(),e.borderWidth>0&&t.stroke()}}function fo(t,e,i){return i=i||.5,!e||t&&t.x>e.left-i&&t.x<e.right+i&&t.y>e.top-i&&t.y<e.bottom+i}function vo(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function wo(t){t.restore()}function Co(t,e,i,o,r){if(r.strikethrough||r.underline){const n=t.measureText(o),a=e-n.actualBoundingBoxLeft,s=e+n.actualBoundingBoxRight,l=i-n.actualBoundingBoxAscent,u=i+n.actualBoundingBoxDescent,h=r.strikethrough?(l+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(a,h),t.lineTo(s,h),t.stroke()}}function yo(t,e){const i=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=i}function xo(t,e,i,o,r,n={}){const a=$e(e)?e:[e],s=n.strokeWidth>0&&""!==n.strokeColor;let l,u;for(t.save(),t.font=r.string,function(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),qe(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}(t,n),l=0;l<a.length;++l)u=a[l],n.backdrop&&yo(t,n.backdrop),s&&(n.strokeColor&&(t.strokeStyle=n.strokeColor),qe(n.strokeWidth)||(t.lineWidth=n.strokeWidth),t.strokeText(u,i,o,n.maxWidth)),t.fillText(u,i,o,n.maxWidth),Co(t,i,o,u,n),o+=Number(r.lineHeight);t.restore()}function Ao(t,e){const{x:i,y:o,w:r,h:n,radius:a}=e;t.arc(i+a.topLeft,o+a.topLeft,a.topLeft,1.5*bi,bi,!0),t.lineTo(i,o+n-a.bottomLeft),t.arc(i+a.bottomLeft,o+n-a.bottomLeft,a.bottomLeft,bi,vi,!0),t.lineTo(i+r-a.bottomRight,o+n),t.arc(i+r-a.bottomRight,o+n-a.bottomRight,a.bottomRight,vi,0,!0),t.lineTo(i+r,o+a.topRight),t.arc(i+r-a.topRight,o+a.topRight,a.topRight,0,-vi,!0),t.lineTo(i+a.topLeft,o)}const Eo=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,ko=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Bo(t,e){const i=(""+t).match(Eo);if(!i||"normal"===i[1])return 1.2*e;switch(t=+i[2],i[3]){case"px":return t;case"%":t/=100}return e*t}function _o(t,e){const i={},o=Ye(e),r=o?Object.keys(e):e,n=Ye(t)?o?i=>Qe(t[i],t[e[i]]):e=>t[e]:()=>t;for(const t of r)i[t]=+n(t)||0;return i}function Ro(t){return _o(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Mo(t){return _o(t,["topLeft","topRight","bottomLeft","bottomRight"])}function So(t){const e=Ro(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function To(t,e){t=t||{},e=e||ho.font;let i=Qe(t.size,e.size);"string"==typeof i&&(i=parseInt(i,10));let o=Qe(t.style,e.style);o&&!(""+o).match(ko)&&(o=void 0);const r={family:Qe(t.family,e.family),lineHeight:Bo(Qe(t.lineHeight,e.lineHeight),i),size:i,style:o,weight:Qe(t.weight,e.weight),string:""};return r.string=function(t){return!t||qe(t.size)||qe(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(r),r}function zo(t,e,i,o){let r,n,a,s=!0;for(r=0,n=t.length;r<n;++r)if(a=t[r],void 0!==a&&(void 0!==e&&"function"==typeof a&&(a=a(e),s=!1),void 0!==i&&$e(a)&&(a=a[i%a.length],s=!1),void 0!==a))return o&&!s&&(o.cacheable=!1),a}function Do(t,e){return Object.assign(Object.create(t),e)}function Lo(t,e=[""],i,o,r=()=>t[0]){const n=i||t;void 0===o&&(o=Uo("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:n,_fallback:o,_getTarget:r,override:i=>Lo([i,...t],e,n,o)};return new Proxy(a,{deleteProperty(e,i){return delete e[i],delete e._keys,delete t[0][i],!0},get(i,o){return Io(i,o,(()=>function(t,e,i,o){let r;for(const n of e)if(r=Uo(Oo(n,t),i),void 0!==r)return Ho(t,r)?jo(i,o,t,r):r}(o,e,t,i)))},getOwnPropertyDescriptor(t,e){return Reflect.getOwnPropertyDescriptor(t._scopes[0],e)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(t,e){return qo(t).includes(e)},ownKeys(t){return qo(t)},set(t,e,i){const o=t._storage||(t._storage=r());return t[e]=o[e]=i,delete t._keys,!0}})}function Po(t,e,i,o){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:i,_stack:new Set,_descriptors:Fo(t,o),setContext:e=>Po(t,e,i,o),override:r=>Po(t.override(r),e,i,o)};return new Proxy(r,{deleteProperty(e,i){return delete e[i],delete t[i],!0},get(t,e,i){return Io(t,e,(()=>function(t,e,i){const{_proxy:o,_context:r,_subProxy:n,_descriptors:a}=t;let s=o[e];di(s)&&a.isScriptable(e)&&(s=function(t,e,i,o){const{_proxy:r,_context:n,_subProxy:a,_stack:s}=i;if(s.has(t))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+t);s.add(t);let l=e(n,a||o);s.delete(t),Ho(t,l)&&(l=jo(r._scopes,r,t,l));return l}(e,s,t,i));$e(s)&&s.length&&(s=function(t,e,i,o){const{_proxy:r,_context:n,_subProxy:a,_descriptors:s}=i;if(void 0!==n.index&&o(t))return e[n.index%e.length];if(Ye(e[0])){const i=e,o=r._scopes.filter((t=>t!==i));e=[];for(const l of i){const i=jo(o,r,t,l);e.push(Po(i,n,a&&a[t],s))}}return e}(e,s,t,a.isIndexable));Ho(e,s)&&(s=Po(s,r,n&&n[e],a));return s}(t,e,i)))},getOwnPropertyDescriptor(e,i){return e._descriptors.allKeys?Reflect.has(t,i)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,i)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(e,i){return Reflect.has(t,i)},ownKeys(){return Reflect.ownKeys(t)},set(e,i,o){return t[i]=o,delete e[i],!0}})}function Fo(t,e={scriptable:!0,indexable:!0}){const{_scriptable:i=e.scriptable,_indexable:o=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:i,indexable:o,isScriptable:di(i)?i:()=>i,isIndexable:di(o)?o:()=>o}}const Oo=(t,e)=>t?t+hi(e):e,Ho=(t,e)=>Ye(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function Io(t,e,i){if(Object.prototype.hasOwnProperty.call(t,e)||"constructor"===e)return t[e];const o=i();return t[e]=o,o}function No(t,e,i){return di(t)?t(e,i):t}const Vo=(t,e)=>!0===t?e:"string"==typeof t?ui(e,t):void 0;function Wo(t,e,i,o,r){for(const n of e){const e=Vo(i,n);if(e){t.add(e);const n=No(e._fallback,i,r);if(void 0!==n&&n!==i&&n!==o)return n}else if(!1===e&&void 0!==o&&i!==o)return null}return!1}function jo(t,e,i,o){const r=e._rootScopes,n=No(e._fallback,i,o),a=[...t,...r],s=new Set;s.add(o);let l=Go(s,a,i,n||i,o);return null!==l&&((void 0===n||n===i||(l=Go(s,a,n,l,o),null!==l))&&Lo(Array.from(s),[""],r,n,(()=>function(t,e,i){const o=t._getTarget();e in o||(o[e]={});const r=o[e];if($e(r)&&Ye(i))return i;return r||{}}(e,i,o))))}function Go(t,e,i,o,r){for(;i;)i=Wo(t,e,i,o,r);return i}function Uo(t,e){for(const i of e){if(!i)continue;const e=i[t];if(void 0!==e)return e}}function qo(t){let e=t._keys;return e||(e=t._keys=function(t){const e=new Set;for(const i of t)for(const t of Object.keys(i).filter((t=>!t.startsWith("_"))))e.add(t);return Array.from(e)}(t._scopes)),e}Number.EPSILON;function $o(){return"undefined"!=typeof window&&"undefined"!=typeof document}function Yo(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function Xo(t,e,i){let o;return"string"==typeof t?(o=parseInt(t,10),-1!==t.indexOf("%")&&(o=o/100*e.parentNode[i])):o=t,o}const Ko=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);const Qo=["top","right","bottom","left"];function Jo(t,e,i){const o={};i=i?"-"+i:"";for(let r=0;r<4;r++){const n=Qo[r];o[n]=parseFloat(t[e+"-"+n+i])||0}return o.width=o.left+o.right,o.height=o.top+o.bottom,o}function Zo(t,e){if("native"in t)return t;const{canvas:i,currentDevicePixelRatio:o}=e,r=Ko(i),n="border-box"===r.boxSizing,a=Jo(r,"padding"),s=Jo(r,"border","width"),{x:l,y:u,box:h}=function(t,e){const i=t.touches,o=i&&i.length?i[0]:t,{offsetX:r,offsetY:n}=o;let a,s,l=!1;if(((t,e,i)=>(t>0||e>0)&&(!i||!i.shadowRoot))(r,n,t.target))a=r,s=n;else{const t=e.getBoundingClientRect();a=o.clientX-t.left,s=o.clientY-t.top,l=!0}return{x:a,y:s,box:l}}(t,i),c=a.left+(h&&s.left),d=a.top+(h&&s.top);let{width:p,height:b}=e;return n&&(p-=a.width+s.width,b-=a.height+s.height),{x:Math.round((l-c)/p*i.width/o),y:Math.round((u-d)/b*i.height/o)}}const tr=t=>Math.round(10*t)/10;function er(t,e,i,o){const r=Ko(t),n=Jo(r,"margin"),a=Xo(r.maxWidth,t,"clientWidth")||mi,s=Xo(r.maxHeight,t,"clientHeight")||mi,l=function(t,e,i){let o,r;if(void 0===e||void 0===i){const n=t&&Yo(t);if(n){const t=n.getBoundingClientRect(),a=Ko(n),s=Jo(a,"border","width"),l=Jo(a,"padding");e=t.width-l.width-s.width,i=t.height-l.height-s.height,o=Xo(a.maxWidth,n,"clientWidth"),r=Xo(a.maxHeight,n,"clientHeight")}else e=t.clientWidth,i=t.clientHeight}return{width:e,height:i,maxWidth:o||mi,maxHeight:r||mi}}(t,e,i);let{width:u,height:h}=l;if("content-box"===r.boxSizing){const t=Jo(r,"border","width"),e=Jo(r,"padding");u-=e.width+t.width,h-=e.height+t.height}u=Math.max(0,u-n.width),h=Math.max(0,o?u/o:h-n.height),u=tr(Math.min(u,a,l.maxWidth)),h=tr(Math.min(h,s,l.maxHeight)),u&&!h&&(h=tr(u/2));return(void 0!==e||void 0!==i)&&o&&l.height&&h>l.height&&(h=l.height,u=tr(Math.floor(h*o))),{width:u,height:h}}function ir(t,e,i){const o=e||1,r=Math.floor(t.height*o),n=Math.floor(t.width*o);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(i||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),(t.currentDevicePixelRatio!==o||a.height!==r||a.width!==n)&&(t.currentDevicePixelRatio=o,a.height=r,a.width=n,t.ctx.setTransform(o,0,0,o,0,0),!0)}const or=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};$o()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch(t){}return t}();function rr(t,e){const i=function(t,e){return Ko(t).getPropertyValue(e)}(t,e),o=i&&i.match(/^(\d+)(\.\d+)?px$/);return o?+o[1]:void 0}function nr(t,e,i){return t?function(t,e){return{x(i){return t+t+e-i},setWidth(t){e=t},textAlign(t){return"center"===t?t:"right"===t?"left":"right"},xPlus(t,e){return t-e},leftForLtr(t,e){return t-e}}}(e,i):{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}}function ar(t,e){let i,o;"ltr"!==e&&"rtl"!==e||(i=t.canvas.style,o=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",e,"important"),t.prevTextDirection=o)}function sr(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}class lr{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,o){const r=e.listeners[o],n=e.duration;r.forEach((o=>o({chart:t,initial:e.initial,numSteps:n,currentStep:Math.min(i-e.start,n)})))}_refresh(){this._request||(this._running=!0,this._request=Wi.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(t=Date.now()){let e=0;this._charts.forEach(((i,o)=>{if(!i.running||!i.items.length)return;const r=i.items;let n,a=r.length-1,s=!1;for(;a>=0;--a)n=r[a],n._active?(n._total>i.duration&&(i.duration=n._total),n.tick(t),s=!0):(r[a]=r[r.length-1],r.pop());s&&(o.draw(),this._notify(o,i,t,"progress")),r.length||(i.running=!1,this._notify(o,i,t,"complete"),i.initial=!1),e+=r.length})),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce(((t,e)=>Math.max(t,e._duration)),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let o=i.length-1;for(;o>=0;--o)i[o].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var ur=new lr;const hr="transparent",cr={boolean(t,e,i){return i>.5?e:t},color(t,e,i){const o=Qi(t||hr),r=o.valid&&Qi(e||hr);return r&&r.valid?r.mix(o,i).hexString():e},number(t,e,i){return t+(e-t)*i}};class dr{constructor(t,e,i,o){const r=e[i];o=zo([t.to,o,r,t.from]);const n=zo([t.from,r,o]);this._active=!0,this._fn=t.fn||cr[t.type||typeof n],this._easing=Xi[t.easing]||Xi.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=n,this._to=o,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const o=this._target[this._prop],r=i-this._start,n=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(n,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=zo([t.to,e,o,t.from]),this._from=zo([t.from,o,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,o=this._prop,r=this._from,n=this._loop,a=this._to;let s;if(this._active=r!==a&&(n||e<i),!this._active)return this._target[o]=a,void this._notify(!0);e<0?this._target[o]=r:(s=e/i%2,s=n&&s>1?2-s:s,s=this._easing(Math.min(1,Math.max(0,s))),this._target[o]=this._fn(r,a,s))}wait(){const t=this._promises||(this._promises=[]);return new Promise(((e,i)=>{t.push({res:e,rej:i})}))}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let t=0;t<i.length;t++)i[t][e]()}}class pr{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Ye(t))return;const e=Object.keys(ho.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach((o=>{const r=t[o];if(!Ye(r))return;const n={};for(const t of e)n[t]=r[t];($e(r.properties)&&r.properties||[o]).forEach((t=>{t!==o&&i.has(t)||i.set(t,n)}))}))}_animateOptions(t,e){const i=e.options,o=function(t,e){if(!e)return;let i=t.options;if(!i)return void(t.options=e);i.$shared&&(t.options=i=Object.assign({},i,{$shared:!1,$animations:{}}));return i}(t,i);if(!o)return[];const r=this._createAnimations(o,i);return i.$shared&&function(t,e){const i=[],o=Object.keys(e);for(let e=0;e<o.length;e++){const r=t[o[e]];r&&r.active()&&i.push(r.wait())}return Promise.all(i)}(t.options.$animations,i).then((()=>{t.options=i}),(()=>{})),r}_createAnimations(t,e){const i=this._properties,o=[],r=t.$animations||(t.$animations={}),n=Object.keys(e),a=Date.now();let s;for(s=n.length-1;s>=0;--s){const l=n[s];if("$"===l.charAt(0))continue;if("options"===l){o.push(...this._animateOptions(t,e));continue}const u=e[l];let h=r[l];const c=i.get(l);if(h){if(c&&h.active()){h.update(c,u,a);continue}h.cancel()}c&&c.duration?(r[l]=h=new dr(c,t,l,u),o.push(h)):t[l]=u}return o}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const i=this._createAnimations(t,e);return i.length?(ur.add(this._chart,i),!0):void 0}}function br(t,e){const i=t&&t.options||{},o=i.reverse,r=void 0===i.min?e:0,n=void 0===i.max?e:0;return{start:o?n:r,end:o?r:n}}function gr(t,e){const i=[],o=t._getSortedDatasetMetas(e);let r,n;for(r=0,n=o.length;r<n;++r)i.push(o[r].index);return i}function mr(t,e,i,o={}){const r=t.keys,n="single"===o.mode;let a,s,l,u;if(null===e)return;let h=!1;for(a=0,s=r.length;a<s;++a){if(l=+r[a],l===i){if(h=!0,o.all)continue;break}u=t.values[l],Xe(u)&&(n||0===e||xi(e)===xi(u))&&(e+=u)}return h||o.all?e:0}function fr(t,e){const i=t&&t.options.stacked;return i||void 0===i&&void 0!==e.stack}function vr(t,e,i){const o=t[e]||(t[e]={});return o[i]||(o[i]={})}function wr(t,e,i,o){for(const r of e.getMatchingVisibleMetas(o).reverse()){const e=t[r.index];if(i&&e>0||!i&&e<0)return r.index}return null}function Cr(t,e){const{chart:i,_cachedMeta:o}=t,r=i._stacks||(i._stacks={}),{iScale:n,vScale:a,index:s}=o,l=n.axis,u=a.axis,h=function(t,e,i){return`${t.id}.${e.id}.${i.stack||i.type}`}(n,a,o),c=e.length;let d;for(let t=0;t<c;++t){const i=e[t],{[l]:n,[u]:c}=i;d=(i._stacks||(i._stacks={}))[u]=vr(r,h,n),d[s]=c,d._top=wr(d,a,!0,o.type),d._bottom=wr(d,a,!1,o.type);(d._visualValues||(d._visualValues={}))[s]=c}}function yr(t,e){const i=t.scales;return Object.keys(i).filter((t=>i[t].axis===e)).shift()}function xr(t,e){const i=t.controller.index,o=t.vScale&&t.vScale.axis;if(o){e=e||t._parsed;for(const t of e){const e=t._stacks;if(!e||void 0===e[o]||void 0===e[o][i])return;delete e[o][i],void 0!==e[o]._visualValues&&void 0!==e[o]._visualValues[i]&&delete e[o]._visualValues[i]}}}const Ar=t=>"reset"===t||"none"===t,Er=(t,e)=>e?t:Object.assign({},t);class kr{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=fr(t.vScale,t),this.addElements(),this.options.fill&&this.chart.isPluginEnabled("filler")}updateIndex(t){this.index!==t&&xr(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),o=(t,e,i,o)=>"x"===t?e:"r"===t?o:i,r=e.xAxisID=Qe(i.xAxisID,yr(t,"x")),n=e.yAxisID=Qe(i.yAxisID,yr(t,"y")),a=e.rAxisID=Qe(i.rAxisID,yr(t,"r")),s=e.indexAxis,l=e.iAxisID=o(s,r,n,a),u=e.vAxisID=o(s,n,r,a);e.xScale=this.getScaleForId(r),e.yScale=this.getScaleForId(n),e.rScale=this.getScaleForId(a),e.iScale=this.getScaleForId(l),e.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Ni(this._data,this),t._stacked&&xr(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Ye(e)){const t=this._cachedMeta;this._data=function(t,e){const{iScale:i,vScale:o}=e,r="x"===i.axis?"x":"y",n="x"===o.axis?"x":"y",a=Object.keys(t),s=new Array(a.length);let l,u,h;for(l=0,u=a.length;l<u;++l)h=a[l],s[l]={[r]:h,[n]:t[h]};return s}(e,t)}else if(i!==e){if(i){Ni(i,this);const t=this._cachedMeta;xr(t),t._parsed=[]}e&&Object.isExtensible(e)&&function(t,e){t._chartjs?t._chartjs.listeners.push(e):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Ii.forEach((e=>{const i="_onData"+hi(e),o=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value(...e){const r=o.apply(this,e);return t._chartjs.listeners.forEach((t=>{"function"==typeof t[i]&&t[i](...e)})),r}})})))}(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let o=!1;this._dataCheck();const r=e._stacked;e._stacked=fr(e.vScale,e),e.stack!==i.stack&&(o=!0,xr(e),e.stack=i.stack),this._resyncElements(t),(o||r!==e._stacked)&&(Cr(this,e._parsed),e._stacked=fr(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:o}=this,{iScale:r,_stacked:n}=i,a=r.axis;let s,l,u,h=0===t&&e===o.length||i._sorted,c=t>0&&i._parsed[t-1];if(!1===this._parsing)i._parsed=o,i._sorted=!0,u=o;else{u=$e(o[t])?this.parseArrayData(i,o,t,e):Ye(o[t])?this.parseObjectData(i,o,t,e):this.parsePrimitiveData(i,o,t,e);const r=()=>null===l[a]||c&&l[a]<c[a];for(s=0;s<e;++s)i._parsed[s+t]=l=u[s],h&&(r()&&(h=!1),c=l);i._sorted=h}n&&Cr(this,u)}parsePrimitiveData(t,e,i,o){const{iScale:r,vScale:n}=t,a=r.axis,s=n.axis,l=r.getLabels(),u=r===n,h=new Array(o);let c,d,p;for(c=0,d=o;c<d;++c)p=c+i,h[c]={[a]:u||r.parse(l[p],p),[s]:n.parse(e[p],p)};return h}parseArrayData(t,e,i,o){const{xScale:r,yScale:n}=t,a=new Array(o);let s,l,u,h;for(s=0,l=o;s<l;++s)u=s+i,h=e[u],a[s]={x:r.parse(h[0],u),y:n.parse(h[1],u)};return a}parseObjectData(t,e,i,o){const{xScale:r,yScale:n}=t,{xAxisKey:a="x",yAxisKey:s="y"}=this._parsing,l=new Array(o);let u,h,c,d;for(u=0,h=o;u<h;++u)c=u+i,d=e[c],l[u]={x:r.parse(ui(d,a),c),y:n.parse(ui(d,s),c)};return l}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const o=this.chart,r=this._cachedMeta,n=e[t.axis];return mr({keys:gr(o,!0),values:e._stacks[t.axis]._visualValues},n,r.index,{mode:i})}updateRangeFromParsed(t,e,i,o){const r=i[e.axis];let n=null===r?NaN:r;const a=o&&i._stacks[e.axis];o&&a&&(o.values=a,n=mr(o,r,this._cachedMeta.index)),t.min=Math.min(t.min,n),t.max=Math.max(t.max,n)}getMinMax(t,e){const i=this._cachedMeta,o=i._parsed,r=i._sorted&&t===i.iScale,n=o.length,a=this._getOtherScale(t),s=((t,e,i)=>t&&!e.hidden&&e._stacked&&{keys:gr(i,!0),values:null})(e,i,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=function(t){const{min:e,max:i,minDefined:o,maxDefined:r}=t.getUserBounds();return{min:o?e:Number.NEGATIVE_INFINITY,max:r?i:Number.POSITIVE_INFINITY}}(a);let c,d;function p(){d=o[c];const e=d[a.axis];return!Xe(d[t.axis])||u>e||h<e}for(c=0;c<n&&(p()||(this.updateRangeFromParsed(l,t,d,s),!r));++c);if(r)for(c=n-1;c>=0;--c)if(!p()){this.updateRangeFromParsed(l,t,d,s);break}return l}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let o,r,n;for(o=0,r=e.length;o<r;++o)n=e[o][t.axis],Xe(n)&&i.push(n);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,o=e.vScale,r=this.getParsed(t);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:o?""+o.getLabelForValue(r[o.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=function(t){let e,i,o,r;return Ye(t)?(e=t.top,i=t.right,o=t.bottom,r=t.left):e=i=o=r=t,{top:e,right:i,bottom:o,left:r,disabled:!1===t}}(Qe(this.options.clip,function(t,e,i){if(!1===i)return!1;const o=br(t,i),r=br(e,i);return{top:r.end,right:o.end,bottom:r.start,left:o.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,o=i.data||[],r=e.chartArea,n=[],a=this._drawStart||0,s=this._drawCount||o.length-a,l=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(t,r,a,s),u=a;u<a+s;++u){const e=o[u];e.hidden||(e.active&&l?n.push(e):e.draw(t,r))}for(u=0;u<n.length;++u)n[u].draw(t,r)}getStyle(t,e){const i=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const o=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const e=this._cachedMeta.data[t];r=e.$context||(e.$context=function(t,e,i){return Do(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:i,index:e,mode:"default",type:"data"})}(this.getContext(),t,e)),r.parsed=this.getParsed(t),r.raw=o.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=function(t,e){return Do(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),r.dataset=o,r.index=r.datasetIndex=this.index;return r.active=!!e,r.mode=i,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const o="active"===e,r=this._cachedDataOpts,n=t+"-"+e,a=r[n],s=this.enableOptionSharing&&ci(i);if(a)return Er(a,s);const l=this.chart.config,u=l.datasetElementScopeKeys(this._type,t),h=o?[`${t}Hover`,"hover",t,""]:[t,""],c=l.getOptionScopes(this.getDataset(),u),d=Object.keys(ho.elements[t]),p=l.resolveNamedOptions(c,d,(()=>this.getContext(i,o,e)),h);return p.$shared&&(p.$shared=s,r[n]=Object.freeze(Er(p,s))),p}_resolveAnimations(t,e,i){const o=this.chart,r=this._cachedDataOpts,n=`animation-${e}`,a=r[n];if(a)return a;let s;if(!1!==o.options.animation){const o=this.chart.config,r=o.datasetAnimationScopeKeys(this._type,e),n=o.getOptionScopes(this.getDataset(),r);s=o.createResolver(n,this.getContext(t,i,e))}const l=new pr(o,s&&s.animations);return s&&s._cacheable&&(r[n]=Object.freeze(l)),l}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Ar(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),o=this._sharedOptions,r=this.getSharedOptions(i),n=this.includeOptions(e,r)||r!==o;return this.updateSharedOptions(r,e,i),{sharedOptions:r,includeOptions:n}}updateElement(t,e,i,o){Ar(o)?Object.assign(t,i):this._resolveAnimations(e,o).update(t,i)}updateSharedOptions(t,e,i){t&&!Ar(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,o){t.active=o;const r=this.getStyle(e,o);this._resolveAnimations(e,i,o).update(t,{options:!o&&this.getSharedOptions(r)||r})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[t,e,i]of this._syncList)this[t](e,i);this._syncList=[];const o=i.length,r=e.length,n=Math.min(r,o);n&&this.parse(0,n),r>o?this._insertElements(o,r-o,t):r<o&&this._removeElements(r,o-r)}_insertElements(t,e,i=!0){const o=this._cachedMeta,r=o.data,n=t+e;let a;const s=t=>{for(t.length+=e,a=t.length-1;a>=n;a--)t[a]=t[a-e]};for(s(r),a=t;a<n;++a)r[a]=new this.dataElementType;this._parsing&&s(o._parsed),this.parse(t,e),i&&this.updateElements(r,t,e,"reset")}updateElements(t,e,i,o){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const o=i._parsed.splice(t,e);i._stacked&&xr(i,o)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,o]=t;this[e](i,o)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Br(t){const e=t.iScale,i=function(t,e){if(!t._cache.$bar){const i=t.getMatchingVisibleMetas(e);let o=[];for(let e=0,r=i.length;e<r;e++)o=o.concat(i[e].controller.getAllParsedValues(t));t._cache.$bar=Vi(o.sort(((t,e)=>t-e)))}return t._cache.$bar}(e,t.type);let o,r,n,a,s=e._length;const l=()=>{32767!==n&&-32768!==n&&(ci(a)&&(s=Math.min(s,Math.abs(n-a)||s)),a=n)};for(o=0,r=i.length;o<r;++o)n=e.getPixelForValue(i[o]),l();for(a=void 0,o=0,r=e.ticks.length;o<r;++o)n=e.getPixelForTick(o),l();return s}function _r(t,e,i,o){return $e(t)?function(t,e,i,o){const r=i.parse(t[0],o),n=i.parse(t[1],o),a=Math.min(r,n),s=Math.max(r,n);let l=a,u=s;Math.abs(a)>Math.abs(s)&&(l=s,u=a),e[i.axis]=u,e._custom={barStart:l,barEnd:u,start:r,end:n,min:a,max:s}}(t,e,i,o):e[i.axis]=i.parse(t,o),e}function Rr(t,e,i,o){const r=t.iScale,n=t.vScale,a=r.getLabels(),s=r===n,l=[];let u,h,c,d;for(u=i,h=i+o;u<h;++u)d=e[u],c={},c[r.axis]=s||r.parse(a[u],u),l.push(_r(d,c,n,u));return l}function Mr(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function Sr(t,e,i,o){let r=e.borderSkipped;const n={};if(!r)return void(t.borderSkipped=n);if(!0===r)return void(t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:a,end:s,reverse:l,top:u,bottom:h}=function(t){let e,i,o,r,n;return t.horizontal?(e=t.base>t.x,i="left",o="right"):(e=t.base<t.y,i="bottom",o="top"),e?(r="end",n="start"):(r="start",n="end"),{start:i,end:o,reverse:e,top:r,bottom:n}}(t);"middle"===r&&i&&(t.enableBorderRadius=!0,(i._top||0)===o?r=u:(i._bottom||0)===o?r=h:(n[Tr(h,a,s,l)]=!0,r=u)),n[Tr(r,a,s,l)]=!0,t.borderSkipped=n}function Tr(t,e,i,o){var r,n,a;return o?(a=i,t=zr(t=(r=t)===(n=e)?a:r===a?n:r,i,e)):t=zr(t,e,i),t}function zr(t,e,i){return"start"===t?e:"end"===t?i:t}function Dr(t,{inflateAmount:e},i){t.inflateAmount="auto"===e?1===i?.33:0:e}class Lr extends kr{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,o){return Rr(t,e,i,o)}parseArrayData(t,e,i,o){return Rr(t,e,i,o)}parseObjectData(t,e,i,o){const{iScale:r,vScale:n}=t,{xAxisKey:a="x",yAxisKey:s="y"}=this._parsing,l="x"===r.axis?a:s,u="x"===n.axis?a:s,h=[];let c,d,p,b;for(c=i,d=i+o;c<d;++c)b=e[c],p={},p[r.axis]=r.parse(ui(b,l),c),h.push(_r(ui(b,u),p,n,c));return h}updateRangeFromParsed(t,e,i,o){super.updateRangeFromParsed(t,e,i,o);const r=i._custom;r&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:o}=e,r=this.getParsed(t),n=r._custom,a=Mr(n)?"["+n.start+", "+n.end+"]":""+o.getLabelForValue(r[o.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,o){const r="reset"===o,{index:n,_cachedMeta:{vScale:a}}=this,s=a.getBasePixel(),l=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:c}=this._getSharedOptions(e,o);for(let d=e;d<e+i;d++){const e=this.getParsed(d),i=r||qe(e[a.axis])?{base:s,head:s}:this._calculateBarValuePixels(d),p=this._calculateBarIndexPixels(d,u),b=(e._stacks||{})[a.axis],g={horizontal:l,base:i.base,enableBorderRadius:!b||Mr(e._custom)||n===b._top||n===b._bottom,x:l?i.head:p.center,y:l?p.center:i.head,height:l?p.size:Math.abs(i.size),width:l?Math.abs(i.size):p.size};c&&(g.options=h||this.resolveDataElementOptions(d,t[d].active?"active":o));const m=g.options||t[d].options;Sr(g,m,b,n),Dr(g,m,u.ratio),this.updateElement(t[d],d,g,o)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,o=i.getMatchingVisibleMetas(this._type).filter((t=>t.controller.options.grouped)),r=i.options.stacked,n=[],a=this._cachedMeta.controller.getParsed(e),s=a&&a[i.axis],l=t=>{const e=t._parsed.find((t=>t[i.axis]===s)),o=e&&e[t.vScale.axis];if(qe(o)||isNaN(o))return!0};for(const i of o)if((void 0===e||!l(i))&&((!1===r||-1===n.indexOf(i.stack)||void 0===r&&void 0===i.stack)&&n.push(i.stack),i.index===t))break;return n.length||n.push(void 0),n}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,i){const o=this._getStacks(t,i),r=void 0!==e?o.indexOf(e):-1;return-1===r?o.length-1:r}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,o=[];let r,n;for(r=0,n=e.data.length;r<n;++r)o.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const a=t.barThickness;return{min:a||Br(e),pixels:o,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:o},options:{base:r,minBarLength:n}}=this,a=r||0,s=this.getParsed(t),l=s._custom,u=Mr(l);let h,c,d=s[e.axis],p=0,b=i?this.applyStack(e,s,i):d;b!==d&&(p=b-d,b=d),u&&(d=l.barStart,b=l.barEnd-l.barStart,0!==d&&xi(d)!==xi(l.barEnd)&&(p=0),p+=d);const g=qe(r)||u?p:r;let m=e.getPixelForValue(g);if(h=this.chart.getDataVisibility(t)?e.getPixelForValue(p+b):m,c=h-m,Math.abs(c)<n){c=function(t,e,i){return 0!==t?xi(t):(e.isHorizontal()?1:-1)*(e.min>=i?1:-1)}(c,e,a)*n,d===a&&(m-=c/2);const t=e.getPixelForDecimal(0),r=e.getPixelForDecimal(1),l=Math.min(t,r),p=Math.max(t,r);m=Math.max(Math.min(m,p),l),h=m+c,i&&!u&&(s._stacks[e.axis]._visualValues[o]=e.getValueForPixel(h)-e.getValueForPixel(m))}if(m===e.getPixelForValue(a)){const t=xi(c)*e.getLineWidthForValue(a)/2;m+=t,c-=t}return{size:c,base:m,head:h,center:h+c/2}}_calculateBarIndexPixels(t,e){const i=e.scale,o=this.options,r=o.skipNull,n=Qe(o.maxBarThickness,1/0);let a,s;if(e.grouped){const i=r?this._getStackCount(t):e.stackCount,l="flex"===o.barThickness?function(t,e,i,o){const r=e.pixels,n=r[t];let a=t>0?r[t-1]:null,s=t<r.length-1?r[t+1]:null;const l=i.categoryPercentage;null===a&&(a=n-(null===s?e.end-e.start:s-n)),null===s&&(s=n+n-a);const u=n-(n-Math.min(a,s))/2*l;return{chunk:Math.abs(s-a)/2*l/o,ratio:i.barPercentage,start:u}}(t,e,o,i):function(t,e,i,o){const r=i.barThickness;let n,a;return qe(r)?(n=e.min*i.categoryPercentage,a=i.barPercentage):(n=r*o,a=1),{chunk:n/o,ratio:a,start:e.pixels[t]-n/2}}(t,e,o,i),u=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0);a=l.start+l.chunk*u+l.chunk/2,s=Math.min(n,l.chunk*l.ratio)}else a=i.getPixelForValue(this.getParsed(t)[i.axis],t),s=Math.min(n,e.min*e.ratio);return{base:a-s/2,head:a+s/2,center:a,size:s}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,o=i.length;let r=0;for(;r<o;++r)null===this.getParsed(r)[e.axis]||i[r].hidden||i[r].draw(this._ctx)}}class Pr extends kr{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:o}}=t.legend.options;return e.labels.map(((e,r)=>{const n=t.getDatasetMeta(0).controller.getStyle(r);return{text:e,fillStyle:n.backgroundColor,strokeStyle:n.borderColor,fontColor:o,lineWidth:n.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(r),index:r}}))}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,o=this._cachedMeta;if(!1===this._parsing)o._parsed=i;else{let r,n,a=t=>+i[t];if(Ye(i[t])){const{key:t="value"}=this._parsing;a=e=>+ui(i[e],t)}for(r=t,n=t+e;r<n;++r)o._parsed[r]=a(r)}}_getRotation(){return _i(this.options.rotation-90)}_getCircumference(){return _i(this.options.circumference)}_getRotationExtents(){let t=gi,e=-gi;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const o=this.chart.getDatasetMeta(i).controller,r=o._getRotation(),n=o._getCircumference();t=Math.min(t,r),e=Math.max(e,r+n)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,o=this._cachedMeta,r=o.data,n=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-n)/2,0),s=Math.min((l=this.options.cutout,u=a,"string"==typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/u),1);var l,u;const h=this._getRingWeight(this.index),{circumference:c,rotation:d}=this._getRotationExtents(),{ratioX:p,ratioY:b,offsetX:g,offsetY:m}=function(t,e,i){let o=1,r=1,n=0,a=0;if(e<gi){const s=t,l=s+e,u=Math.cos(s),h=Math.sin(s),c=Math.cos(l),d=Math.sin(l),p=(t,e,o)=>Di(t,s,l,!0)?1:Math.max(e,e*i,o,o*i),b=(t,e,o)=>Di(t,s,l,!0)?-1:Math.min(e,e*i,o,o*i),g=p(0,u,c),m=p(vi,h,d),f=b(bi,u,c),v=b(bi+vi,h,d);o=(g-f)/2,r=(m-v)/2,n=-(g+f)/2,a=-(m+v)/2}return{ratioX:o,ratioY:r,offsetX:n,offsetY:a}}(d,c,s),f=(i.width-n)/p,v=(i.height-n)/b,w=Math.max(Math.min(f,v)/2,0),C=Je(this.options.radius,w),y=(C-Math.max(C*s,0))/this._getVisibleDatasetWeightTotal();this.offsetX=g*C,this.offsetY=m*C,o.total=this.calculateTotal(),this.outerRadius=C-y*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-y*h,0),this.updateElements(r,0,r.length,t)}_circumference(t,e){const i=this.options,o=this._cachedMeta,r=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||null===o._parsed[t]||o.data[t].hidden?0:this.calculateCircumference(o._parsed[t]*r/gi)}updateElements(t,e,i,o){const r="reset"===o,n=this.chart,a=n.chartArea,s=n.options.animation,l=(a.left+a.right)/2,u=(a.top+a.bottom)/2,h=r&&s.animateScale,c=h?0:this.innerRadius,d=h?0:this.outerRadius,{sharedOptions:p,includeOptions:b}=this._getSharedOptions(e,o);let g,m=this._getRotation();for(g=0;g<e;++g)m+=this._circumference(g,r);for(g=e;g<e+i;++g){const e=this._circumference(g,r),i=t[g],n={x:l+this.offsetX,y:u+this.offsetY,startAngle:m,endAngle:m+e,circumference:e,outerRadius:d,innerRadius:c};b&&(n.options=p||this.resolveDataElementOptions(g,i.active?"active":o)),m+=e,this.updateElement(i,g,n,o)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i,o=0;for(i=0;i<e.length;i++){const r=t._parsed[i];null===r||isNaN(r)||!this.chart.getDataVisibility(i)||e[i].hidden||(o+=Math.abs(r))}return o}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?gi*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,o=i.data.labels||[],r=io(e._parsed[t],i.options.locale);return{label:o[t]||"",value:r}}getMaxBorderWidth(t){let e=0;const i=this.chart;let o,r,n,a,s;if(!t)for(o=0,r=i.data.datasets.length;o<r;++o)if(i.isDatasetVisible(o)){n=i.getDatasetMeta(o),t=n.data,a=n.controller;break}if(!t)return 0;for(o=0,r=t.length;o<r;++o)s=a.resolveDataElementOptions(o),"inner"!==s.borderAlign&&(e=Math.max(e,s.borderWidth||0,s.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,o=t.length;i<o;++i){const t=this.resolveDataElementOptions(i);e=Math.max(e,t.offset||0,t.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Qe(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class Fr extends Pr{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function Or(t,e,i,o){const{controller:r,data:n,_sorted:a}=t,s=r._cachedMeta.iScale;if(s&&e===s.axis&&"r"!==e&&a&&n.length){const t=s._reversePixels?Hi:Oi;if(!o)return t(n,e,i);if(r._sharedOptions){const o=n[0],r="function"==typeof o.getRange&&o.getRange(e);if(r){const o=t(n,e,i-r),a=t(n,e,i+r);return{lo:o.lo,hi:a.hi}}}}return{lo:0,hi:n.length-1}}function Hr(t,e,i,o,r){const n=t.getSortedVisibleDatasetMetas(),a=i[e];for(let t=0,i=n.length;t<i;++t){const{index:i,data:s}=n[t],{lo:l,hi:u}=Or(n[t],e,a,r);for(let t=l;t<=u;++t){const e=s[t];e.skip||o(e,i,t)}}}function Ir(t,e,i,o,r){const n=[];if(!r&&!t.isPointInArea(e))return n;return Hr(t,i,e,(function(i,a,s){(r||fo(i,t.chartArea,0))&&i.inRange(e.x,e.y,o)&&n.push({element:i,datasetIndex:a,index:s})}),!0),n}function Nr(t,e,i,o,r,n){let a=[];const s=function(t){const e=-1!==t.indexOf("x"),i=-1!==t.indexOf("y");return function(t,o){const r=e?Math.abs(t.x-o.x):0,n=i?Math.abs(t.y-o.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(n,2))}}(i);let l=Number.POSITIVE_INFINITY;return Hr(t,i,e,(function(i,u,h){const c=i.inRange(e.x,e.y,r);if(o&&!c)return;const d=i.getCenterPoint(r);if(!(!!n||t.isPointInArea(d))&&!c)return;const p=s(e,d);p<l?(a=[{element:i,datasetIndex:u,index:h}],l=p):p===l&&a.push({element:i,datasetIndex:u,index:h})})),a}function Vr(t,e,i,o,r,n){return n||t.isPointInArea(e)?"r"!==i||o?Nr(t,e,i,o,r,n):function(t,e,i,o){let r=[];return Hr(t,i,e,(function(t,i,n){const{startAngle:a,endAngle:s}=t.getProps(["startAngle","endAngle"],o),{angle:l}=Si(t,{x:e.x,y:e.y});Di(l,a,s)&&r.push({element:t,datasetIndex:i,index:n})})),r}(t,e,i,r):[]}function Wr(t,e,i,o,r){const n=[],a="x"===i?"inXRange":"inYRange";let s=!1;return Hr(t,i,e,((t,o,l)=>{t[a]&&t[a](e[i],r)&&(n.push({element:t,datasetIndex:o,index:l}),s=s||t.inRange(e.x,e.y,r))})),o&&!s?[]:n}var jr={evaluateInteractionItems:Hr,modes:{index(t,e,i,o){const r=Zo(e,t),n=i.axis||"x",a=i.includeInvisible||!1,s=i.intersect?Ir(t,r,n,o,a):Vr(t,r,n,!1,o,a),l=[];return s.length?(t.getSortedVisibleDatasetMetas().forEach((t=>{const e=s[0].index,i=t.data[e];i&&!i.skip&&l.push({element:i,datasetIndex:t.index,index:e})})),l):[]},dataset(t,e,i,o){const r=Zo(e,t),n=i.axis||"xy",a=i.includeInvisible||!1;let s=i.intersect?Ir(t,r,n,o,a):Vr(t,r,n,!1,o,a);if(s.length>0){const e=s[0].datasetIndex,i=t.getDatasetMeta(e).data;s=[];for(let t=0;t<i.length;++t)s.push({element:i[t],datasetIndex:e,index:t})}return s},point(t,e,i,o){return Ir(t,Zo(e,t),i.axis||"xy",o,i.includeInvisible||!1)},nearest(t,e,i,o){const r=Zo(e,t),n=i.axis||"xy",a=i.includeInvisible||!1;return Vr(t,r,n,i.intersect,o,a)},x(t,e,i,o){return Wr(t,Zo(e,t),"x",i.intersect,o)},y(t,e,i,o){return Wr(t,Zo(e,t),"y",i.intersect,o)}}};const Gr=["left","top","right","bottom"];function Ur(t,e){return t.filter((t=>t.pos===e))}function qr(t,e){return t.filter((t=>-1===Gr.indexOf(t.pos)&&t.box.axis===e))}function $r(t,e){return t.sort(((t,i)=>{const o=e?i:t,r=e?t:i;return o.weight===r.weight?o.index-r.index:o.weight-r.weight}))}function Yr(t,e){const i=function(t){const e={};for(const i of t){const{stack:t,pos:o,stackWeight:r}=i;if(!t||!Gr.includes(o))continue;const n=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});n.count++,n.weight+=r}return e}(t),{vBoxMaxWidth:o,hBoxMaxHeight:r}=e;let n,a,s;for(n=0,a=t.length;n<a;++n){s=t[n];const{fullSize:a}=s.box,l=i[s.stack],u=l&&s.stackWeight/l.weight;s.horizontal?(s.width=u?u*o:a&&e.availableWidth,s.height=r):(s.width=o,s.height=u?u*r:a&&e.availableHeight)}return i}function Xr(t,e,i,o){return Math.max(t[i],e[i])+Math.max(t[o],e[o])}function Kr(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Qr(t,e,i,o){const{pos:r,box:n}=i,a=t.maxPadding;if(!Ye(r)){i.size&&(t[r]-=i.size);const e=o[i.stack]||{size:0,count:1};e.size=Math.max(e.size,i.horizontal?n.height:n.width),i.size=e.size/e.count,t[r]+=i.size}n.getPadding&&Kr(a,n.getPadding());const s=Math.max(0,e.outerWidth-Xr(a,t,"left","right")),l=Math.max(0,e.outerHeight-Xr(a,t,"top","bottom")),u=s!==t.w,h=l!==t.h;return t.w=s,t.h=l,i.horizontal?{same:u,other:h}:{same:h,other:u}}function Jr(t,e){const i=e.maxPadding;function o(t){const o={left:0,top:0,right:0,bottom:0};return t.forEach((t=>{o[t]=Math.max(e[t],i[t])})),o}return o(t?["left","right"]:["top","bottom"])}function Zr(t,e,i,o){const r=[];let n,a,s,l,u,h;for(n=0,a=t.length,u=0;n<a;++n){s=t[n],l=s.box,l.update(s.width||e.w,s.height||e.h,Jr(s.horizontal,e));const{same:a,other:c}=Qr(e,i,s,o);u|=a&&r.length,h=h||c,l.fullSize||r.push(s)}return u&&Zr(r,e,i,o)||h}function tn(t,e,i,o,r){t.top=i,t.left=e,t.right=e+o,t.bottom=i+r,t.width=o,t.height=r}function en(t,e,i,o){const r=i.padding;let{x:n,y:a}=e;for(const s of t){const t=s.box,l=o[s.stack]||{count:1,placed:0,weight:1},u=s.stackWeight/l.weight||1;if(s.horizontal){const o=e.w*u,n=l.size||t.height;ci(l.start)&&(a=l.start),t.fullSize?tn(t,r.left,a,i.outerWidth-r.right-r.left,n):tn(t,e.left+l.placed,a,o,n),l.start=a,l.placed+=o,a=t.bottom}else{const o=e.h*u,a=l.size||t.width;ci(l.start)&&(n=l.start),t.fullSize?tn(t,n,r.top,a,i.outerHeight-r.bottom-r.top):tn(t,n,e.top+l.placed,a,o),l.start=n,l.placed+=o,n=t.right}}e.x=n,e.y=a}var on={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const i=t.boxes?t.boxes.indexOf(e):-1;-1!==i&&t.boxes.splice(i,1)},configure(t,e,i){e.fullSize=i.fullSize,e.position=i.position,e.weight=i.weight},update(t,e,i,o){if(!t)return;const r=So(t.options.layout.padding),n=Math.max(e-r.width,0),a=Math.max(i-r.height,0),s=function(t){const e=function(t){const e=[];let i,o,r,n,a,s;for(i=0,o=(t||[]).length;i<o;++i)r=t[i],({position:n,options:{stack:a,stackWeight:s=1}}=r),e.push({index:i,box:r,pos:n,horizontal:r.isHorizontal(),weight:r.weight,stack:a&&n+a,stackWeight:s});return e}(t),i=$r(e.filter((t=>t.box.fullSize)),!0),o=$r(Ur(e,"left"),!0),r=$r(Ur(e,"right")),n=$r(Ur(e,"top"),!0),a=$r(Ur(e,"bottom")),s=qr(e,"x"),l=qr(e,"y");return{fullSize:i,leftAndTop:o.concat(n),rightAndBottom:r.concat(l).concat(a).concat(s),chartArea:Ur(e,"chartArea"),vertical:o.concat(r).concat(l),horizontal:n.concat(a).concat(s)}}(t.boxes),l=s.vertical,u=s.horizontal;ti(t.boxes,(t=>{"function"==typeof t.beforeLayout&&t.beforeLayout()}));const h=l.reduce(((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1),0)||1,c=Object.freeze({outerWidth:e,outerHeight:i,padding:r,availableWidth:n,availableHeight:a,vBoxMaxWidth:n/2/h,hBoxMaxHeight:a/2}),d=Object.assign({},r);Kr(d,So(o));const p=Object.assign({maxPadding:d,w:n,h:a,x:r.left,y:r.top},r),b=Yr(l.concat(u),c);Zr(s.fullSize,p,c,b),Zr(l,p,c,b),Zr(u,p,c,b)&&Zr(l,p,c,b),function(t){const e=t.maxPadding;function i(i){const o=Math.max(e[i]-t[i],0);return t[i]+=o,o}t.y+=i("top"),t.x+=i("left"),i("right"),i("bottom")}(p),en(s.leftAndTop,p,c,b),p.x+=p.w,p.y+=p.h,en(s.rightAndBottom,p,c,b),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},ti(s.chartArea,(e=>{const i=e.box;Object.assign(i,t.chartArea),i.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})}))}};class rn{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,o){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,o?Math.floor(e/o):i)}}isAttached(t){return!0}updateConfig(t){}}class nn extends rn{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const an="$chartjs",sn={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ln=t=>null===t||""===t;const un=!!or&&{passive:!0};function hn(t,e,i){t&&t.canvas&&t.canvas.removeEventListener(e,i,un)}function cn(t,e){for(const i of t)if(i===e||i.contains(e))return!0}function dn(t,e,i){const o=t.canvas,r=new MutationObserver((t=>{let e=!1;for(const i of t)e=e||cn(i.addedNodes,o),e=e&&!cn(i.removedNodes,o);e&&i()}));return r.observe(document,{childList:!0,subtree:!0}),r}function pn(t,e,i){const o=t.canvas,r=new MutationObserver((t=>{let e=!1;for(const i of t)e=e||cn(i.removedNodes,o),e=e&&!cn(i.addedNodes,o);e&&i()}));return r.observe(document,{childList:!0,subtree:!0}),r}const bn=new Map;let gn=0;function mn(){const t=window.devicePixelRatio;t!==gn&&(gn=t,bn.forEach(((e,i)=>{i.currentDevicePixelRatio!==t&&e()})))}function fn(t,e,i){const o=t.canvas,r=o&&Yo(o);if(!r)return;const n=ji(((t,e)=>{const o=r.clientWidth;i(t,e),o<r.clientWidth&&i()}),window),a=new ResizeObserver((t=>{const e=t[0],i=e.contentRect.width,o=e.contentRect.height;0===i&&0===o||n(i,o)}));return a.observe(r),function(t,e){bn.size||window.addEventListener("resize",mn),bn.set(t,e)}(t,n),a}function vn(t,e,i){i&&i.disconnect(),"resize"===e&&function(t){bn.delete(t),bn.size||window.removeEventListener("resize",mn)}(t)}function wn(t,e,i){const o=t.canvas,r=ji((e=>{null!==t.ctx&&i(function(t,e){const i=sn[t.type]||t.type,{x:o,y:r}=Zo(t,e);return{type:i,chart:e,native:t,x:void 0!==o?o:null,y:void 0!==r?r:null}}(e,t))}),t);return function(t,e,i){t&&t.addEventListener(e,i,un)}(o,e,r),r}class Cn extends rn{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(function(t,e){const i=t.style,o=t.getAttribute("height"),r=t.getAttribute("width");if(t[an]={initial:{height:o,width:r,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",ln(r)){const e=rr(t,"width");void 0!==e&&(t.width=e)}if(ln(o))if(""===t.style.height)t.height=t.width/(e||2);else{const e=rr(t,"height");void 0!==e&&(t.height=e)}}(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[an])return!1;const i=e[an].initial;["height","width"].forEach((t=>{const o=i[t];qe(o)?e.removeAttribute(t):e.setAttribute(t,o)}));const o=i.style||{};return Object.keys(o).forEach((t=>{e.style[t]=o[t]})),e.width=e.width,delete e[an],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const o=t.$proxies||(t.$proxies={}),r={attach:dn,detach:pn,resize:fn}[e]||wn;o[e]=r(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),o=i[e];if(!o)return;({attach:vn,detach:vn,resize:vn}[e]||hn)(t,e,o),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,o){return er(t,e,i,o)}isAttached(t){const e=t&&Yo(t);return!(!e||!e.isConnected)}}class yn{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return ki(this.x)&&ki(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const o={};return t.forEach((t=>{o[t]=i[t]&&i[t].active()?i[t]._to:this[t]})),o}}function xn(t,e){const i=t.options.ticks,o=function(t){const e=t.options.offset,i=t._tickSize(),o=t._length/i+(e?0:1),r=t._maxLength/i;return Math.floor(Math.min(o,r))}(t),r=Math.min(i.maxTicksLimit||o,o),n=i.major.enabled?function(t){const e=[];let i,o;for(i=0,o=t.length;i<o;i++)t[i].major&&e.push(i);return e}(e):[],a=n.length,s=n[0],l=n[a-1],u=[];if(a>r)return function(t,e,i,o){let r,n=0,a=i[0];for(o=Math.ceil(o),r=0;r<t.length;r++)r===a&&(e.push(t[r]),n++,a=i[n*o])}(e,u,n,a/r),u;const h=function(t,e,i){const o=function(t){const e=t.length;let i,o;if(e<2)return!1;for(o=t[0],i=1;i<e;++i)if(t[i]-t[i-1]!==o)return!1;return o}(t),r=e.length/i;if(!o)return Math.max(r,1);const n=function(t){const e=[],i=Math.sqrt(t);let o;for(o=1;o<i;o++)t%o==0&&(e.push(o),e.push(t/o));return i===(0|i)&&e.push(i),e.sort(((t,e)=>t-e)).pop(),e}(o);for(let t=0,e=n.length-1;t<e;t++){const e=n[t];if(e>r)return e}return Math.max(r,1)}(n,e,r);if(a>0){let t,i;const o=a>1?Math.round((l-s)/(a-1)):null;for(An(e,u,h,qe(o)?0:s-o,s),t=0,i=a-1;t<i;t++)An(e,u,h,n[t],n[t+1]);return An(e,u,h,l,qe(o)?e.length:l+o),u}return An(e,u,h),u}function An(t,e,i,o,r){const n=Qe(o,0),a=Math.min(Qe(r,t.length),t.length);let s,l,u,h=0;for(i=Math.ceil(i),r&&(s=r-o,i=s/Math.floor(s/i)),u=n;u<0;)h++,u=Math.round(n+h*i);for(l=Math.max(n,0);l<a;l++)l===u&&(e.push(t[l]),h++,u=Math.round(n+h*i))}const En=(t,e,i)=>"top"===e||"left"===e?t[e]+i:t[e]-i,kn=(t,e)=>Math.min(e||t,t);function Bn(t,e){const i=[],o=t.length/e,r=t.length;let n=0;for(;n<r;n+=o)i.push(t[Math.floor(n)]);return i}function _n(t,e,i){const o=t.ticks.length,r=Math.min(e,o-1),n=t._startPixel,a=t._endPixel,s=1e-6;let l,u=t.getPixelForTick(r);if(!(i&&(l=1===o?Math.max(u-n,a-u):0===e?(t.getPixelForTick(1)-u)/2:(u-t.getPixelForTick(r-1))/2,u+=r<e?l:-l,u<n-s||u>a+s)))return u}function Rn(t){return t.drawTicks?t.tickLength:0}function Mn(t,e){if(!t.display)return 0;const i=To(t.font,e),o=So(t.padding);return($e(t.text)?t.text.length:1)*i.lineHeight+o.height}function Sn(t,e,i){let o=Gi(t);return(i&&"right"!==e||!i&&"right"===e)&&(o=(t=>"left"===t?"right":"right"===t?"left":t)(o)),o}class Tn extends yn{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:o}=this;return t=Ke(t,Number.POSITIVE_INFINITY),e=Ke(e,Number.NEGATIVE_INFINITY),i=Ke(i,Number.POSITIVE_INFINITY),o=Ke(o,Number.NEGATIVE_INFINITY),{min:Ke(t,i),max:Ke(e,o),minDefined:Xe(t),maxDefined:Xe(e)}}getMinMax(t){let e,{min:i,max:o,minDefined:r,maxDefined:n}=this.getUserBounds();if(r&&n)return{min:i,max:o};const a=this.getMatchingVisibleMetas();for(let s=0,l=a.length;s<l;++s)e=a[s].controller.getMinMax(this,t),r||(i=Math.min(i,e.min)),n||(o=Math.max(o,e.max));return i=n&&i>o?o:i,o=r&&i>o?i:o,{min:Ke(i,Ke(o,i)),max:Ke(o,Ke(i,o))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ze(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:o,grace:r,ticks:n}=this.options,a=n.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(t,e,i){const{min:o,max:r}=t,n=Je(e,(r-o)/2),a=(t,e)=>i&&0===t?0:t+e;return{min:a(o,-Math.abs(n)),max:a(r,n)}}(this,r,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const s=a<this.ticks.length;this._convertTicksToLabels(s?Bn(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),n.display&&(n.autoSkip||"auto"===n.source)&&(this.ticks=xn(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),s&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,i=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,i=!i),this._startPixel=t,this._endPixel=e,this._reversePixels=i,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ze(this.options.afterUpdate,[this])}beforeSetDimensions(){Ze(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ze(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Ze(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ze(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,o,r;for(i=0,o=t.length;i<o;i++)r=t[i],r.label=Ze(e.callback,[r.value,i,t],this)}afterTickToLabelConversion(){Ze(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ze(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=kn(this.ticks.length,t.ticks.maxTicksLimit),o=e.minRotation||0,r=e.maxRotation;let n,a,s,l=o;if(!this._isVisible()||!e.display||o>=r||i<=1||!this.isHorizontal())return void(this.labelRotation=o);const u=this._getLabelSizes(),h=u.widest.width,c=u.highest.height,d=Li(this.chart.width-h,0,this.maxWidth);n=t.offset?this.maxWidth/i:d/(i-1),h+6>n&&(n=d/(i-(t.offset?.5:1)),a=this.maxHeight-Rn(t.grid)-e.padding-Mn(t.title,this.chart.options.font),s=Math.sqrt(h*h+c*c),l=Ri(Math.min(Math.asin(Li((u.highest.height+6)/n,-1,1)),Math.asin(Li(a/s,-1,1))-Math.asin(Li(c/s,-1,1)))),l=Math.max(o,Math.min(r,l))),this.labelRotation=l}afterCalculateLabelRotation(){Ze(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ze(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:o,grid:r}}=this,n=this._isVisible(),a=this.isHorizontal();if(n){const n=Mn(o,e.options.font);if(a?(t.width=this.maxWidth,t.height=Rn(r)+n):(t.height=this.maxHeight,t.width=Rn(r)+n),i.display&&this.ticks.length){const{first:e,last:o,widest:r,highest:n}=this._getLabelSizes(),s=2*i.padding,l=_i(this.labelRotation),u=Math.cos(l),h=Math.sin(l);if(a){const e=i.mirror?0:h*r.width+u*n.height;t.height=Math.min(this.maxHeight,t.height+e+s)}else{const e=i.mirror?0:u*r.width+h*n.height;t.width=Math.min(this.maxWidth,t.width+e+s)}this._calculatePadding(e,o,h,u)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,o){const{ticks:{align:r,padding:n},position:a}=this.options,s=0!==this.labelRotation,l="top"!==a&&"x"===this.axis;if(this.isHorizontal()){const a=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,c=0;s?l?(h=o*t.width,c=i*e.height):(h=i*t.height,c=o*e.width):"start"===r?c=e.width:"end"===r?h=t.width:"inner"!==r&&(h=t.width/2,c=e.width/2),this.paddingLeft=Math.max((h-a+n)*this.width/(this.width-a),0),this.paddingRight=Math.max((c-u+n)*this.width/(this.width-u),0)}else{let i=e.height/2,o=t.height/2;"start"===r?(i=0,o=t.height):"end"===r&&(i=e.height,o=0),this.paddingTop=i+n,this.paddingBottom=o+n}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ze(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,i=t.length;e<i;e++)qe(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=Bn(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:o,_longestTextCache:r}=this,n=[],a=[],s=Math.floor(e/kn(e,i));let l,u,h,c,d,p,b,g,m,f,v,w=0,C=0;for(l=0;l<e;l+=s){if(c=t[l].label,d=this._resolveTickFontOptions(l),o.font=p=d.string,b=r[p]=r[p]||{data:{},gc:[]},g=d.lineHeight,m=f=0,qe(c)||$e(c)){if($e(c))for(u=0,h=c.length;u<h;++u)v=c[u],qe(v)||$e(v)||(m=co(o,b.data,b.gc,m,v),f+=g)}else m=co(o,b.data,b.gc,m,c),f=g;n.push(m),a.push(f),w=Math.max(m,w),C=Math.max(f,C)}!function(t,e){ti(t,(t=>{const i=t.gc,o=i.length/2;let r;if(o>e){for(r=0;r<o;++r)delete t.data[i[r]];i.splice(0,o)}}))}(r,e);const y=n.indexOf(w),x=a.indexOf(C),A=t=>({width:n[t]||0,height:a[t]||0});return{first:A(0),last:A(e-1),widest:A(y),highest:A(x),widths:n,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return Li(this._alignToPixels?po(this.chart,e,0):e,-32768,32767)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=function(t,e,i){return Do(t,{tick:i,index:e,type:"tick"})}(this.getContext(),t,i))}return this.$context||(this.$context=Do(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const t=this.options.ticks,e=_i(this.labelRotation),i=Math.abs(Math.cos(e)),o=Math.abs(Math.sin(e)),r=this._getLabelSizes(),n=t.autoSkipPadding||0,a=r?r.widest.width+n:0,s=r?r.highest.height+n:0;return this.isHorizontal()?s*i>a*o?a/i:s/o:s*o<a*i?s/i:a/o}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,o=this.options,{grid:r,position:n,border:a}=o,s=r.offset,l=this.isHorizontal(),u=this.ticks.length+(s?1:0),h=Rn(r),c=[],d=a.setContext(this.getContext()),p=d.display?d.width:0,b=p/2,g=function(t){return po(i,t,p)};let m,f,v,w,C,y,x,A,E,k,B,_;if("top"===n)m=g(this.bottom),y=this.bottom-h,A=m-b,k=g(t.top)+b,_=t.bottom;else if("bottom"===n)m=g(this.top),k=t.top,_=g(t.bottom)-b,y=m+b,A=this.top+h;else if("left"===n)m=g(this.right),C=this.right-h,x=m-b,E=g(t.left)+b,B=t.right;else if("right"===n)m=g(this.left),E=t.left,B=g(t.right)-b,C=m+b,x=this.left+h;else if("x"===e){if("center"===n)m=g((t.top+t.bottom)/2+.5);else if(Ye(n)){const t=Object.keys(n)[0],e=n[t];m=g(this.chart.scales[t].getPixelForValue(e))}k=t.top,_=t.bottom,y=m+b,A=y+h}else if("y"===e){if("center"===n)m=g((t.left+t.right)/2);else if(Ye(n)){const t=Object.keys(n)[0],e=n[t];m=g(this.chart.scales[t].getPixelForValue(e))}C=m-b,x=C-h,E=t.left,B=t.right}const R=Qe(o.ticks.maxTicksLimit,u),M=Math.max(1,Math.ceil(u/R));for(f=0;f<u;f+=M){const t=this.getContext(f),e=r.setContext(t),o=a.setContext(t),n=e.lineWidth,u=e.color,h=o.dash||[],d=o.dashOffset,p=e.tickWidth,b=e.tickColor,g=e.tickBorderDash||[],m=e.tickBorderDashOffset;v=_n(this,f,s),void 0!==v&&(w=po(i,v,n),l?C=x=E=B=w:y=A=k=_=w,c.push({tx1:C,ty1:y,tx2:x,ty2:A,x1:E,y1:k,x2:B,y2:_,width:n,color:u,borderDash:h,borderDashOffset:d,tickWidth:p,tickColor:b,tickBorderDash:g,tickBorderDashOffset:m}))}return this._ticksLength=u,this._borderValue=m,c}_computeLabelItems(t){const e=this.axis,i=this.options,{position:o,ticks:r}=i,n=this.isHorizontal(),a=this.ticks,{align:s,crossAlign:l,padding:u,mirror:h}=r,c=Rn(i.grid),d=c+u,p=h?-u:d,b=-_i(this.labelRotation),g=[];let m,f,v,w,C,y,x,A,E,k,B,_,R="middle";if("top"===o)y=this.bottom-p,x=this._getXAxisLabelAlignment();else if("bottom"===o)y=this.top+p,x=this._getXAxisLabelAlignment();else if("left"===o){const t=this._getYAxisLabelAlignment(c);x=t.textAlign,C=t.x}else if("right"===o){const t=this._getYAxisLabelAlignment(c);x=t.textAlign,C=t.x}else if("x"===e){if("center"===o)y=(t.top+t.bottom)/2+d;else if(Ye(o)){const t=Object.keys(o)[0],e=o[t];y=this.chart.scales[t].getPixelForValue(e)+d}x=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===o)C=(t.left+t.right)/2-d;else if(Ye(o)){const t=Object.keys(o)[0],e=o[t];C=this.chart.scales[t].getPixelForValue(e)}x=this._getYAxisLabelAlignment(c).textAlign}"y"===e&&("start"===s?R="top":"end"===s&&(R="bottom"));const M=this._getLabelSizes();for(m=0,f=a.length;m<f;++m){v=a[m],w=v.label;const t=r.setContext(this.getContext(m));A=this.getPixelForTick(m)+r.labelOffset,E=this._resolveTickFontOptions(m),k=E.lineHeight,B=$e(w)?w.length:1;const e=B/2,i=t.color,s=t.textStrokeColor,u=t.textStrokeWidth;let c,d=x;if(n?(C=A,"inner"===x&&(d=m===f-1?this.options.reverse?"left":"right":0===m?this.options.reverse?"right":"left":"center"),_="top"===o?"near"===l||0!==b?-B*k+k/2:"center"===l?-M.highest.height/2-e*k+k:-M.highest.height+k/2:"near"===l||0!==b?k/2:"center"===l?M.highest.height/2-e*k:M.highest.height-B*k,h&&(_*=-1),0===b||t.showLabelBackdrop||(C+=k/2*Math.sin(b))):(y=A,_=(1-B)*k/2),t.showLabelBackdrop){const e=So(t.backdropPadding),i=M.heights[m],o=M.widths[m];let r=_-e.top,n=0-e.left;switch(R){case"middle":r-=i/2;break;case"bottom":r-=i}switch(x){case"center":n-=o/2;break;case"right":n-=o;break;case"inner":m===f-1?n-=o:m>0&&(n-=o/2)}c={left:n,top:r,width:o+e.width,height:i+e.height,color:t.backdropColor}}g.push({label:w,font:E,textOffset:_,options:{rotation:b,color:i,strokeColor:s,strokeWidth:u,textAlign:d,textBaseline:R,translation:[C,y],backdrop:c}})}return g}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-_i(this.labelRotation))return"top"===t?"left":"right";let i="center";return"start"===e.align?i="left":"end"===e.align?i="right":"inner"===e.align&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:o,padding:r}}=this.options,n=t+r,a=this._getLabelSizes().widest.width;let s,l;return"left"===e?o?(l=this.right+r,"near"===i?s="left":"center"===i?(s="center",l+=a/2):(s="right",l+=a)):(l=this.right-n,"near"===i?s="right":"center"===i?(s="center",l-=a/2):(s="left",l=this.left)):"right"===e?o?(l=this.left+r,"near"===i?s="right":"center"===i?(s="center",l-=a/2):(s="left",l-=a)):(l=this.left+n,"near"===i?s="left":"center"===i?(s="center",l+=a/2):(s="right",l=this.right)):s="right",{textAlign:s,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:o,width:r,height:n}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,o,r,n),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const i=this.ticks.findIndex((e=>e.value===t));if(i>=0){return e.setContext(this.getContext(i)).lineWidth}return 0}drawGrid(t){const e=this.options.grid,i=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,n;const a=(t,e,o)=>{o.width&&o.color&&(i.save(),i.lineWidth=o.width,i.strokeStyle=o.color,i.setLineDash(o.borderDash||[]),i.lineDashOffset=o.borderDashOffset,i.beginPath(),i.moveTo(t.x,t.y),i.lineTo(e.x,e.y),i.stroke(),i.restore())};if(e.display)for(r=0,n=o.length;r<n;++r){const t=o[r];e.drawOnChartArea&&a({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&a({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:o}}=this,r=i.setContext(this.getContext()),n=i.display?r.width:0;if(!n)return;const a=o.setContext(this.getContext(0)).lineWidth,s=this._borderValue;let l,u,h,c;this.isHorizontal()?(l=po(t,this.left,n)-n/2,u=po(t,this.right,a)+a/2,h=c=s):(h=po(t,this.top,n)-n/2,c=po(t,this.bottom,a)+a/2,l=u=s),e.save(),e.lineWidth=r.width,e.strokeStyle=r.color,e.beginPath(),e.moveTo(l,h),e.lineTo(u,c),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const e=this.ctx,i=this._computeLabelArea();i&&vo(e,i);const o=this.getLabelItems(t);for(const t of o){const i=t.options,o=t.font;xo(e,t.label,0,t.textOffset,o,i)}i&&wo(e)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:o}}=this;if(!i.display)return;const r=To(i.font),n=So(i.padding),a=i.align;let s=r.lineHeight/2;"bottom"===e||"center"===e||Ye(e)?(s+=n.bottom,$e(i.text)&&(s+=r.lineHeight*(i.text.length-1))):s+=n.top;const{titleX:l,titleY:u,maxWidth:h,rotation:c}=function(t,e,i,o){const{top:r,left:n,bottom:a,right:s,chart:l}=t,{chartArea:u,scales:h}=l;let c,d,p,b=0;const g=a-r,m=s-n;if(t.isHorizontal()){if(d=Ui(o,n,s),Ye(i)){const t=Object.keys(i)[0],o=i[t];p=h[t].getPixelForValue(o)+g-e}else p="center"===i?(u.bottom+u.top)/2+g-e:En(t,i,e);c=s-n}else{if(Ye(i)){const t=Object.keys(i)[0],o=i[t];d=h[t].getPixelForValue(o)-m+e}else d="center"===i?(u.left+u.right)/2-m+e:En(t,i,e);p=Ui(o,a,r),b="left"===i?-vi:vi}return{titleX:d,titleY:p,maxWidth:c,rotation:b}}(this,s,e,a);xo(t,i.text,0,0,r,{color:i.color,maxWidth:h,rotation:c,textAlign:Sn(a,e,o),textBaseline:"middle",translation:[l,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Qe(t.grid&&t.grid.z,-1),o=Qe(t.border&&t.border.z,0);return this._isVisible()&&this.draw===Tn.prototype.draw?[{z:i,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",o=[];let r,n;for(r=0,n=e.length;r<n;++r){const n=e[r];n[i]!==this.id||t&&n.type!==t||o.push(n)}return o}_resolveTickFontOptions(t){return To(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class zn{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;(function(t){return"id"in t&&"defaults"in t})(e)&&(i=this.register(e));const o=this.items,r=t.id,n=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in o||(o[r]=t,function(t,e,i){const o=ni(Object.create(null),[i?ho.get(i):{},ho.get(e),t.defaults]);ho.set(e,o),t.defaultRoutes&&function(t,e){Object.keys(e).forEach((i=>{const o=i.split("."),r=o.pop(),n=[t].concat(o).join("."),a=e[i].split("."),s=a.pop(),l=a.join(".");ho.route(n,r,l,s)}))}(e,t.defaultRoutes);t.descriptors&&ho.describe(e,t.descriptors)}(t,n,i),this.override&&ho.override(t.id,t.overrides)),n}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,o=this.scope;i in e&&delete e[i],o&&i in ho[o]&&(delete ho[o][i],this.override&&delete no[i])}}class Dn{constructor(){this.controllers=new zn(kr,"datasets",!0),this.elements=new zn(yn,"elements"),this.plugins=new zn(Object,"plugins"),this.scales=new zn(Tn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach((e=>{const o=i||this._getRegistryForType(e);i||o.isForType(e)||o===this.plugins&&e.id?this._exec(t,o,e):ti(e,(e=>{const o=i||this._getRegistryForType(e);this._exec(t,o,e)}))}))}_exec(t,e,i){const o=hi(t);Ze(i["before"+o],[],i),e[t](i),Ze(i["after"+o],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const o=e.get(t);if(void 0===o)throw new Error('"'+t+'" is not a registered '+i+".");return o}}var Ln=new Dn;class Pn{constructor(){this._init=[]}notify(t,e,i,o){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=o?this._descriptors(t).filter(o):this._descriptors(t),n=this._notify(r,t,e,i);return"afterDestroy"===e&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),n}_notify(t,e,i,o){o=o||{};for(const r of t){const t=r.plugin;if(!1===Ze(t[i],[e,o,r.options],t)&&o.cancelable)return!1}return!0}invalidate(){qe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,o=Qe(i.options&&i.options.plugins,{}),r=function(t){const e={},i=[],o=Object.keys(Ln.plugins.items);for(let t=0;t<o.length;t++)i.push(Ln.getPlugin(o[t]));const r=t.plugins||[];for(let t=0;t<r.length;t++){const o=r[t];-1===i.indexOf(o)&&(i.push(o),e[o.id]=!0)}return{plugins:i,localIds:e}}(i);return!1!==o||e?function(t,{plugins:e,localIds:i},o,r){const n=[],a=t.getContext();for(const s of e){const e=s.id,l=Fn(o[e],r);null!==l&&n.push({plugin:s,options:On(t.config,{plugin:s,local:i[e]},l,a)})}return n}(t,r,o,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,o=(t,e)=>t.filter((t=>!e.some((e=>t.plugin.id===e.plugin.id))));this._notify(o(e,i),t,"stop"),this._notify(o(i,e),t,"start")}}function Fn(t,e){return e||!1!==t?!0===t?{}:t:null}function On(t,{plugin:e,local:i},o,r){const n=t.pluginScopeKeys(e),a=t.getOptionScopes(o,n);return i&&e.defaults&&a.push(e.defaults),t.createResolver(a,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Hn(t,e){const i=ho.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||i.indexAxis||"x"}function In(t){if("x"===t||"y"===t||"r"===t)return t}function Nn(t,...e){if(In(t))return t;for(const o of e){const e=o.axis||("top"===(i=o.position)||"bottom"===i?"x":"left"===i||"right"===i?"y":void 0)||t.length>1&&In(t[0].toLowerCase());if(e)return e}var i;throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Vn(t,e,i){if(i[e+"AxisID"]===t)return{axis:e}}function Wn(t,e){const i=no[t.type]||{scales:{}},o=e.scales||{},r=Hn(t.type,e),n=Object.create(null);return Object.keys(o).forEach((e=>{const a=o[e];if(!Ye(a))return;if(a._proxy)return;const s=Nn(e,a,function(t,e){if(e.data&&e.data.datasets){const i=e.data.datasets.filter((e=>e.xAxisID===t||e.yAxisID===t));if(i.length)return Vn(t,"x",i[0])||Vn(t,"y",i[0])}return{}}(e,t),ho.scales[a.type]),l=function(t,e){return t===e?"_index_":"_value_"}(s,r),u=i.scales||{};n[e]=ai(Object.create(null),[{axis:s},a,u[s],u[l]])})),t.data.datasets.forEach((i=>{const r=i.type||t.type,a=i.indexAxis||Hn(r,e),s=(no[r]||{}).scales||{};Object.keys(s).forEach((t=>{const e=function(t,e){let i=t;return"_index_"===t?i=e:"_value_"===t&&(i="x"===e?"y":"x"),i}(t,a),r=i[e+"AxisID"]||e;n[r]=n[r]||Object.create(null),ai(n[r],[{axis:e},o[r],s[t]])}))})),Object.keys(n).forEach((t=>{const e=n[t];ai(e,[ho.scales[e.type],ho.scale])})),n}function jn(t){const e=t.options||(t.options={});e.plugins=Qe(e.plugins,{}),e.scales=Wn(t,e)}function Gn(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const Un=new Map,qn=new Set;function $n(t,e){let i=Un.get(t);return i||(i=e(),Un.set(t,i),qn.add(i)),i}const Yn=(t,e,i)=>{const o=ui(e,i);void 0!==o&&t.add(o)};class Xn{constructor(t){this._config=function(t){return(t=t||{}).data=Gn(t.data),jn(t),t}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Gn(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),jn(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return $n(t,(()=>[[`datasets.${t}`,""]]))}datasetAnimationScopeKeys(t,e){return $n(`${t}.transition.${e}`,(()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]]))}datasetElementScopeKeys(t,e){return $n(`${t}-${e}`,(()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]]))}pluginScopeKeys(t){const e=t.id;return $n(`${this.type}-plugin-${e}`,(()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]]))}_cachedScopes(t,e){const i=this._scopeCache;let o=i.get(t);return o&&!e||(o=new Map,i.set(t,o)),o}getOptionScopes(t,e,i){const{options:o,type:r}=this,n=this._cachedScopes(t,i),a=n.get(e);if(a)return a;const s=new Set;e.forEach((e=>{t&&(s.add(t),e.forEach((e=>Yn(s,t,e)))),e.forEach((t=>Yn(s,o,t))),e.forEach((t=>Yn(s,no[r]||{},t))),e.forEach((t=>Yn(s,ho,t))),e.forEach((t=>Yn(s,ao,t)))}));const l=Array.from(s);return 0===l.length&&l.push(Object.create(null)),qn.has(e)&&n.set(e,l),l}chartOptionScopes(){const{options:t,type:e}=this;return[t,no[e]||{},ho.datasets[e]||{},{type:e},ho,ao]}resolveNamedOptions(t,e,i,o=[""]){const r={$shared:!0},{resolver:n,subPrefixes:a}=Kn(this._resolverCache,t,o);let s=n;if(function(t,e){const{isScriptable:i,isIndexable:o}=Fo(t);for(const r of e){const e=i(r),n=o(r),a=(n||e)&&t[r];if(e&&(di(a)||Qn(a))||n&&$e(a))return!0}return!1}(n,e)){r.$shared=!1;s=Po(n,i=di(i)?i():i,this.createResolver(t,i,a))}for(const t of e)r[t]=s[t];return r}createResolver(t,e,i=[""],o){const{resolver:r}=Kn(this._resolverCache,t,i);return Ye(e)?Po(r,e,void 0,o):r}}function Kn(t,e,i){let o=t.get(e);o||(o=new Map,t.set(e,o));const r=i.join();let n=o.get(r);if(!n){n={resolver:Lo(e,i),subPrefixes:i.filter((t=>!t.toLowerCase().includes("hover")))},o.set(r,n)}return n}const Qn=t=>Ye(t)&&Object.getOwnPropertyNames(t).some((e=>di(t[e])));const Jn=["top","bottom","left","right","chartArea"];function Zn(t,e){return"top"===t||"bottom"===t||-1===Jn.indexOf(t)&&"x"===e}function ta(t,e){return function(i,o){return i[t]===o[t]?i[e]-o[e]:i[t]-o[t]}}function ea(t){const e=t.chart,i=e.options.animation;e.notifyPlugins("afterRender"),Ze(i&&i.onComplete,[t],e)}function ia(t){const e=t.chart,i=e.options.animation;Ze(i&&i.onProgress,[t],e)}function oa(t){return $o()&&"string"==typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const ra={},na=t=>{const e=oa(t);return Object.values(ra).filter((t=>t.canvas===e)).pop()};function aa(t,e,i){const o=Object.keys(t);for(const r of o){const o=+r;if(o>=e){const n=t[r];delete t[r],(i>0||o>e)&&(t[o+i]=n)}}}function sa(t,e,i){return t.options.clip?t[i]:e[i]}class la{static defaults=ho;static instances=ra;static overrides=no;static registry=Ln;static version="4.4.7";static getChart=na;static register(...t){Ln.add(...t),ua()}static unregister(...t){Ln.remove(...t),ua()}constructor(t,e){const i=this.config=new Xn(e),o=oa(t),r=na(o);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const n=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||function(t){return!$o()||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas?nn:Cn}(o)),this.platform.updateConfig(i);const a=this.platform.acquireContext(o,n.aspectRatio),s=a&&a.canvas,l=s&&s.height,u=s&&s.width;this.id=Ue(),this.ctx=a,this.canvas=s,this.width=u,this.height=l,this._options=n,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Pn,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(t,e){let i;return function(...o){return e?(clearTimeout(i),i=setTimeout(t,e,o)):t.apply(this,o),e}}((t=>this.update(t)),n.resizeDelay||0),this._dataChanges=[],ra[this.id]=this,a&&s&&(ur.listen(this,"complete",ea),ur.listen(this,"progress",ia),this._initialize(),this.attached&&this.update())}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:o,_aspectRatio:r}=this;return qe(t)?e&&r?r:o?i/o:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ln}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ir(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return bo(this.canvas,this.ctx),this}stop(){return ur.stop(this),this}resize(t,e){ur.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,o=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,n=this.platform.getMaximumSize(o,t,e,r),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),s=this.width?"resize":"attach";this.width=n.width,this.height=n.height,this._aspectRatio=this.aspectRatio,ir(this,a,!0)&&(this.notifyPlugins("resize",{size:n}),Ze(i.onResize,[this,n],this),this.attached&&this._doResize(s)&&this.render())}ensureScalesHaveIDs(){ti(this.options.scales||{},((t,e)=>{t.id=e}))}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,o=Object.keys(i).reduce(((t,e)=>(t[e]=!1,t)),{});let r=[];e&&(r=r.concat(Object.keys(e).map((t=>{const i=e[t],o=Nn(t,i),r="r"===o,n="x"===o;return{options:i,dposition:r?"chartArea":n?"bottom":"left",dtype:r?"radialLinear":n?"category":"linear"}})))),ti(r,(e=>{const r=e.options,n=r.id,a=Nn(n,r),s=Qe(r.type,e.dtype);void 0!==r.position&&Zn(r.position,a)===Zn(e.dposition)||(r.position=e.dposition),o[n]=!0;let l=null;if(n in i&&i[n].type===s)l=i[n];else{l=new(Ln.getScale(s))({id:n,type:s,ctx:this.ctx,chart:this}),i[l.id]=l}l.init(r,t)})),ti(o,((t,e)=>{t||delete i[e]})),ti(i,(t=>{on.configure(this,t,t.options),on.addBox(this,t)}))}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort(((t,e)=>t.index-e.index)),i>e){for(let t=e;t<i;++t)this._destroyDatasetMeta(t);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(ta("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach(((t,i)=>{0===e.filter((e=>e===t._dataset)).length&&this._destroyDatasetMeta(i)}))}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,o;for(this._removeUnreferencedMetasets(),i=0,o=e.length;i<o;i++){const o=e[i];let r=this.getDatasetMeta(i);const n=o.type||this.config.type;if(r.type&&r.type!==n&&(this._destroyDatasetMeta(i),r=this.getDatasetMeta(i)),r.type=n,r.indexAxis=o.indexAxis||Hn(n,this.options),r.order=o.order||0,r.index=i,r.label=""+o.label,r.visible=this.isDatasetVisible(i),r.controller)r.controller.updateIndex(i),r.controller.linkScales();else{const e=Ln.getController(n),{datasetElementType:o,dataElementType:a}=ho.datasets[n];Object.assign(e,{dataElementType:Ln.getElement(a),datasetElementType:o&&Ln.getElement(o)}),r.controller=new e(this,i),t.push(r.controller)}}return this._updateMetasets(),t}_resetElements(){ti(this.data.datasets,((t,e)=>{this.getDatasetMeta(e).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let n=0;for(let t=0,e=this.data.datasets.length;t<e;t++){const{controller:e}=this.getDatasetMeta(t),i=!o&&-1===r.indexOf(e);e.buildOrUpdateElements(i),n=Math.max(+e.getMaxOverflow(),n)}n=this._minPadding=i.layout.autoPadding?n:0,this._updateLayout(n),o||ti(r,(t=>{t.reset()})),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(ta("z","_idx"));const{_active:a,_lastEvent:s}=this;s?this._eventHandler(s,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){ti(this.scales,(t=>{on.removeBox(this,t)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);pi(e,i)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:o,count:r}of e){aa(t,o,"_removeElements"===i?-r:r)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=e=>new Set(t.filter((t=>t[0]===e)).map(((t,e)=>e+","+t.splice(1).join(",")))),o=i(0);for(let t=1;t<e;t++)if(!pi(o,i(t)))return;return Array.from(o).map((t=>t.split(","))).map((t=>({method:t[1],start:+t[2],count:+t[3]})))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;on.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],ti(this.boxes,(t=>{i&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))}),this),this._layers.forEach(((t,e)=>{t._idx=e})),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,di(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),o={meta:i,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",o)&&(i.controller._update(e),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(ur.has(this)?this.attached&&!ur.running(this)&&ur.start(this):(this.draw(),ea({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:t,height:e}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(t,e)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let o,r;for(o=0,r=e.length;o<r;++o){const r=e[o];t&&!r.visible||i.push(r)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i=t._clip,o=!i.disabled,r=function(t,e){const{xScale:i,yScale:o}=t;return i&&o?{left:sa(i,e,"left"),right:sa(i,e,"right"),top:sa(o,e,"top"),bottom:sa(o,e,"bottom")}:e}(t,this.chartArea),n={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",n)&&(o&&vo(e,{left:!1===i.left?0:r.left-i.left,right:!1===i.right?this.width:r.right+i.right,top:!1===i.top?0:r.top-i.top,bottom:!1===i.bottom?this.height:r.bottom+i.bottom}),t.controller.draw(),o&&wo(e),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(t){return fo(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,o){const r=jr.modes[e];return"function"==typeof r?r(this,t,i,o):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let o=i.filter((t=>t&&t._dataset===e)).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(o)),o}getContext(){return this.$context||(this.$context=Do(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return"boolean"==typeof i.hidden?!i.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const o=i?"show":"hide",r=this.getDatasetMeta(t),n=r.controller._resolveAnimations(void 0,o);ci(e)?(r.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),n.update(r,{visible:i}),this.update((e=>e.datasetIndex===t?o:void 0)))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),ur.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),bo(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete ra[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(i,o)=>{e.addEventListener(this,i,o),t[i]=o},o=(t,e,i)=>{t.offsetX=e,t.offsetY=i,this._eventHandler(t)};ti(this.options.events,(t=>i(t,o)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(i,o)=>{e.addEventListener(this,i,o),t[i]=o},o=(i,o)=>{t[i]&&(e.removeEventListener(this,i,o),delete t[i])},r=(t,e)=>{this.canvas&&this.resize(t,e)};let n;const a=()=>{o("attach",a),this.attached=!0,this.resize(),i("resize",r),i("detach",n)};n=()=>{this.attached=!1,o("resize",r),this._stop(),this._resize(0,0),i("attach",a)},e.isAttached(this.canvas)?a():n()}unbindEvents(){ti(this._listeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._listeners={},ti(this._responsiveListeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const o=i?"set":"remove";let r,n,a,s;for("dataset"===e&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+o+"DatasetHoverStyle"]()),a=0,s=t.length;a<s;++a){n=t[a];const e=n&&this.getDatasetMeta(n.datasetIndex).controller;e&&e[o+"HoverStyle"](n.element,n.datasetIndex,n.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map((({datasetIndex:t,index:e})=>{const i=this.getDatasetMeta(t);if(!i)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:i.data[e],index:e}}));!ei(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return 1===this._plugins._cache.filter((e=>e.plugin.id===t)).length}_updateHoverStyles(t,e,i){const o=this.options.hover,r=(t,e)=>t.filter((t=>!e.some((e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)))),n=r(e,t),a=i?t:r(t,e);n.length&&this.updateHoverStyle(n,o.mode,!1),a.length&&o.mode&&this.updateHoverStyle(a,o.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},o=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",i,o))return;const r=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,o),(r||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:o=[],options:r}=this,n=e,a=this._getActiveElements(t,o,i,n),s=function(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}(t),l=function(t,e,i,o){return i&&"mouseout"!==t.type?o?e:t:null}(t,this._lastEvent,i,s);i&&(this._lastEvent=null,Ze(r.onHover,[t,a,this],this),s&&Ze(r.onClick,[t,a,this],this));const u=!ei(a,o);return(u||e)&&(this._active=a,this._updateHoverStyles(a,o,e)),this._lastEvent=l,u}_getActiveElements(t,e,i,o){if("mouseout"===t.type)return[];if(!i)return e;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,o)}}function ua(){return ti(la.instances,(t=>t._plugins.invalidate()))}function ha(t,e,i,o){const r=_o(t.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const n=(i-e)/2,a=Math.min(n,o*e/2),s=t=>{const e=(i-Math.min(n,t))*o/2;return Li(t,0,Math.min(n,e))};return{outerStart:s(r.outerStart),outerEnd:s(r.outerEnd),innerStart:Li(r.innerStart,0,a),innerEnd:Li(r.innerEnd,0,a)}}function ca(t,e,i,o){return{x:i+t*Math.cos(e),y:o+t*Math.sin(e)}}function da(t,e,i,o,r,n){const{x:a,y:s,startAngle:l,pixelMargin:u,innerRadius:h}=e,c=Math.max(e.outerRadius+o+i-u,0),d=h>0?h+o+i+u:0;let p=0;const b=r-l;if(o){const t=((h>0?h-o:0)+(c>0?c-o:0))/2;p=(b-(0!==t?b*t/(t+o):b))/2}const g=(b-Math.max(.001,b*c-i/bi)/c)/2,m=l+g+p,f=r-g-p,{outerStart:v,outerEnd:w,innerStart:C,innerEnd:y}=ha(e,d,c,f-m),x=c-v,A=c-w,E=m+v/x,k=f-w/A,B=d+C,_=d+y,R=m+C/B,M=f-y/_;if(t.beginPath(),n){const e=(E+k)/2;if(t.arc(a,s,c,E,e),t.arc(a,s,c,e,k),w>0){const e=ca(A,k,a,s);t.arc(e.x,e.y,w,k,f+vi)}const i=ca(_,f,a,s);if(t.lineTo(i.x,i.y),y>0){const e=ca(_,M,a,s);t.arc(e.x,e.y,y,f+vi,M+Math.PI)}const o=(f-y/d+(m+C/d))/2;if(t.arc(a,s,d,f-y/d,o,!0),t.arc(a,s,d,o,m+C/d,!0),C>0){const e=ca(B,R,a,s);t.arc(e.x,e.y,C,R+Math.PI,m-vi)}const r=ca(x,m,a,s);if(t.lineTo(r.x,r.y),v>0){const e=ca(x,E,a,s);t.arc(e.x,e.y,v,m-vi,E)}}else{t.moveTo(a,s);const e=Math.cos(E)*c+a,i=Math.sin(E)*c+s;t.lineTo(e,i);const o=Math.cos(k)*c+a,r=Math.sin(k)*c+s;t.lineTo(o,r)}t.closePath()}function pa(t,e,i,o,r){const{fullCircles:n,startAngle:a,circumference:s,options:l}=e,{borderWidth:u,borderJoinStyle:h,borderDash:c,borderDashOffset:d}=l,p="inner"===l.borderAlign;if(!u)return;t.setLineDash(c||[]),t.lineDashOffset=d,p?(t.lineWidth=2*u,t.lineJoin=h||"round"):(t.lineWidth=u,t.lineJoin=h||"bevel");let b=e.endAngle;if(n){da(t,e,i,o,b,r);for(let e=0;e<n;++e)t.stroke();isNaN(s)||(b=a+(s%gi||gi))}p&&function(t,e,i){const{startAngle:o,pixelMargin:r,x:n,y:a,outerRadius:s,innerRadius:l}=e;let u=r/s;t.beginPath(),t.arc(n,a,s,o-u,i+u),l>r?(u=r/l,t.arc(n,a,l,i+u,o-u,!0)):t.arc(n,a,r,i+vi,o-vi),t.closePath(),t.clip()}(t,e,b),n||(da(t,e,i,o,b,r),t.stroke())}class ba extends yn{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const o=this.getProps(["x","y"],i),{angle:r,distance:n}=Si(o,{x:t,y:e}),{startAngle:a,endAngle:s,innerRadius:l,outerRadius:u,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),c=(this.options.spacing+this.options.borderWidth)/2,d=Qe(h,s-a),p=Di(r,a,s)&&a!==s,b=d>=gi||p,g=Pi(n,l+c,u+c);return b&&g}getCenterPoint(t){const{x:e,y:i,startAngle:o,endAngle:r,innerRadius:n,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:s,spacing:l}=this.options,u=(o+r)/2,h=(n+a+l+s)/2;return{x:e+Math.cos(u)*h,y:i+Math.sin(u)*h}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,o=(e.offset||0)/4,r=(e.spacing||0)/2,n=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=i>gi?Math.floor(i/gi):0,0===i||this.innerRadius<0||this.outerRadius<0)return;t.save();const a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*o,Math.sin(a)*o);const s=o*(1-Math.sin(Math.min(bi,i||0)));t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,function(t,e,i,o,r){const{fullCircles:n,startAngle:a,circumference:s}=e;let l=e.endAngle;if(n){da(t,e,i,o,l,r);for(let e=0;e<n;++e)t.fill();isNaN(s)||(l=a+(s%gi||gi))}da(t,e,i,o,l,r),t.fill()}(t,this,s,r,n),pa(t,this,s,r,n),t.restore()}}function ga(t,e){const{x:i,y:o,base:r,width:n,height:a}=t.getProps(["x","y","base","width","height"],e);let s,l,u,h,c;return t.horizontal?(c=a/2,s=Math.min(i,r),l=Math.max(i,r),u=o-c,h=o+c):(c=n/2,s=i-c,l=i+c,u=Math.min(o,r),h=Math.max(o,r)),{left:s,top:u,right:l,bottom:h}}function ma(t,e,i,o){return t?0:Li(e,i,o)}function fa(t){const e=ga(t),i=e.right-e.left,o=e.bottom-e.top,r=function(t,e,i){const o=t.options.borderWidth,r=t.borderSkipped,n=Ro(o);return{t:ma(r.top,n.top,0,i),r:ma(r.right,n.right,0,e),b:ma(r.bottom,n.bottom,0,i),l:ma(r.left,n.left,0,e)}}(t,i/2,o/2),n=function(t,e,i){const{enableBorderRadius:o}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,n=Mo(r),a=Math.min(e,i),s=t.borderSkipped,l=o||Ye(r);return{topLeft:ma(!l||s.top||s.left,n.topLeft,0,a),topRight:ma(!l||s.top||s.right,n.topRight,0,a),bottomLeft:ma(!l||s.bottom||s.left,n.bottomLeft,0,a),bottomRight:ma(!l||s.bottom||s.right,n.bottomRight,0,a)}}(t,i/2,o/2);return{outer:{x:e.left,y:e.top,w:i,h:o,radius:n},inner:{x:e.left+r.l,y:e.top+r.t,w:i-r.l-r.r,h:o-r.t-r.b,radius:{topLeft:Math.max(0,n.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,n.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,n.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,n.bottomRight-Math.max(r.b,r.r))}}}}function va(t,e,i,o){const r=null===e,n=null===i,a=t&&!(r&&n)&&ga(t,o);return a&&(r||Pi(e,a.left,a.right))&&(n||Pi(i,a.top,a.bottom))}function wa(t,e){t.rect(e.x,e.y,e.w,e.h)}function Ca(t,e,i={}){const o=t.x!==i.x?-e:0,r=t.y!==i.y?-e:0,n=(t.x+t.w!==i.x+i.w?e:0)-o,a=(t.y+t.h!==i.y+i.h?e:0)-r;return{x:t.x+o,y:t.y+r,w:t.w+n,h:t.h+a,radius:t.radius}}class ya extends yn{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:o}}=this,{inner:r,outer:n}=fa(this),a=(s=n.radius).topLeft||s.topRight||s.bottomLeft||s.bottomRight?Ao:wa;var s;t.save(),n.w===r.w&&n.h===r.h||(t.beginPath(),a(t,Ca(n,e,r)),t.clip(),a(t,Ca(r,-e,n)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),a(t,Ca(r,e)),t.fillStyle=o,t.fill(),t.restore()}inRange(t,e,i){return va(this,t,e,i)}inXRange(t,e){return va(this,t,null,e)}inYRange(t,e){return va(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:o,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(e+o)/2:e,y:r?i:(i+o)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}const xa=(t,e)=>{let{boxHeight:i=e,boxWidth:o=e}=t;return t.usePointStyle&&(i=Math.min(i,e),o=t.pointStyleWidth||Math.min(o,e)),{boxWidth:o,boxHeight:i,itemHeight:Math.max(e,i)}};class Aa extends yn{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Ze(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter((e=>t.filter(e,this.chart.data)))),t.sort&&(e=e.sort(((e,i)=>t.sort(e,i,this.chart.data)))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const i=t.labels,o=To(i.font),r=o.size,n=this._computeTitleHeight(),{boxWidth:a,itemHeight:s}=xa(i,r);let l,u;e.font=o.string,this.isHorizontal()?(l=this.maxWidth,u=this._fitRows(n,r,a,s)+10):(u=this.maxHeight,l=this._fitCols(n,o,a,s)+10),this.width=Math.min(l,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,o){const{ctx:r,maxWidth:n,options:{labels:{padding:a}}}=this,s=this.legendHitBoxes=[],l=this.lineWidths=[0],u=o+a;let h=t;r.textAlign="left",r.textBaseline="middle";let c=-1,d=-u;return this.legendItems.forEach(((t,p)=>{const b=i+e/2+r.measureText(t.text).width;(0===p||l[l.length-1]+b+2*a>n)&&(h+=u,l[l.length-(p>0?0:1)]=0,d+=u,c++),s[p]={left:0,top:d,row:c,width:b,height:o},l[l.length-1]+=b+a})),h}_fitCols(t,e,i,o){const{ctx:r,maxHeight:n,options:{labels:{padding:a}}}=this,s=this.legendHitBoxes=[],l=this.columnSizes=[],u=n-t;let h=a,c=0,d=0,p=0,b=0;return this.legendItems.forEach(((t,n)=>{const{itemWidth:g,itemHeight:m}=function(t,e,i,o,r){const n=function(t,e,i,o){let r=t.text;r&&"string"!=typeof r&&(r=r.reduce(((t,e)=>t.length>e.length?t:e)));return e+i.size/2+o.measureText(r).width}(o,t,e,i),a=function(t,e,i){let o=t;"string"!=typeof e.text&&(o=Ea(e,i));return o}(r,o,e.lineHeight);return{itemWidth:n,itemHeight:a}}(i,e,r,t,o);n>0&&d+m+2*a>u&&(h+=c+a,l.push({width:c,height:d}),p+=c+a,b++,c=d=0),s[n]={left:p,top:d,col:b,width:g,height:m},c=Math.max(c,g),d+=m+a})),h+=c,l.push({width:c,height:d}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:o},rtl:r}}=this,n=nr(r,this.left,this.width);if(this.isHorizontal()){let r=0,a=Ui(i,this.left+o,this.right-this.lineWidths[r]);for(const s of e)r!==s.row&&(r=s.row,a=Ui(i,this.left+o,this.right-this.lineWidths[r])),s.top+=this.top+t+o,s.left=n.leftForLtr(n.x(a),s.width),a+=s.width+o}else{let r=0,a=Ui(i,this.top+t+o,this.bottom-this.columnSizes[r].height);for(const s of e)s.col!==r&&(r=s.col,a=Ui(i,this.top+t+o,this.bottom-this.columnSizes[r].height)),s.top=a,s.left+=this.left+o,s.left=n.leftForLtr(n.x(s.left),s.width),a+=s.height+o}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;vo(t,this),this._draw(),wo(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:o}=this,{align:r,labels:n}=t,a=ho.color,s=nr(t.rtl,this.left,this.width),l=To(n.font),{padding:u}=n,h=l.size,c=h/2;let d;this.drawTitle(),o.textAlign=s.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=l.string;const{boxWidth:p,boxHeight:b,itemHeight:g}=xa(n,h),m=this.isHorizontal(),f=this._computeTitleHeight();d=m?{x:Ui(r,this.left+u,this.right-i[0]),y:this.top+u+f,line:0}:{x:this.left+u,y:Ui(r,this.top+f+u,this.bottom-e[0].height),line:0},ar(this.ctx,t.textDirection);const v=g+u;this.legendItems.forEach(((w,C)=>{o.strokeStyle=w.fontColor,o.fillStyle=w.fontColor;const y=o.measureText(w.text).width,x=s.textAlign(w.textAlign||(w.textAlign=n.textAlign)),A=p+c+y;let E=d.x,k=d.y;s.setWidth(this.width),m?C>0&&E+A+u>this.right&&(k=d.y+=v,d.line++,E=d.x=Ui(r,this.left+u,this.right-i[d.line])):C>0&&k+v>this.bottom&&(E=d.x=E+e[d.line].width+u,d.line++,k=d.y=Ui(r,this.top+f+u,this.bottom-e[d.line].height));if(function(t,e,i){if(isNaN(p)||p<=0||isNaN(b)||b<0)return;o.save();const r=Qe(i.lineWidth,1);if(o.fillStyle=Qe(i.fillStyle,a),o.lineCap=Qe(i.lineCap,"butt"),o.lineDashOffset=Qe(i.lineDashOffset,0),o.lineJoin=Qe(i.lineJoin,"miter"),o.lineWidth=r,o.strokeStyle=Qe(i.strokeStyle,a),o.setLineDash(Qe(i.lineDash,[])),n.usePointStyle){const a={radius:b*Math.SQRT2/2,pointStyle:i.pointStyle,rotation:i.rotation,borderWidth:r},l=s.xPlus(t,p/2);mo(o,a,l,e+c,n.pointStyleWidth&&p)}else{const n=e+Math.max((h-b)/2,0),a=s.leftForLtr(t,p),l=Mo(i.borderRadius);o.beginPath(),Object.values(l).some((t=>0!==t))?Ao(o,{x:a,y:n,w:p,h:b,radius:l}):o.rect(a,n,p,b),o.fill(),0!==r&&o.stroke()}o.restore()}(s.x(E),k,w),E=((t,e,i,o)=>t===(o?"left":"right")?i:"center"===t?(e+i)/2:e)(x,E+p+c,m?E+A:this.right,t.rtl),function(t,e,i){xo(o,i.text,t,e+g/2,l,{strikethrough:i.hidden,textAlign:s.textAlign(i.textAlign)})}(s.x(E),k,w),m)d.x+=A+u;else if("string"!=typeof w.text){const t=l.lineHeight;d.y+=Ea(w,t)+u}else d.y+=v})),sr(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=To(e.font),o=So(e.padding);if(!e.display)return;const r=nr(t.rtl,this.left,this.width),n=this.ctx,a=e.position,s=i.size/2,l=o.top+s;let u,h=this.left,c=this.width;if(this.isHorizontal())c=Math.max(...this.lineWidths),u=this.top+l,h=Ui(t.align,h,this.right-c);else{const e=this.columnSizes.reduce(((t,e)=>Math.max(t,e.height)),0);u=l+Ui(t.align,this.top,this.bottom-e-t.labels.padding-this._computeTitleHeight())}const d=Ui(a,h,h+c);n.textAlign=r.textAlign(Gi(a)),n.textBaseline="middle",n.strokeStyle=e.color,n.fillStyle=e.color,n.font=i.string,xo(n,e.text,d,u,i)}_computeTitleHeight(){const t=this.options.title,e=To(t.font),i=So(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,o,r;if(Pi(t,this.left,this.right)&&Pi(e,this.top,this.bottom))for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(o=r[i],Pi(t,o.left,o.left+o.width)&&Pi(e,o.top,o.top+o.height))return this.legendItems[i];return null}handleEvent(t){const e=this.options;if(!function(t,e){if(("mousemove"===t||"mouseout"===t)&&(e.onHover||e.onLeave))return!0;if(e.onClick&&("click"===t||"mouseup"===t))return!0;return!1}(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const n=this._hoveredItem,a=(r=i,null!==(o=n)&&null!==r&&o.datasetIndex===r.datasetIndex&&o.index===r.index);n&&!a&&Ze(e.onLeave,[t,n,this],this),this._hoveredItem=i,i&&!a&&Ze(e.onHover,[t,i,this],this)}else i&&Ze(e.onClick,[t,i,this],this);var o,r}}function Ea(t,e){return e*(t.text?t.text.length:0)}var ka={id:"legend",_element:Aa,start(t,e,i){const o=t.legend=new Aa({ctx:t.ctx,options:i,chart:t});on.configure(t,o,i),on.addBox(t,o)},stop(t){on.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,i){const o=t.legend;on.configure(t,o,i),o.options=i},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,i){const o=e.datasetIndex,r=i.chart;r.isDatasetVisible(o)?(r.hide(o),e.hidden=!0):(r.show(o),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:i,pointStyle:o,textAlign:r,color:n,useBorderRadius:a,borderRadius:s}}=t.legend.options;return t._getSortedDatasetMetas().map((t=>{const l=t.controller.getStyle(i?0:void 0),u=So(l.borderWidth);return{text:e[t.index].label,fillStyle:l.backgroundColor,fontColor:n,hidden:!t.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:l.borderColor,pointStyle:o||l.pointStyle,rotation:l.rotation,textAlign:r||l.textAlign,borderRadius:a&&(s||l.borderRadius),datasetIndex:t.index}}),this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Ba extends yn{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const o=$e(i.text)?i.text.length:1;this._padding=So(i.padding);const r=o*To(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:i,bottom:o,right:r,options:n}=this,a=n.align;let s,l,u,h=0;return this.isHorizontal()?(l=Ui(a,i,r),u=e+t,s=r-i):("left"===n.position?(l=i+t,u=Ui(a,o,e),h=-.5*bi):(l=r-t,u=Ui(a,e,o),h=.5*bi),s=o-e),{titleX:l,titleY:u,maxWidth:s,rotation:h}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=To(e.font),o=i.lineHeight/2+this._padding.top,{titleX:r,titleY:n,maxWidth:a,rotation:s}=this._drawArgs(o);xo(t,e.text,0,0,i,{color:e.color,maxWidth:a,rotation:s,textAlign:Gi(e.align),textBaseline:"middle",translation:[r,n]})}}var _a={id:"title",_element:Ba,start(t,e,i){!function(t,e){const i=new Ba({ctx:t.ctx,options:e,chart:t});on.configure(t,i,e),on.addBox(t,i),t.titleBlock=i}(t,i)},stop(t){const e=t.titleBlock;on.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,i){const o=t.titleBlock;on.configure(t,o,i),o.options=i},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const Ra={average(t){if(!t.length)return!1;let e,i,o=new Set,r=0,n=0;for(e=0,i=t.length;e<i;++e){const i=t[e].element;if(i&&i.hasValue()){const t=i.tooltipPosition();o.add(t.x),r+=t.y,++n}}if(0===n||0===o.size)return!1;return{x:[...o].reduce(((t,e)=>t+e))/o.size,y:r/n}},nearest(t,e){if(!t.length)return!1;let i,o,r,n=e.x,a=e.y,s=Number.POSITIVE_INFINITY;for(i=0,o=t.length;i<o;++i){const o=t[i].element;if(o&&o.hasValue()){const t=Ti(e,o.getCenterPoint());t<s&&(s=t,r=o)}}if(r){const t=r.tooltipPosition();n=t.x,a=t.y}return{x:n,y:a}}};function Ma(t,e){return e&&($e(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Sa(t){return("string"==typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function Ta(t,e){const{element:i,datasetIndex:o,index:r}=e,n=t.getDatasetMeta(o).controller,{label:a,value:s}=n.getLabelAndValue(r);return{chart:t,label:a,parsed:n.getParsed(r),raw:t.data.datasets[o].data[r],formattedValue:s,dataset:n.getDataset(),dataIndex:r,datasetIndex:o,element:i}}function za(t,e){const i=t.chart.ctx,{body:o,footer:r,title:n}=t,{boxWidth:a,boxHeight:s}=e,l=To(e.bodyFont),u=To(e.titleFont),h=To(e.footerFont),c=n.length,d=r.length,p=o.length,b=So(e.padding);let g=b.height,m=0,f=o.reduce(((t,e)=>t+e.before.length+e.lines.length+e.after.length),0);if(f+=t.beforeBody.length+t.afterBody.length,c&&(g+=c*u.lineHeight+(c-1)*e.titleSpacing+e.titleMarginBottom),f){g+=p*(e.displayColors?Math.max(s,l.lineHeight):l.lineHeight)+(f-p)*l.lineHeight+(f-1)*e.bodySpacing}d&&(g+=e.footerMarginTop+d*h.lineHeight+(d-1)*e.footerSpacing);let v=0;const w=function(t){m=Math.max(m,i.measureText(t).width+v)};return i.save(),i.font=u.string,ti(t.title,w),i.font=l.string,ti(t.beforeBody.concat(t.afterBody),w),v=e.displayColors?a+2+e.boxPadding:0,ti(o,(t=>{ti(t.before,w),ti(t.lines,w),ti(t.after,w)})),v=0,i.font=h.string,ti(t.footer,w),i.restore(),m+=b.width,{width:m,height:g}}function Da(t,e,i,o){const{x:r,width:n}=i,{width:a,chartArea:{left:s,right:l}}=t;let u="center";return"center"===o?u=r<=(s+l)/2?"left":"right":r<=n/2?u="left":r>=a-n/2&&(u="right"),function(t,e,i,o){const{x:r,width:n}=o,a=i.caretSize+i.caretPadding;return"left"===t&&r+n+a>e.width||"right"===t&&r-n-a<0||void 0}(u,t,e,i)&&(u="center"),u}function La(t,e,i){const o=i.yAlign||e.yAlign||function(t,e){const{y:i,height:o}=e;return i<o/2?"top":i>t.height-o/2?"bottom":"center"}(t,i);return{xAlign:i.xAlign||e.xAlign||Da(t,e,i,o),yAlign:o}}function Pa(t,e,i,o){const{caretSize:r,caretPadding:n,cornerRadius:a}=t,{xAlign:s,yAlign:l}=i,u=r+n,{topLeft:h,topRight:c,bottomLeft:d,bottomRight:p}=Mo(a);let b=function(t,e){let{x:i,width:o}=t;return"right"===e?i-=o:"center"===e&&(i-=o/2),i}(e,s);const g=function(t,e,i){let{y:o,height:r}=t;return"top"===e?o+=i:o-="bottom"===e?r+i:r/2,o}(e,l,u);return"center"===l?"left"===s?b+=u:"right"===s&&(b-=u):"left"===s?b-=Math.max(h,d)+r:"right"===s&&(b+=Math.max(c,p)+r),{x:Li(b,0,o.width-e.width),y:Li(g,0,o.height-e.height)}}function Fa(t,e,i){const o=So(i.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-o.right:t.x+o.left}function Oa(t){return Ma([],Sa(t))}function Ha(t,e){const i=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return i?t.override(i):t}const Ia={beforeTitle:Ge,title(t){if(t.length>0){const e=t[0],i=e.chart.data.labels,o=i?i.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(o>0&&e.dataIndex<o)return i[e.dataIndex]}return""},afterTitle:Ge,beforeBody:Ge,beforeLabel:Ge,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const i=t.formattedValue;return qe(i)||(e+=i),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Ge,afterBody:Ge,beforeFooter:Ge,footer:Ge,afterFooter:Ge};function Na(t,e,i,o){const r=t[e].call(i,o);return void 0===r?Ia[e].call(i,o):r}class Va extends yn{static positioners=Ra;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),o=i.enabled&&e.options.animation&&i.animations,r=new pr(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=(t=this.chart.getContext(),e=this,i=this._tooltipItems,Do(t,{tooltip:e,tooltipItems:i,type:"tooltip"})));var t,e,i}getTitle(t,e){const{callbacks:i}=e,o=Na(i,"beforeTitle",this,t),r=Na(i,"title",this,t),n=Na(i,"afterTitle",this,t);let a=[];return a=Ma(a,Sa(o)),a=Ma(a,Sa(r)),a=Ma(a,Sa(n)),a}getBeforeBody(t,e){return Oa(Na(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,o=[];return ti(t,(t=>{const e={before:[],lines:[],after:[]},r=Ha(i,t);Ma(e.before,Sa(Na(r,"beforeLabel",this,t))),Ma(e.lines,Na(r,"label",this,t)),Ma(e.after,Sa(Na(r,"afterLabel",this,t))),o.push(e)})),o}getAfterBody(t,e){return Oa(Na(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,o=Na(i,"beforeFooter",this,t),r=Na(i,"footer",this,t),n=Na(i,"afterFooter",this,t);let a=[];return a=Ma(a,Sa(o)),a=Ma(a,Sa(r)),a=Ma(a,Sa(n)),a}_createItems(t){const e=this._active,i=this.chart.data,o=[],r=[],n=[];let a,s,l=[];for(a=0,s=e.length;a<s;++a)l.push(Ta(this.chart,e[a]));return t.filter&&(l=l.filter(((e,o,r)=>t.filter(e,o,r,i)))),t.itemSort&&(l=l.sort(((e,o)=>t.itemSort(e,o,i)))),ti(l,(e=>{const i=Ha(t.callbacks,e);o.push(Na(i,"labelColor",this,e)),r.push(Na(i,"labelPointStyle",this,e)),n.push(Na(i,"labelTextColor",this,e))})),this.labelColors=o,this.labelPointStyles=r,this.labelTextColors=n,this.dataPoints=l,l}update(t,e){const i=this.options.setContext(this.getContext()),o=this._active;let r,n=[];if(o.length){const t=Ra[i.position].call(this,o,this._eventPosition);n=this._createItems(i),this.title=this.getTitle(n,i),this.beforeBody=this.getBeforeBody(n,i),this.body=this.getBody(n,i),this.afterBody=this.getAfterBody(n,i),this.footer=this.getFooter(n,i);const e=this._size=za(this,i),a=Object.assign({},t,e),s=La(this.chart,i,a),l=Pa(i,a,s,this.chart);this.xAlign=s.xAlign,this.yAlign=s.yAlign,r={opacity:1,x:l.x,y:l.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(r={opacity:0});this._tooltipItems=n,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,o){const r=this.getCaretPosition(t,i,o);e.lineTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineTo(r.x3,r.y3)}getCaretPosition(t,e,i){const{xAlign:o,yAlign:r}=this,{caretSize:n,cornerRadius:a}=i,{topLeft:s,topRight:l,bottomLeft:u,bottomRight:h}=Mo(a),{x:c,y:d}=t,{width:p,height:b}=e;let g,m,f,v,w,C;return"center"===r?(w=d+b/2,"left"===o?(g=c,m=g-n,v=w+n,C=w-n):(g=c+p,m=g+n,v=w-n,C=w+n),f=g):(m="left"===o?c+Math.max(s,u)+n:"right"===o?c+p-Math.max(l,h)-n:this.caretX,"top"===r?(v=d,w=v-n,g=m-n,f=m+n):(v=d+b,w=v+n,g=m+n,f=m-n),C=v),{x1:g,x2:m,x3:f,y1:v,y2:w,y3:C}}drawTitle(t,e,i){const o=this.title,r=o.length;let n,a,s;if(r){const l=nr(i.rtl,this.x,this.width);for(t.x=Fa(this,i.titleAlign,i),e.textAlign=l.textAlign(i.titleAlign),e.textBaseline="middle",n=To(i.titleFont),a=i.titleSpacing,e.fillStyle=i.titleColor,e.font=n.string,s=0;s<r;++s)e.fillText(o[s],l.x(t.x),t.y+n.lineHeight/2),t.y+=n.lineHeight+a,s+1===r&&(t.y+=i.titleMarginBottom-a)}}_drawColorBox(t,e,i,o,r){const n=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:s,boxWidth:l}=r,u=To(r.bodyFont),h=Fa(this,"left",r),c=o.x(h),d=s<u.lineHeight?(u.lineHeight-s)/2:0,p=e.y+d;if(r.usePointStyle){const e={radius:Math.min(l,s)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},i=o.leftForLtr(c,l)+l/2,u=p+s/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,go(t,e,i,u),t.strokeStyle=n.borderColor,t.fillStyle=n.backgroundColor,go(t,e,i,u)}else{t.lineWidth=Ye(n.borderWidth)?Math.max(...Object.values(n.borderWidth)):n.borderWidth||1,t.strokeStyle=n.borderColor,t.setLineDash(n.borderDash||[]),t.lineDashOffset=n.borderDashOffset||0;const e=o.leftForLtr(c,l),i=o.leftForLtr(o.xPlus(c,1),l-2),a=Mo(n.borderRadius);Object.values(a).some((t=>0!==t))?(t.beginPath(),t.fillStyle=r.multiKeyBackground,Ao(t,{x:e,y:p,w:l,h:s,radius:a}),t.fill(),t.stroke(),t.fillStyle=n.backgroundColor,t.beginPath(),Ao(t,{x:i,y:p+1,w:l-2,h:s-2,radius:a}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(e,p,l,s),t.strokeRect(e,p,l,s),t.fillStyle=n.backgroundColor,t.fillRect(i,p+1,l-2,s-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:o}=this,{bodySpacing:r,bodyAlign:n,displayColors:a,boxHeight:s,boxWidth:l,boxPadding:u}=i,h=To(i.bodyFont);let c=h.lineHeight,d=0;const p=nr(i.rtl,this.x,this.width),b=function(i){e.fillText(i,p.x(t.x+d),t.y+c/2),t.y+=c+r},g=p.textAlign(n);let m,f,v,w,C,y,x;for(e.textAlign=n,e.textBaseline="middle",e.font=h.string,t.x=Fa(this,g,i),e.fillStyle=i.bodyColor,ti(this.beforeBody,b),d=a&&"right"!==g?"center"===n?l/2+u:l+2+u:0,w=0,y=o.length;w<y;++w){for(m=o[w],f=this.labelTextColors[w],e.fillStyle=f,ti(m.before,b),v=m.lines,a&&v.length&&(this._drawColorBox(e,t,w,p,i),c=Math.max(h.lineHeight,s)),C=0,x=v.length;C<x;++C)b(v[C]),c=h.lineHeight;ti(m.after,b)}d=0,c=h.lineHeight,ti(this.afterBody,b),t.y-=r}drawFooter(t,e,i){const o=this.footer,r=o.length;let n,a;if(r){const s=nr(i.rtl,this.x,this.width);for(t.x=Fa(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=s.textAlign(i.footerAlign),e.textBaseline="middle",n=To(i.footerFont),e.fillStyle=i.footerColor,e.font=n.string,a=0;a<r;++a)e.fillText(o[a],s.x(t.x),t.y+n.lineHeight/2),t.y+=n.lineHeight+i.footerSpacing}}drawBackground(t,e,i,o){const{xAlign:r,yAlign:n}=this,{x:a,y:s}=t,{width:l,height:u}=i,{topLeft:h,topRight:c,bottomLeft:d,bottomRight:p}=Mo(o.cornerRadius);e.fillStyle=o.backgroundColor,e.strokeStyle=o.borderColor,e.lineWidth=o.borderWidth,e.beginPath(),e.moveTo(a+h,s),"top"===n&&this.drawCaret(t,e,i,o),e.lineTo(a+l-c,s),e.quadraticCurveTo(a+l,s,a+l,s+c),"center"===n&&"right"===r&&this.drawCaret(t,e,i,o),e.lineTo(a+l,s+u-p),e.quadraticCurveTo(a+l,s+u,a+l-p,s+u),"bottom"===n&&this.drawCaret(t,e,i,o),e.lineTo(a+d,s+u),e.quadraticCurveTo(a,s+u,a,s+u-d),"center"===n&&"left"===r&&this.drawCaret(t,e,i,o),e.lineTo(a,s+h),e.quadraticCurveTo(a,s,a+h,s),e.closePath(),e.fill(),o.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,o=i&&i.x,r=i&&i.y;if(o||r){const i=Ra[t.position].call(this,this._active,this._eventPosition);if(!i)return;const n=this._size=za(this,t),a=Object.assign({},i,this._size),s=La(e,t,a),l=Pa(t,a,s,e);o._to===l.x&&r._to===l.y||(this.xAlign=s.xAlign,this.yAlign=s.yAlign,this.width=n.width,this.height=n.height,this.caretX=i.x,this.caretY=i.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const o={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const n=So(e.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&a&&(t.save(),t.globalAlpha=i,this.drawBackground(r,t,o,e),ar(t,e.textDirection),r.y+=n.top,this.drawTitle(r,t,e),this.drawBody(r,t,e),this.drawFooter(r,t,e),sr(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,o=t.map((({datasetIndex:t,index:e})=>{const i=this.chart.getDatasetMeta(t);if(!i)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:i.data[e],index:e}})),r=!ei(i,o),n=this._positionChanged(o,e);(r||n)&&(this._active=o,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,r=this._active||[],n=this._getActiveElements(t,r,e,i),a=this._positionChanged(n,t),s=e||!ei(n,r)||a;return s&&(this._active=n,(o.enabled||o.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),s}_getActiveElements(t,e,i,o){const r=this.options;if("mouseout"===t.type)return[];if(!o)return e.filter((t=>this.chart.data.datasets[t.datasetIndex]&&void 0!==this.chart.getDatasetMeta(t.datasetIndex).controller.getParsed(t.index)));const n=this.chart.getElementsAtEventForMode(t,r.mode,r,i);return r.reverse&&n.reverse(),n}_positionChanged(t,e){const{caretX:i,caretY:o,options:r}=this,n=Ra[r.position].call(this,t,e);return!1!==n&&(i!==n.x||o!==n.y)}}var Wa={id:"tooltip",_element:Va,positioners:Ra,afterInit(t,e,i){i&&(t.tooltip=new Va({chart:t,options:i}))},beforeUpdate(t,e,i){t.tooltip&&t.tooltip.initialize(i)},reset(t,e,i){t.tooltip&&t.tooltip.initialize(i)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const i={tooltip:e};if(!1===t.notifyPlugins("beforeTooltipDraw",{...i,cancelable:!0}))return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",i)}},afterEvent(t,e){if(t.tooltip){const i=e.replay;t.tooltip.handleEvent(e.event,i,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Ia},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function ja(t,e,i,o){const r=t.indexOf(e);if(-1===r)return((t,e,i,o)=>("string"==typeof e?(i=t.push(e)-1,o.unshift({index:i,label:e})):isNaN(e)&&(i=null),i))(t,e,i,o);return r!==t.lastIndexOf(e)?i:r}function Ga(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Ua extends Tn{static id="category";static defaults={ticks:{callback:Ga}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const t=this.getLabels();for(const{index:i,label:o}of e)t[i]===o&&t.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(qe(t))return null;const i=this.getLabels();return((t,e)=>null===t?null:Li(Math.round(t),0,e))(e=isFinite(e)&&i[e]===t?e:ja(i,t,Qe(e,t),this._addedLabels),i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:o}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(i=0),e||(o=this.getLabels().length-1)),this.min=i,this.max=o}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,o=[];let r=this.getLabels();r=0===t&&e===r.length-1?r:r.slice(t,e+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let i=t;i<=e;i++)o.push({value:i});return o}getLabelForValue(t){return Ga.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function qa(t,e){const i=[],{bounds:o,step:r,min:n,max:a,precision:s,count:l,maxTicks:u,maxDigits:h,includeBounds:c}=t,d=r||1,p=u-1,{min:b,max:g}=e,m=!qe(n),f=!qe(a),v=!qe(l),w=(g-b)/(h+1);let C,y,x,A,E=Ei((g-b)/p/d)*d;if(E<1e-14&&!m&&!f)return[{value:b},{value:g}];A=Math.ceil(g/E)-Math.floor(b/E),A>p&&(E=Ei(A*E/p/d)*d),qe(s)||(C=Math.pow(10,s),E=Math.ceil(E*C)/C),"ticks"===o?(y=Math.floor(b/E)*E,x=Math.ceil(g/E)*E):(y=b,x=g),m&&f&&r&&function(t,e){const i=Math.round(t);return i-e<=t&&i+e>=t}((a-n)/r,E/1e3)?(A=Math.round(Math.min((a-n)/E,u)),E=(a-n)/A,y=n,x=a):v?(y=m?n:y,x=f?a:x,A=l-1,E=(x-y)/A):(A=(x-y)/E,A=Ai(A,Math.round(A),E/1e3)?Math.round(A):Math.ceil(A));const k=Math.max(Mi(E),Mi(y));C=Math.pow(10,qe(s)?k:s),y=Math.round(y*C)/C,x=Math.round(x*C)/C;let B=0;for(m&&(c&&y!==n?(i.push({value:n}),y<n&&B++,Ai(Math.round((y+B*E)*C)/C,n,$a(n,w,t))&&B++):y<n&&B++);B<A;++B){const t=Math.round((y+B*E)*C)/C;if(f&&t>a)break;i.push({value:t})}return f&&c&&x!==a?i.length&&Ai(i[i.length-1].value,a,$a(a,w,t))?i[i.length-1].value=a:i.push({value:a}):f&&x!==a||i.push({value:x}),i}function $a(t,e,{horizontal:i,minRotation:o}){const r=_i(o),n=(i?Math.sin(r):Math.cos(r))||.001,a=.75*e*(""+t).length;return Math.min(e/n,a)}class Ya extends Tn{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return qe(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:o,max:r}=this;const n=t=>o=e?o:t,a=t=>r=i?r:t;if(t){const t=xi(o),e=xi(r);t<0&&e<0?a(0):t>0&&e>0&&n(0)}if(o===r){let e=0===r?1:Math.abs(.05*r);a(r+e),t||n(o-e)}this.min=o,this.max=r}getTickLimit(){const t=this.options.ticks;let e,{maxTicksLimit:i,stepSize:o}=t;return o?(e=Math.ceil(this.max/o)-Math.floor(this.min/o)+1,e>1e3&&(e=1e3)):(e=this.computeTickLimit(),i=i||11),i&&(e=Math.min(i,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const o=qa({maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&Bi(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const o=(i-e)/Math.max(t.length-1,1)/2;e-=o,i+=o}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return io(t,this.chart.options.locale,this.options.ticks.format)}}class Xa extends Ya{static id="linear";static defaults={ticks:{callback:ro.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Xe(t)?t:0,this.max=Xe(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=_i(this.options.ticks.minRotation),o=(t?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/o))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}ro.formatters.logarithmic;ro.formatters.numeric;const Ka="label";function Qa(t,e){"function"==typeof t?t(e):t&&(t.current=e)}function Ja(t,e){t.labels=e}function Za(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ka;const o=[];t.datasets=e.map((e=>{const r=t.datasets.find((t=>t[i]===e[i]));return r&&e.data&&!o.includes(r)?(o.push(r),Object.assign(r,e),r):{...e}}))}function ts(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ka;const i={labels:[],datasets:[]};return Ja(i,t.labels),Za(i,t.datasets,e),i}function es(t,e){const{height:i=150,width:r=300,redraw:n=!1,datasetIdKey:a,type:s,data:l,options:u,plugins:h=[],fallbackContent:c,updateMode:d,...p}=t,b=(0,o.useRef)(null),g=(0,o.useRef)(null),m=()=>{b.current&&(g.current=new la(b.current,{type:s,data:ts(l,a),options:u&&{...u},plugins:h}),Qa(e,g.current))},f=()=>{Qa(e,null),g.current&&(g.current.destroy(),g.current=null)};return(0,o.useEffect)((()=>{!n&&g.current&&u&&function(t,e){const i=t.options;i&&e&&Object.assign(i,e)}(g.current,u)}),[n,u]),(0,o.useEffect)((()=>{!n&&g.current&&Ja(g.current.config.data,l.labels)}),[n,l.labels]),(0,o.useEffect)((()=>{!n&&g.current&&l.datasets&&Za(g.current.config.data,l.datasets,a)}),[n,l.datasets]),(0,o.useEffect)((()=>{g.current&&(n?(f(),setTimeout(m)):g.current.update(d))}),[n,u,l.labels,l.datasets,d]),(0,o.useEffect)((()=>{g.current&&(f(),setTimeout(m))}),[s]),(0,o.useEffect)((()=>(m(),()=>f())),[]),o.createElement("canvas",{ref:b,role:"img",height:i,width:r,...p},c)}const is=(0,o.forwardRef)(es);function os(t,e){return la.register(e),(0,o.forwardRef)(((e,i)=>o.createElement(is,{...e,ref:i,type:t})))}const rs=os("bar",Lr),ns=os("pie",Fr);la.register(ba,Wa,ka);var as=t=>{let{data:e}=t;const i={labels:Object.keys(e).map((t=>`${t}:00`)),datasets:[{label:"    ",data:Object.values(e),backgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF","#FF9F40"],hoverOffset:4}]};return o.createElement(ns,{data:i})};la.register(Ua,Xa,ya,_a,Wa,ka);var ss=t=>{let{data:e}=t;const i=Object.keys(e),r=(Object.values(e),i.slice(0,10)),n={};r.forEach((t=>{n[t]=e[t]}));const a={first10Labels:r,datasets:[{label:"",data:n,backgroundColor:"rgba(75, 192, 192, 0.6)"}]};return o.createElement(rs,{options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"  "}}},data:a})};la.register(Ua,Xa,ya,_a,Wa,ka);var ls=t=>{const e=(t=>{const e={};for(const i in t){const o=t[i],r=Object.keys(o).map(Number).sort(((t,e)=>t-e));e[i]={},r.forEach((t=>{e[i][t]=o[t]}))}return e})(t.data),i=Array.from({length:24},((t,e)=>`${e}:00`)),r=Object.keys(e).map((t=>{const o=e[t];return{label:`User ${t}`,data:i.map((t=>{const e=parseInt(t.split(":")[0]);return o[e]||0})),backgroundColor:`rgba(${Math.floor(255*Math.random())}, ${Math.floor(255*Math.random())}, ${Math.floor(255*Math.random())}, 0.6)`}})),n={labels:i,datasets:r};return o.createElement(rs,{data:n,options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"      "}},scales:{x:{title:{display:!0,text:""}},y:{title:{display:!0,text:" "}}}}})};var us=()=>{const[t,e]=(0,o.useState)(null),[i,r]=(0,o.useState)(!0),[n,a]=(0,o.useState)(null),s=async t=>{try{r(!0);const i=await fetch(t);if(!i.ok)throw new Error("  ...");const o=await i.json();e(o.dashboard),a(null)}catch(i){if(t.startsWith("http"))try{const t=await fetch("/data_big.json");if(!t.ok)throw new Error("  ...");const i=await t.json();e(i.dashboard),a(null)}catch(t){a(t.message),e(null)}else a(i.message),e(null)}finally{r(!1)}};(0,o.useEffect)((()=>{s("https://shtmls.ru/dboard/observe/point/?d=data_big.json")}),[]);return{dashboardData:t,loading:i,error:n,fetchDataAllDay:()=>{s("https://shtmls.ru/dboard/observe/point/?d=data_big.json")},fetchData3day:()=>{s("https://shtmls.ru/dboard/observe/point/?d=data3day.json")}}};var hs=()=>{const{dashboardData:t,loading:e,error:i,fetchDataAllDay:r,fetchData3day:n}=us();return e?o.createElement("div",null," ..."):i?o.createElement("div",null,": ",i):t?o.createElement("div",{className:"container-fluid"},o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"col-md-6",id:"button_allday"},o.createElement("button",{onClick:r}," ")),o.createElement("div",{className:"col-md-6",id:"button_3day"},o.createElement("button",{onClick:n},"3 ")))),o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12",id:"tabulator"},o.createElement(he,{data:t.last_edit_data}))),o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-5",id:"pie-chart1"}),o.createElement("div",{className:"col-md-7",id:"bar-chart2"})),o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-5",id:"pie-hour"},o.createElement("h3",null,"     "),o.createElement(as,{data:t.hour_counts})),o.createElement("div",{className:"col-md-7",id:"pie-count"},o.createElement(ss,{data:t.name_counts}))),o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-12",id:"pie-hour"},o.createElement(ls,{data:t.hour_user_eventshour})))))):o.createElement("div",null,"  ")};r.render(o.createElement(hs,null),document.getElementById("root"))}();
//# sourceMappingURL=bundle.4b206450c8a27ac0ffd1.js.map